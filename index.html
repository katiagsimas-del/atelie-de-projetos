<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ateli√™ de Projetos - Gest√£o de Produtos</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --rosa-suave: #f8e8ee;
            --rosa-medio: #e6b8cc;
            --rosa-destaque: #d48fa8;
            --lavanda: #c8b6d9;
            --verde-menta: #b8d9cc;
            --bege-quente: #f5ebe0;
            --cinza-escuro: #4a4a4a;
            --branco: #ffffff;
            --sombra-suave: 0 4px 20px rgba(212, 143, 168, 0.15);
            --sombra-hover: 0 6px 30px rgba(212, 143, 168, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--rosa-suave) 0%, var(--bege-quente) 100%);
            color: var(--cinza-escuro);
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(232, 184, 204, 0.1) 0%, transparent 70%);
            animation: float 20s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(30px, 30px) rotate(10deg); }
        }

        .container {
            display: flex;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* Menu lateral */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 2.5rem 0;
            box-shadow: var(--sombra-suave);
            display: flex;
            flex-direction: column;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--rosa-destaque);
            text-align: center;
            margin-bottom: 0.5rem;
            animation: fadeInDown 0.8s ease;
        }

        .logo-subtitle {
            font-size: 0.85rem;
            text-align: center;
            color: var(--lavanda);
            margin-bottom: 3rem;
            font-weight: 300;
            letter-spacing: 1px;
            animation: fadeInDown 0.8s ease 0.2s backwards;
        }

        .nav-menu {
            list-style: none;
            flex: 1;
        }

        .nav-item {
            margin: 0.5rem 1.5rem;
            animation: fadeInLeft 0.6s ease backwards;
        }

        .nav-item:nth-child(1) { animation-delay: 0.3s; }
        .nav-item:nth-child(2) { animation-delay: 0.4s; }
        .nav-item:nth-child(3) { animation-delay: 0.5s; }
        .nav-item:nth-child(4) { animation-delay: 0.6s; }
        .nav-item:nth-child(5) { animation-delay: 0.7s; }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 1rem 1.2rem;
            color: var(--cinza-escuro);
            text-decoration: none;
            border-radius: 15px;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, var(--rosa-medio), var(--lavanda));
            transition: width 0.4s ease;
            z-index: -1;
            border-radius: 15px;
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            width: 100%;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--branco);
            transform: translateX(5px);
        }

        .nav-icon {
            margin-right: 1rem;
            font-size: 1.2rem;
        }

        /* Conte√∫do principal */
        .main-content {
            flex: 1;
            padding: 3rem 4rem;
            animation: fadeIn 1s ease;
        }

        .page-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page-section.active {
            display: block;
        }

        .header {
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease 0.4s backwards;
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--rosa-destaque);
            margin-bottom: 0.5rem;
        }

        .header p {
            color: var(--cinza-escuro);
            font-size: 1.1rem;
            opacity: 0.8;
        }

        /* Cards de estat√≠sticas */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--branco);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: var(--sombra-suave);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, var(--rosa-suave) 0%, transparent 70%);
            transition: all 0.5s ease;
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--sombra-hover);
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: inline-block;
            position: relative;
            z-index: 1;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--rosa-destaque);
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--cinza-escuro);
            opacity: 0.7;
            position: relative;
            z-index: 1;
        }

        /* A√ß√µes r√°pidas */
        .quick-actions {
            margin-bottom: 3rem;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--rosa-destaque);
            margin-bottom: 1.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .action-btn {
            display: inline-flex;
            align-items: center;
            padding: 1.2rem 2rem;
            background: linear-gradient(135deg, var(--rosa-destaque), var(--lavanda));
            color: var(--branco);
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            box-shadow: var(--sombra-suave);
            transition: all 0.4s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--sombra-hover);
        }

        .action-btn-icon {
            margin-right: 0.8rem;
            font-size: 1.3rem;
        }

        /* Grid de produtos */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .product-card {
            background: var(--branco);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--sombra-suave);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--rosa-destaque), var(--verde-menta));
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--sombra-hover);
        }

        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .product-status {
            display: inline-block;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-em-progresso {
            background: rgba(200, 182, 217, 0.3);
            color: var(--lavanda);
        }

        .status-concluido {
            background: rgba(184, 217, 204, 0.3);
            color: var(--verde-menta);
        }

        .status-ideia {
            background: rgba(230, 184, 204, 0.3);
            color: var(--rosa-destaque);
        }

        .product-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--rosa-suave);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .action-icon:hover {
            background: var(--rosa-destaque);
            transform: scale(1.1);
        }

        .product-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--cinza-escuro);
            margin-bottom: 0.8rem;
        }

        .product-type {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            background: var(--bege-quente);
            color: var(--cinza-escuro);
            border-radius: 15px;
            font-size: 0.85rem;
            margin-bottom: 1rem;
        }

        .product-description {
            color: var(--cinza-escuro);
            opacity: 0.7;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid rgba(74, 74, 74, 0.1);
        }

        .product-date {
            font-size: 0.85rem;
            opacity: 0.6;
        }

        .product-price {
            font-weight: 700;
            color: var(--rosa-destaque);
            font-size: 1.1rem;
        }

        /* Controles de filtro */
        .controls {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            border: none;
            border-radius: 50px;
            background: var(--branco);
            box-shadow: var(--sombra-suave);
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            box-shadow: var(--sombra-hover);
        }

        .search-box::before {
            content: 'üîç';
            position: absolute;
            left: 1.2rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
        }

        .filter-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.8rem 1.5rem;
            border: 2px solid var(--rosa-medio);
            background: var(--branco);
            color: var(--cinza-escuro);
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--rosa-destaque);
            color: var(--branco);
            border-color: var(--rosa-destaque);
            transform: translateY(-2px);
        }

        /* Formul√°rio */
        .form-container {
            background: var(--branco);
            border-radius: 30px;
            padding: 3rem;
            box-shadow: var(--sombra-suave);
            max-width: 900px;
        }

        .form-section {
            margin-bottom: 2.5rem;
        }

        .form-section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--rosa-destaque);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--cinza-escuro);
        }

        .required {
            color: var(--rosa-destaque);
        }

        input[type="text"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 1rem;
            border: 2px solid rgba(212, 143, 168, 0.2);
            border-radius: 15px;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--branco);
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--rosa-destaque);
            box-shadow: 0 0 0 3px rgba(212, 143, 168, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .radio-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .radio-option {
            position: relative;
        }

        .radio-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .radio-label {
            display: flex;
            align-items: center;
            padding: 0.8rem 1.5rem;
            border: 2px solid rgba(212, 143, 168, 0.3);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .radio-option input[type="radio"]:checked + .radio-label {
            background: var(--rosa-destaque);
            color: var(--branco);
            border-color: var(--rosa-destaque);
        }

        .radio-label:hover {
            border-color: var(--rosa-destaque);
            transform: translateY(-2px);
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 3rem;
        }

        .btn {
            flex: 1;
            padding: 1.2rem 2rem;
            border: none;
            border-radius: 50px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--rosa-destaque), var(--lavanda));
            color: var(--branco);
            box-shadow: var(--sombra-suave);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: var(--sombra-hover);
        }

        .btn-secondary {
            background: transparent;
            color: var(--cinza-escuro);
            border: 2px solid rgba(74, 74, 74, 0.2);
        }

        .btn-secondary:hover {
            background: var(--rosa-suave);
            border-color: var(--rosa-medio);
        }

        .success-message {
            display: none;
            background: var(--verde-menta);
            color: var(--branco);
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 600;
            animation: slideDown 0.5s ease;
        }

        .success-message.active {
            display: block;
        }

        .form-tip {
            background: rgba(200, 182, 217, 0.1);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            border-left: 4px solid var(--lavanda);
            margin-top: 1rem;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Post-its de coment√°rios */
        .comments-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
            min-height: 100px;
        }

        .postit {
            background: #fff740;
            padding: 1.5rem;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            animation: slideIn 0.3s ease;
            min-height: 150px;
            display: flex;
            flex-direction: column;
        }

        .postit.color-yellow { background: #fff740; }
        .postit.color-pink { background: #ffb3d9; }
        .postit.color-blue { background: #a8d8ff; }
        .postit.color-green { background: #b8f2b8; }
        .postit.color-orange { background: #ffd699; }
        .postit.color-purple { background: #e0b3ff; }

        .postit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
            font-size: 0.75rem;
            opacity: 0.7;
        }

        .postit-date {
            font-weight: 600;
        }

        .postit-delete {
            cursor: pointer;
            font-size: 1.2rem;
            line-height: 1;
            transition: all 0.3s ease;
        }

        .postit-delete:hover {
            color: #d32f2f;
            transform: scale(1.2);
        }

        .postit-content {
            flex: 1;
            font-size: 0.95rem;
            line-height: 1.4;
            color: #333;
            word-wrap: break-word;
        }

        .comment-input-group {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .comment-input {
            flex: 1;
        }

        .add-comment-btn {
            padding: 1rem 2rem;
            background: var(--lavanda);
            color: var(--branco);
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .add-comment-btn:hover {
            background: var(--rosa-destaque);
            transform: translateY(-2px);
        }

        /* URLs din√¢micas */
        .urls-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 1rem;
        }

        .url-item {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1rem;
            padding: 1rem;
            background: var(--rosa-suave);
            border-radius: 15px;
            align-items: center;
        }

        .url-item input,
        .url-item select {
            padding: 0.8rem;
        }

        .remove-url-btn {
            padding: 0.8rem 1.2rem;
            background: transparent;
            color: var(--rosa-destaque);
            border: 2px solid var(--rosa-destaque);
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .remove-url-btn:hover {
            background: var(--rosa-destaque);
            color: var(--branco);
        }

        .add-url-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            background: var(--verde-menta);
            color: var(--branco);
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .add-url-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--sombra-suave);
        }

        /* Arquivos de download */
        .files-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            margin-top: 1rem;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--bege-quente);
            border-radius: 15px;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .file-icon {
            font-size: 1.5rem;
        }

        .file-name {
            font-weight: 600;
            color: var(--cinza-escuro);
        }

        .file-size {
            font-size: 0.85rem;
            opacity: 0.6;
        }

        .remove-file-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            color: var(--rosa-destaque);
            border: 2px solid var(--rosa-destaque);
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .remove-file-btn:hover {
            background: var(--rosa-destaque);
            color: var(--branco);
        }

        .file-upload-area {
            border: 2px dashed var(--rosa-medio);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(248, 232, 238, 0.3);
        }

        .file-upload-area:hover {
            border-color: var(--rosa-destaque);
            background: var(--rosa-suave);
        }

        .file-upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.6;
        }

        .file-upload-text {
            font-size: 1rem;
            color: var(--cinza-escuro);
            opacity: 0.8;
        }

        .file-upload-hint {
            font-size: 0.85rem;
            opacity: 0.6;
            margin-top: 0.5rem;
        }

        /* Tabela financeira */
        .financial-table {
            width: 100%;
            margin-top: 1rem;
            background: var(--branco);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .financial-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr auto;
            gap: 1rem;
            padding: 1rem;
            align-items: center;
            border-bottom: 1px solid rgba(212, 143, 168, 0.1);
        }

        .financial-row:last-child {
            border-bottom: none;
        }

        .financial-row input {
            padding: 0.8rem;
            margin-bottom: 0;
        }

        .financial-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: var(--lavanda);
            color: var(--branco);
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 15px;
            margin-top: 1rem;
        }

        .add-cost-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            background: var(--lavanda);
            color: var(--branco);
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .add-cost-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--sombra-suave);
        }

        /* Checkbox personalizado */
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--rosa-destaque);
        }

        .checkbox-label {
            cursor: pointer;
            font-weight: 600;
        }

        /* Ikigai Visual */
        .ikigai-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .ikigai-box {
            background: linear-gradient(135deg, var(--rosa-suave), var(--bege-quente));
            padding: 1.5rem;
            border-radius: 15px;
            border-left: 4px solid var(--rosa-destaque);
        }

        .ikigai-box.paixao { border-left-color: #ff6b9d; }
        .ikigai-box.missao { border-left-color: #c8b6d9; }
        .ikigai-box.vocacao { border-left-color: #b8d9cc; }
        .ikigai-box.bom-nisso { border-left-color: #ffd699; }

        .ikigai-label {
            font-weight: 700;
            color: var(--cinza-escuro);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .ikigai-box textarea {
            width: 100%;
            min-height: 80px;
            border: none;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            padding: 0.8rem;
            font-family: 'Nunito', sans-serif;
        }

        /* M√©todo - Passo a Passo */
        .metodo-steps {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 1rem;
        }

        .metodo-step {
            background: var(--branco);
            padding: 1.5rem;
            border-radius: 15px;
            border-left: 4px solid var(--lavanda);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .metodo-step-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .metodo-step-number {
            width: 35px;
            height: 35px;
            background: var(--lavanda);
            color: var(--branco);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .metodo-step-input {
            flex: 1;
        }

        .add-step-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            background: var(--lavanda);
            color: var(--branco);
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .add-step-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--sombra-suave);
        }

        /* Promessa e Benef√≠cios */
        .promessa-box {
            background: linear-gradient(135deg, var(--verde-menta), var(--lavanda));
            color: var(--branco);
            padding: 2rem;
            border-radius: 20px;
            margin-top: 1rem;
            box-shadow: var(--sombra-suave);
        }

        .promessa-label {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .promessa-box textarea {
            width: 100%;
            min-height: 100px;
            border: none;
            border-radius: 15px;
            padding: 1rem;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
        }

        .beneficios-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            margin-top: 1rem;
        }

        .beneficio-item {
            display: flex;
            gap: 1rem;
            align-items: center;
            background: var(--rosa-suave);
            padding: 1rem;
            border-radius: 15px;
        }

        .beneficio-item input {
            flex: 1;
            border: none;
            background: var(--branco);
            padding: 0.8rem;
            border-radius: 10px;
        }

        .remove-beneficio-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            color: var(--rosa-destaque);
            border: 2px solid var(--rosa-destaque);
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .remove-beneficio-btn:hover {
            background: var(--rosa-destaque);
            color: var(--branco);
        }

        /* Cronograma */
        .cronograma-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .cronograma-item {
            background: var(--bege-quente);
            padding: 1rem;
            border-radius: 15px;
        }

        .cronograma-item label {
            font-size: 0.9rem;
            font-weight: 600;
            display: block;
            margin-bottom: 0.5rem;
        }

        .cronograma-item input[type="date"] {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid rgba(212, 143, 168, 0.2);
            border-radius: 10px;
            font-family: 'Nunito', sans-serif;
        }

        /* Se√ß√£o highlight */
        .section-highlight {
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.5), rgba(245, 235, 224, 0.5));
            padding: 2rem;
            border-radius: 20px;
            border: 2px dashed var(--rosa-medio);
            margin-top: 1rem;
        }

        .highlight-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--rosa-destaque);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* T√≠tulos de fases clic√°veis */
        .fase-link {
            text-decoration: none;
            color: var(--rosa-destaque);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .fase-link:hover {
            color: var(--lavanda);
            transform: translateX(5px);
        }

        .fase-link-icon {
            font-size: 1rem;
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .fase-link:hover .fase-link-icon {
            opacity: 1;
            transform: scale(1.2);
        }

        .fase-tooltip {
            font-size: 0.75rem;
            opacity: 0.6;
            font-weight: 400;
            margin-left: auto;
        }

        /* Cards de navega√ß√£o das fases */
        .fases-navigation {
            margin-bottom: 3rem;
        }

        .fases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .fase-card {
            background: var(--branco);
            border-radius: 25px;
            padding: 2.5rem;
            box-shadow: var(--sombra-suave);
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
            text-decoration: none;
            display: block;
        }

        .fase-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--rosa-destaque), var(--lavanda));
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .fase-card:hover::before {
            transform: scaleX(1);
        }

        .fase-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--sombra-hover);
            border-color: var(--rosa-medio);
        }

        .fase-card-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--rosa-suave), var(--bege-quente));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            transition: all 0.4s ease;
        }

        .fase-card:hover .fase-card-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .fase-card-number {
            font-size: 0.85rem;
            color: var(--rosa-destaque);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .fase-card-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            color: var(--cinza-escuro);
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        .fase-card-description {
            font-size: 0.95rem;
            color: var(--cinza-escuro);
            opacity: 0.7;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .fase-card-action {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--lavanda);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .fase-card-action-icon {
            transition: transform 0.3s ease;
        }

        .fase-card:hover .fase-card-action-icon {
            transform: translateX(5px);
        }

        /* Cores espec√≠ficas para cada fase */
        .fase-card.fase-1 .fase-card-icon {
            background: linear-gradient(135deg, #ff6b9d, #ff9dc6);
        }

        .fase-card.fase-2 .fase-card-icon {
            background: linear-gradient(135deg, #c8b6d9, #e0c9f0);
        }

        .fase-card.fase-3 .fase-card-icon {
            background: linear-gradient(135deg, #b8d9cc, #d1f0e5);
        }

        .fase-card.fase-4 .fase-card-icon {
            background: linear-gradient(135deg, #ffd699, #ffe4b8);
        }

        /* Cores para cards de tipos de produtos */
        .fase-card.fase-pensamentos .fase-card-icon {
            background: linear-gradient(135deg, #d48fa8, #e6b8cc);
        }

        .fase-card.fase-cursos .fase-card-icon {
            background: linear-gradient(135deg, #7cb8e8, #a8d8ff);
        }

        .fase-card.fase-ebook .fase-card-icon {
            background: linear-gradient(135deg, #9d7cbf, #c8a8e0);
        }

        .fase-card.fase-consultoria .fase-card-icon {
            background: linear-gradient(135deg, #f0a868, #ffc599);
        }

        .fase-card.fase-mentoria .fase-card-icon {
            background: linear-gradient(135deg, #68c4a8, #99ddc6);
        }

        .fase-card.fase-template .fase-card-icon {
            background: linear-gradient(135deg, #ff9999, #ffb3b3);
        }

        /* Formul√°rio das fases */
        .fases-form-container {
            display: none;
        }

        .fases-form-container.active {
            display: block;
        }

        /* Container individual de cada fase */
        .fase-container {
            display: none;
        }

        .fase-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Header da fase atual */
        .fase-header {
            background: linear-gradient(135deg, var(--rosa-suave), var(--bege-quente));
            padding: 2rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .fase-header-number {
            font-size: 0.9rem;
            color: var(--rosa-destaque);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .fase-header-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--cinza-escuro);
            margin-bottom: 0.5rem;
        }

        .fase-header-description {
            font-size: 1rem;
            opacity: 0.7;
        }

        /* Navega√ß√£o entre fases */
        .fase-navigation {
            display: flex;
            gap: 1rem;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid rgba(212, 143, 168, 0.2);
        }

        .fase-nav-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            padding: 1rem 2rem;
            background: var(--branco);
            color: var(--rosa-destaque);
            border: 2px solid var(--rosa-destaque);
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .fase-nav-btn:hover {
            background: var(--rosa-destaque);
            color: var(--branco);
            transform: translateY(-3px);
            box-shadow: var(--sombra-suave);
        }

        .fase-nav-btn.primary {
            background: var(--rosa-destaque);
            color: var(--branco);
        }

        .fase-nav-btn.primary:hover {
            background: var(--lavanda);
            border-color: var(--lavanda);
        }

        .fase-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .fase-nav-btn:disabled:hover {
            transform: none;
            background: var(--branco);
            color: var(--rosa-destaque);
        }

        /* Indicador de progresso */
        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(212, 143, 168, 0.3);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--rosa-destaque);
            transform: scale(1.3);
        }

        .progress-dot.completed {
            background: var(--verde-menta);
        }

        /* Resumo das Fases */
        .resumo-fases {
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.5), rgba(245, 235, 224, 0.5));
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 3rem;
            border: 2px solid rgba(212, 143, 168, 0.3);
        }

        .resumo-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--rosa-destaque);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .resumo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .resumo-item {
            background: var(--branco);
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: var(--sombra-suave);
        }

        .resumo-item strong {
            display: block;
            color: var(--rosa-destaque);
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .resumo-item p {
            color: var(--cinza-escuro);
            font-size: 1rem;
            line-height: 1.6;
            margin: 0;
        }

        .ai-assistant-link {
            background: var(--branco);
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: var(--sombra-suave);
            text-align: center;
        }

        .ai-assistant-link .fase-link {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .ai-assistant-link .hint {
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }

        /* Checkbox group */
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        /* Bot√£o copiar contexto */
        .btn-copiar-contexto {
            margin-top: 1rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--lavanda), var(--rosa-medio));
            color: var(--branco);
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: var(--sombra-suave);
        }

        .btn-copiar-contexto:hover {
            transform: translateY(-3px);
            box-shadow: var(--sombra-hover);
        }

        /* √Årea de importa√ß√£o do relat√≥rio */
        .importar-relatorio {
            background: linear-gradient(135deg, rgba(200, 182, 217, 0.2), rgba(230, 184, 204, 0.2));
            border: 2px dashed var(--lavanda);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .importar-relatorio h3 {
            font-family: 'Playfair Display', serif;
            color: var(--lavanda);
            margin-bottom: 1rem;
        }

        .importar-relatorio p {
            color: var(--cinza-escuro);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .importar-relatorio textarea {
            width: 100%;
            min-height: 150px;
            border: 2px solid var(--lavanda);
            border-radius: 15px;
            padding: 1rem;
            font-family: 'Nunito', sans-serif;
            margin-bottom: 1rem;
            resize: vertical;
        }

        .btn-importar {
            padding: 1rem 2rem;
            background: var(--lavanda);
            color: var(--branco);
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .btn-importar:hover {
            background: var(--rosa-destaque);
            transform: translateY(-3px);
        }

        /* Cards de Anota√ß√µes Clic√°veis */
        .anotacoes-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .anotacao-card {
            background: var(--branco);
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--sombra-suave);
            border: 2px solid transparent;
        }

        .anotacao-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--sombra-hover);
            border-color: var(--lavanda);
        }

        .anotacao-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--lavanda), var(--rosa-medio));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .anotacao-info {
            flex: 1;
        }

        .anotacao-info h4 {
            font-family: 'Playfair Display', serif;
            color: var(--rosa-destaque);
            font-size: 1.1rem;
            margin: 0 0 0.3rem 0;
        }

        .anotacao-info p {
            color: var(--cinza-escuro);
            font-size: 0.9rem;
            margin: 0;
        }

        .anotacao-arrow {
            font-size: 1.5rem;
            color: var(--lavanda);
            font-weight: bold;
        }

        /* Modal de Anota√ß√µes */
        .modal-anotacoes {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            overflow-y: auto;
        }

        .modal-anotacoes.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-anotacoes-content {
            background: var(--branco);
            border-radius: 25px;
            padding: 3rem;
            max-width: 800px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-anotacoes-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--bege-claro);
        }

        .modal-anotacoes-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--lavanda), var(--rosa-medio));
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .modal-anotacoes-title h2 {
            font-family: 'Playfair Display', serif;
            color: var(--rosa-destaque);
            font-size: 1.8rem;
            margin: 0;
        }

        .modal-anotacoes-title p {
            color: var(--cinza-escuro);
            margin: 0.3rem 0 0 0;
        }

        .modal-anotacoes-body {
            color: var(--cinza-escuro);
            font-size: 1.1rem;
            line-height: 1.8;
            white-space: pre-wrap;
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.3), rgba(245, 235, 224, 0.3));
            padding: 2rem;
            border-radius: 15px;
        }

        .modal-anotacoes-body:empty::before {
            content: 'üìù Nenhuma anota√ß√£o foi feita nesta fase.';
            color: var(--cinza-medio);
            font-style: italic;
        }

        .modal-anotacoes-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--rosa-destaque);
            color: var(--branco);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-anotacoes-close:hover {
            background: var(--lavanda);
            transform: rotate(90deg);
        }

        /* Bot√£o adicionar link */
        .btn-adicionar-link {
            padding: 0.8rem 1.5rem;
            background: var(--verde-menta);
            color: var(--branco);
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .btn-adicionar-link:hover {
            background: var(--rosa-destaque);
            transform: translateY(-2px);
        }

        /* Container de links */
        .link-item {
            background: var(--branco);
            border: 2px solid var(--bege-claro);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1rem;
            align-items: end;
        }

        .link-item input,
        .link-item select {
            width: 100%;
        }

        .link-item .btn-remover-link {
            background: #ff6b6b;
            color: var(--branco);
            border: none;
            border-radius: 8px;
            padding: 0.6rem 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .link-item .btn-remover-link:hover {
            background: #ff5252;
            transform: scale(1.05);
        }

        /* Barra de progresso no card */
        .progress-bar-container {
            width: 100%;
            height: 8px;
            background: var(--bege-claro);
            border-radius: 10px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--verde-menta), var(--lavanda));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-percentage {
            font-size: 0.85rem;
            color: var(--cinza-escuro);
            font-weight: 600;
            margin-top: 0.3rem;
        }

        /* Badge de plataforma */
        .platform-badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            background: linear-gradient(135deg, var(--azul-royal), var(--lavanda));
            color: var(--branco);
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Thumbnail no card */
        .product-thumbnail {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .product-thumbnail-placeholder {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, var(--bege-claro), var(--branco));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--cinza-medio);
        }

        /* Bot√µes de a√ß√£o no card */
        .product-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .product-action-btn {
            background: var(--branco);
            border: 2px solid var(--bege-claro);
            border-radius: 8px;
            padding: 0.4rem 0.8rem;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--cinza-escuro);
        }

        .product-action-btn:hover {
            border-color: var(--lavanda);
            background: var(--lavanda);
            color: var(--branco);
            transform: translateY(-2px);
        }

        /* Se√ß√£o de links no modal */
        .modal-links-section {
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.3), rgba(245, 235, 224, 0.3));
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .modal-links-section h3 {
            font-family: 'Playfair Display', serif;
            color: var(--rosa-destaque);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .modal-link-item {
            background: var(--branco);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 0.8rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--sombra-suave);
        }

        .modal-link-info {
            flex: 1;
        }

        .modal-link-categoria {
            font-size: 0.8rem;
            color: var(--lavanda);
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 0.3rem;
        }

        .modal-link-titulo {
            font-weight: 600;
            color: var(--cinza-escuro);
            margin-bottom: 0.2rem;
        }

        .modal-link-url {
            font-size: 0.85rem;
            color: var(--cinza-medio);
            word-break: break-all;
        }

        .modal-link-btn {
            padding: 0.5rem 1rem;
            background: var(--lavanda);
            color: var(--branco);
            border: none;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .modal-link-btn:hover {
            background: var(--rosa-destaque);
            transform: translateY(-2px);
        }

        /* ETAPA 2: Upload de Imagens */
        .upload-options {
            margin-top: 0.5rem;
        }

        .upload-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .upload-tab {
            flex: 1;
            padding: 0.8rem;
            background: var(--branco);
            border: 2px solid var(--bege-claro);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--cinza-escuro);
        }

        .upload-tab:hover {
            border-color: var(--lavanda);
        }

        .upload-tab.active {
            background: linear-gradient(135deg, var(--lavanda), var(--rosa-medio));
            color: var(--branco);
            border-color: var(--lavanda);
        }

        .upload-content {
            display: none;
        }

        .upload-content.active {
            display: block;
        }

        .upload-area {
            border: 3px dashed var(--bege-claro);
            border-radius: 15px;
            padding: 3rem 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.1), rgba(245, 235, 224, 0.1));
        }

        .upload-area:hover {
            border-color: var(--lavanda);
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.3), rgba(245, 235, 224, 0.3));
            transform: translateY(-2px);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .upload-text {
            font-weight: 600;
            color: var(--cinza-escuro);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .upload-hint {
            color: var(--cinza-medio);
            font-size: 0.9rem;
        }

        .image-preview {
            margin-top: 1rem;
            text-align: center;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 300px;
            border-radius: 15px;
            box-shadow: var(--sombra-suave);
            margin-bottom: 1rem;
        }

        .btn-remover-imagem {
            background: #ff6b6b;
            color: var(--branco);
            border: none;
            border-radius: 10px;
            padding: 0.8rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-remover-imagem:hover {
            background: #ff5252;
            transform: scale(1.05);
        }

        /* ETAPA 2: Lista de Arquivos */
        .files-list {
            margin-top: 1rem;
        }

        .file-item {
            background: var(--branco);
            border: 2px solid var(--bege-claro);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .file-item:hover {
            border-color: var(--lavanda);
            transform: translateX(5px);
        }

        .file-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--lavanda), var(--rosa-medio));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            color: var(--cinza-escuro);
            margin-bottom: 0.3rem;
        }

        .file-size {
            font-size: 0.85rem;
            color: var(--cinza-medio);
        }

        .file-actions {
            display: flex;
            gap: 0.5rem;
        }

        .file-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .file-btn-download {
            background: var(--verde-menta);
            color: var(--branco);
        }

        .file-btn-download:hover {
            background: var(--lavanda);
            transform: translateY(-2px);
        }

        .file-btn-delete {
            background: #ff6b6b;
            color: var(--branco);
        }

        .file-btn-delete:hover {
            background: #ff5252;
            transform: scale(1.05);
        }

        /* ETAPA 2: Checklist de Progresso */
        .checklist-container {
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.2), rgba(245, 235, 224, 0.2));
            border-radius: 15px;
            padding: 1.5rem;
        }

        .checklist-fase {
            margin-bottom: 1.5rem;
            background: var(--branco);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: var(--sombra-suave);
        }

        .checklist-fase:last-child {
            margin-bottom: 0;
        }

        .checklist-fase-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--bege-claro);
        }

        .checklist-icon {
            font-size: 1.5rem;
        }

        .checklist-fase-titulo {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--rosa-destaque);
        }

        .checklist-items {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--branco);
        }

        .checklist-item:hover {
            background: var(--bege-claro);
            transform: translateX(5px);
        }

        .checklist-item input[type="checkbox"] {
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: var(--lavanda);
        }

        .checklist-item span {
            color: var(--cinza-escuro);
            font-weight: 500;
        }

        .checklist-item input[type="checkbox"]:checked + span {
            color: var(--lavanda);
            text-decoration: line-through;
        }

        .progresso-calculado {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: var(--branco);
            border-radius: 12px;
            box-shadow: var(--sombra-suave);
        }

        .progresso-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
        }

        .progresso-label {
            font-weight: 700;
            color: var(--cinza-escuro);
            font-size: 1.1rem;
        }

        .progresso-valor {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--verde-menta), var(--lavanda));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ETAPA 3: Sistema de Abas no Modal */
        .modal-tabs {
            display: flex;
            gap: 0.5rem;
            border-bottom: 2px solid var(--bege-claro);
            margin-bottom: 1.5rem;
            overflow-x: auto;
        }

        .modal-tab {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: 600;
            color: var(--cinza-medio);
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 0.95rem;
        }

        .modal-tab:hover {
            color: var(--rosa-destaque);
            background: rgba(248, 232, 238, 0.3);
        }

        .modal-tab.active {
            color: var(--rosa-destaque);
            border-bottom-color: var(--rosa-destaque);
            background: rgba(248, 232, 238, 0.5);
        }

        .modal-tab-content {
            display: none;
        }

        .modal-tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ETAPA 3: Galeria de Imagens */
        .gallery-section {
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.2), rgba(245, 235, 224, 0.2));
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .gallery-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--sombra-suave);
        }

        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(202, 158, 230, 0.3);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-item-delete {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 107, 107, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .gallery-item:hover .gallery-item-delete {
            opacity: 1;
        }

        .gallery-upload-area {
            aspect-ratio: 1;
            border: 3px dashed var(--lavanda);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(248, 232, 238, 0.1);
        }

        .gallery-upload-area:hover {
            background: rgba(248, 232, 238, 0.3);
            border-color: var(--rosa-destaque);
        }

        .gallery-upload-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .gallery-upload-text {
            font-size: 0.85rem;
            color: var(--cinza-medio);
            font-weight: 600;
        }

        /* ETAPA 3: Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .lightbox-image {
            max-width: 100%;
            max-height: 90vh;
            border-radius: 8px;
            box-shadow: 0 0 50px rgba(202, 158, 230, 0.5);
        }

        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lightbox-close:hover {
            background: var(--rosa-destaque);
            transform: rotate(90deg);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 50%;
        }

        .lightbox-nav:hover {
            background: var(--lavanda);
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        /* ETAPA 3: Bot√µes de Exporta√ß√£o */
        .export-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .btn-export {
            flex: 1;
            min-width: 150px;
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .btn-export-pdf {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
        }

        .btn-export-pdf:hover {
            background: linear-gradient(135deg, #ff5252, #ff7575);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .btn-export-json {
            background: linear-gradient(135deg, var(--lavanda), var(--rosa-medio));
            color: white;
        }

        .btn-export-json:hover {
            background: linear-gradient(135deg, var(--rosa-medio), var(--rosa-destaque));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(202, 158, 230, 0.3);
        }

        .btn-import-json {
            background: linear-gradient(135deg, var(--verde-menta), #6ecf8e);
            color: white;
        }

        .btn-import-json:hover {
            background: linear-gradient(135deg, #5ac27d, var(--verde-menta));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 207, 142, 0.3);
        }

        .back-to-cards-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            background: transparent;
            color: var(--rosa-destaque);
            border: 2px solid var(--rosa-destaque);
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .back-to-cards-btn:hover {
            background: var(--rosa-destaque);
            color: var(--branco);
            transform: translateX(-5px);
        }

        /* Campo de texto longo */
        .texto-longo-field {
            margin-top: 2rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(248, 232, 238, 0.3), rgba(245, 235, 224, 0.3));
            border-radius: 20px;
            border: 2px solid rgba(212, 143, 168, 0.2);
        }

        .texto-longo-label {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--rosa-destaque);
            margin-bottom: 1rem;
            display: block;
        }

        .texto-longo-field textarea {
            width: 100%;
            min-height: 200px;
            border: 2px solid rgba(212, 143, 168, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            line-height: 1.8;
            resize: vertical;
        }

        .texto-longo-field textarea:focus {
            border-color: var(--rosa-destaque);
            outline: none;
            box-shadow: 0 0 0 3px rgba(212, 143, 168, 0.1);
        }

        /* Chat de Brainstorming */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--branco);
            border-radius: 30px;
            box-shadow: var(--sombra-suave);
            overflow: hidden;
            max-height: 70vh;
        }

        .quick-prompts {
            padding: 2rem;
            border-bottom: 2px solid var(--rosa-suave);
        }

        .quick-prompts-title {
            font-weight: 700;
            color: var(--cinza-escuro);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .prompts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
        }

        .prompt-card {
            background: var(--rosa-suave);
            padding: 1.2rem;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .prompt-card:hover {
            background: var(--rosa-medio);
            transform: translateY(-3px);
            border-color: var(--rosa-destaque);
        }

        .prompt-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .prompt-text {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--cinza-escuro);
        }

        .messages-area {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            min-height: 300px;
        }

        .message {
            display: flex;
            gap: 1rem;
            animation: slideIn 0.4s ease;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, var(--rosa-destaque), var(--lavanda));
        }

        .message.user .message-avatar {
            background: var(--verde-menta);
        }

        .message-content {
            max-width: 70%;
            padding: 1.2rem 1.5rem;
            border-radius: 20px;
            line-height: 1.6;
        }

        .message.ai .message-content {
            background: var(--rosa-suave);
            border-bottom-left-radius: 5px;
        }

        .message.user .message-content {
            background: var(--bege-quente);
            border-bottom-right-radius: 5px;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            color: var(--lavanda);
            font-style: italic;
        }

        .typing-indicator.active {
            display: flex;
        }

        .typing-dots {
            display: flex;
            gap: 0.3rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--lavanda);
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .input-area {
            padding: 1.5rem 2rem;
            border-top: 2px solid var(--rosa-suave);
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
        }

        #messageInput {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 2px solid var(--rosa-suave);
            border-radius: 25px;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            resize: none;
            max-height: 120px;
            transition: all 0.3s ease;
        }

        #messageInput:focus {
            outline: none;
            border-color: var(--rosa-destaque);
            box-shadow: 0 0 0 3px rgba(212, 143, 168, 0.1);
        }

        #sendButton {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--rosa-destaque), var(--lavanda));
            color: var(--branco);
            border: none;
            border-radius: 25px;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #sendButton:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: var(--sombra-hover);
        }

        #sendButton:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .new-chat-btn {
            margin-bottom: 2rem;
            padding: 1rem 2rem;
            background: var(--verde-menta);
            color: var(--branco);
            border: none;
            border-radius: 50px;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            box-shadow: var(--sombra-suave);
        }

        .new-chat-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--sombra-hover);
        }

        /* Hist√≥rico de conversas salvas */
        .saved-conversations {
            margin-bottom: 2rem;
        }

        .conversations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .conversation-card {
            background: var(--branco);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: var(--sombra-suave);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border-left: 4px solid var(--rosa-destaque);
        }

        .conversation-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--sombra-hover);
        }

        .conversation-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 60px;
            height: 60px;
            background: var(--rosa-suave);
            border-radius: 0 0 0 100%;
            opacity: 0.5;
        }

        .conversation-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.8rem;
            position: relative;
            z-index: 1;
        }

        .conversation-icon {
            font-size: 1.5rem;
        }

        .conversation-date {
            font-size: 0.75rem;
            color: var(--cinza-escuro);
            opacity: 0.6;
        }

        .conversation-summary {
            font-size: 0.95rem;
            color: var(--cinza-escuro);
            line-height: 1.5;
            margin-bottom: 0.8rem;
            font-weight: 600;
            position: relative;
            z-index: 1;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .conversation-preview {
            font-size: 0.85rem;
            color: var(--cinza-escuro);
            opacity: 0.6;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .conversation-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            padding-top: 0.8rem;
            border-top: 1px solid rgba(74, 74, 74, 0.1);
            position: relative;
            z-index: 1;
        }

        .conversation-messages-count {
            font-size: 0.8rem;
            color: var(--lavanda);
            font-weight: 600;
        }

        .conversation-actions {
            display: flex;
            gap: 0.5rem;
        }

        .conversation-action-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--rosa-suave);
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .conversation-action-btn:hover {
            background: var(--rosa-destaque);
            transform: scale(1.1);
        }

        /* Modal de detalhes da conversa */
        .conversation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            padding: 2rem;
            overflow-y: auto;
        }

        .conversation-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .conversation-modal-content {
            background: var(--branco);
            border-radius: 30px;
            padding: 3rem;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--sombra-hover);
            animation: slideUp 0.4s ease;
        }

        .conversation-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--rosa-suave);
        }

        .conversation-modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--rosa-destaque);
            margin-bottom: 0.5rem;
        }

        .conversation-modal-meta {
            font-size: 0.9rem;
            opacity: 0.6;
        }

        .conversation-modal-messages {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .modal-message {
            display: flex;
            gap: 1rem;
        }

        .modal-message.user {
            flex-direction: row-reverse;
        }

        .modal-message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .modal-message.ai .modal-message-avatar {
            background: linear-gradient(135deg, var(--rosa-destaque), var(--lavanda));
        }

        .modal-message.user .modal-message-avatar {
            background: var(--verde-menta);
        }

        .modal-message-content {
            max-width: 80%;
            padding: 1.2rem 1.5rem;
            border-radius: 20px;
            line-height: 1.6;
        }

        .modal-message.ai .modal-message-content {
            background: var(--rosa-suave);
            border-bottom-left-radius: 5px;
        }

        .modal-message.user .modal-message-content {
            background: var(--bege-quente);
            border-bottom-right-radius: 5px;
        }

        .empty-conversations {
            text-align: center;
            padding: 3rem 2rem;
            opacity: 0.5;
            background: var(--rosa-suave);
            border-radius: 20px;
        }

        .empty-conversations-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* Biblioteca */
        .category-section {
            margin-bottom: 4rem;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .category-icon {
            font-size: 2.5rem;
        }

        .category-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--rosa-destaque);
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .resource-card {
            background: var(--branco);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--sombra-suave);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .resource-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--rosa-destaque), var(--verde-menta));
        }

        .resource-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--sombra-hover);
        }

        .resource-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .resource-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--cinza-escuro);
            margin-bottom: 0.8rem;
        }

        .resource-description {
            color: var(--cinza-escuro);
            opacity: 0.7;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            flex: 1;
        }

        .resource-btn {
            padding: 0.8rem;
            background: var(--rosa-suave);
            color: var(--cinza-escuro);
            text-decoration: none;
            border-radius: 15px;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
        }

        .resource-btn:hover {
            background: var(--rosa-destaque);
            color: var(--branco);
            transform: translateY(-2px);
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .tip-card {
            background: linear-gradient(135deg, var(--lavanda), var(--verde-menta));
            color: var(--branco);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: var(--sombra-suave);
            transition: all 0.3s ease;
        }

        .tip-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--sombra-hover);
        }

        .tip-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .tip-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.8rem;
        }

        .tip-text {
            line-height: 1.6;
            opacity: 0.95;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            padding: 2rem;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--branco);
            border-radius: 30px;
            padding: 3rem;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--sombra-hover);
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--rosa-suave);
        }

        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--rosa-destaque);
        }

        .close-modal {
            font-size: 2rem;
            cursor: pointer;
            color: var(--cinza-escuro);
            opacity: 0.5;
            transition: all 0.3s ease;
            line-height: 1;
        }

        .close-modal:hover {
            opacity: 1;
            transform: rotate(90deg);
        }

        .modal-body {
            color: var(--cinza-escuro);
            line-height: 1.8;
        }

        .modal-body h3 {
            color: var(--rosa-destaque);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .modal-body ul {
            margin-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .modal-body li {
            margin-bottom: 0.8rem;
        }

        .modal-section {
            margin-bottom: 2rem;
        }

        .modal-section h3 {
            font-size: 1.2rem;
            color: var(--cinza-escuro);
            margin-bottom: 0.8rem;
        }

        .modal-section p {
            color: var(--cinza-escuro);
            opacity: 0.8;
            line-height: 1.6;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .modal-btn {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 50px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-edit {
            background: var(--lavanda);
            color: var(--branco);
        }

        .btn-delete {
            background: transparent;
            color: var(--rosa-destaque);
            border: 2px solid var(--rosa-destaque);
        }

        .modal-btn:hover {
            transform: translateY(-3px);
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            opacity: 0.6;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }

        .empty-state p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .empty-state-btn {
            display: inline-block;
            padding: 1rem 2rem;
            background: var(--rosa-destaque);
            color: var(--branco);
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .empty-state-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--sombra-hover);
        }

        /* Rodap√© */
        footer {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem 4rem;
            text-align: center;
            color: var(--cinza-escuro);
            opacity: 0.7;
            margin-top: 4rem;
        }

        .back-to-top {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: var(--rosa-medio);
            color: var(--branco);
            text-decoration: none;
            border-radius: 30px;
            margin-top: 1rem;
            transition: all 0.3s ease;
            font-weight: 600;
            cursor: pointer;
        }

        .back-to-top:hover {
            background: var(--rosa-destaque);
            transform: translateY(-3px);
        }

        /* Anima√ß√µes */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsivo */
        @media (max-width: 968px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }

            .main-content {
                padding: 2rem;
            }

            .stats-grid,
            .products-grid,
            .resources-grid {
                grid-template-columns: 1fr;
            }

            .form-container {
                padding: 2rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .form-actions {
                flex-direction: column;
            }

            .controls {
                flex-direction: column;
            }

            .search-box {
                min-width: 100%;
            }

            .message-content {
                max-width: 85%;
            }

            .prompts-grid,
            .tips-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Menu Lateral -->
        <aside class="sidebar">
            <h1 class="logo">Ateli√™ de Projetos</h1>
            <p class="logo-subtitle">Seu espa√ßo criativo</p>
            
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <div class="nav-link active" onclick="navegarPara('dashboard')">
                            <span class="nav-icon">üè†</span>
                            <span>Dashboard</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="navegarPara('produtos')">
                            <span class="nav-icon">üì¶</span>
                            <span>Meus Produtos</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="navegarPara('novo')">
                            <span class="nav-icon">‚ú®</span>
                            <span>Novo Produto</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="navegarPara('brainstorming')">
                            <span class="nav-icon">üí°</span>
                            <span>Brainstorming IA</span>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" onclick="navegarPara('biblioteca')">
                            <span class="nav-icon">üìö</span>
                            <span>Biblioteca</span>
                        </div>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Conte√∫do Principal -->
        <main class="main-content">
            <!-- DASHBOARD -->
            <section id="dashboard" class="page-section active">
                <header class="header">
                    <h1>Bem-vinda de volta! ‚ú®</h1>
                    <p>Aqui est√° um resumo dos seus projetos e cria√ß√µes</p>
                </header>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-number" id="totalProdutos">0</div>
                        <div class="stat-label">Produtos Criados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-number" id="emProgresso">0</div>
                        <div class="stat-label">Em Progresso</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-number" id="concluidos">0</div>
                        <div class="stat-label">Conclu√≠dos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí°</div>
                        <div class="stat-number" id="ideias">0</div>
                        <div class="stat-label">Ideias</div>
                    </div>
                </div>

                <section class="quick-actions">
                    <h2 class="section-title">A√ß√µes R√°pidas</h2>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="navegarPara('novo')">
                            <span class="action-btn-icon">‚ú®</span>
                            Criar Novo Produto
                        </button>
                        <button class="action-btn" onclick="navegarPara('brainstorming')">
                            <span class="action-btn-icon">üí°</span>
                            Brainstorming com IA
                        </button>
                        <button class="action-btn" onclick="navegarPara('biblioteca')">
                            <span class="action-btn-icon">üìö</span>
                            Ver Biblioteca
                        </button>
                    </div>
                </section>

                <section class="recent-products">
                    <h2 class="section-title">Produtos Recentes</h2>
                    <div class="products-grid" id="recentProducts"></div>
                </section>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- MEUS PRODUTOS -->
            <section id="produtos" class="page-section">
                <header class="header">
                    <h1>Meus Produtos üì¶</h1>
                    <p>Gerencie todos os seus produtos e infoprodutos em um s√≥ lugar</p>
                </header>

                <div class="controls">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Buscar produtos...">
                    </div>
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="todos">Todos</button>
                        <button class="filter-btn" data-filter="ideia">üí° Ideias</button>
                        <button class="filter-btn" data-filter="em-progresso">‚ö° Em Progresso</button>
                        <button class="filter-btn" data-filter="concluido">‚úÖ Conclu√≠dos</button>
                    </div>
                </div>

                <div id="productsContainer"></div>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- NOVO PRODUTO -->
            <section id="novo" class="page-section">
                <header class="header">
                    <h1 id="pageTitle">Criar Novo Produto ‚ú®</h1>
                    <p>Escolha o tipo de produto que deseja criar</p>
                </header>

                <!-- Cards Principais de Tipos de Produtos -->
                <div class="fases-navigation" id="mainCardsNavigation">
                    <div class="fases-grid">
                        <!-- Card Pensamentos -->
                        <a href="#" class="fase-card fase-pensamentos" onclick="mostrarFasesPensamentos(); return false;">
                            <div class="fase-card-icon">üí≠</div>
                            <div class="fase-card-number">ESTRAT√âGIA</div>
                            <h3 class="fase-card-title">Pensamentos</h3>
                            <p class="fase-card-description">
                                Desenvolva a estrat√©gia do seu infoproduto atrav√©s das 4 fases do Mapa do Infoproduto: poder digital, m√©todo, promessa e mercado.
                            </p>
                            <span class="fase-card-action">
                                Acessar Fases Estrat√©gicas
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <!-- Card Cursos -->
                        <a href="#" class="fase-card fase-cursos" onclick="abrirTipoProduto('cursos'); return false;">
                            <div class="fase-card-icon">üéì</div>
                            <div class="fase-card-number">EDUCA√á√ÉO</div>
                            <h3 class="fase-card-title">Cursos</h3>
                            <p class="fase-card-description">
                                Estruture cursos online completos com m√≥dulos, aulas, materiais complementares e estrat√©gias de engajamento.
                            </p>
                            <span class="fase-card-action">
                                Criar Curso
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <!-- Card E-book -->
                        <a href="#" class="fase-card fase-ebook" onclick="abrirTipoProduto('ebook'); return false;">
                            <div class="fase-card-icon">üìö</div>
                            <div class="fase-card-number">CONTE√öDO</div>
                            <h3 class="fase-card-title">E-book</h3>
                            <p class="fase-card-description">
                                Organize e-books com estrutura de cap√≠tulos, conte√∫do escrito, recursos visuais e materiais b√¥nus.
                            </p>
                            <span class="fase-card-action">
                                Criar E-book
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <!-- Card Consultorias -->
                        <a href="#" class="fase-card fase-consultoria" onclick="abrirTipoProduto('consultorias'); return false;">
                            <div class="fase-card-icon">üíº</div>
                            <div class="fase-card-number">SERVI√áO</div>
                            <h3 class="fase-card-title">Consultorias</h3>
                            <p class="fase-card-description">
                                Planeje consultorias individuais com escopo, metodologia, entreg√°veis e precifica√ß√£o personalizada.
                            </p>
                            <span class="fase-card-action">
                                Criar Consultoria
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <!-- Card Mentorias -->
                        <a href="#" class="fase-card fase-mentoria" onclick="abrirTipoProduto('mentorias'); return false;">
                            <div class="fase-card-icon">üéØ</div>
                            <div class="fase-card-number">ACOMPANHAMENTO</div>
                            <h3 class="fase-card-title">Mentorias</h3>
                            <p class="fase-card-description">
                                Estruture programas de mentoria individual ou em grupo com cronograma, encontros e materiais de suporte.
                            </p>
                            <span class="fase-card-action">
                                Criar Mentoria
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <!-- Card Templates -->
                        <a href="#" class="fase-card fase-template" onclick="abrirTipoProduto('templates'); return false;">
                            <div class="fase-card-icon">üé®</div>
                            <div class="fase-card-number">FERRAMENTA</div>
                            <h3 class="fase-card-title">Templates</h3>
                            <p class="fase-card-description">
                                Crie templates prontos para uso: planilhas, designs, documentos e materiais edit√°veis para seu p√∫blico.
                            </p>
                            <span class="fase-card-action">
                                Criar Template
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>
                    </div>
                </div>

                <!-- Submenu: Cards das 4 Fases (dentro de Pensamentos) -->
                <div class="fases-navigation" id="fasesNavigation" style="display: none;">
                    <button type="button" class="back-to-cards-btn" onclick="voltarParaMainCards()">
                        ‚Üê Voltar ao Menu Principal
                    </button>
                    
                    <h2 style="font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--rosa-destaque); margin-bottom: 2rem; text-align: center;">
                        üí≠ Pensamentos - Fases Estrat√©gicas
                    </h2>
                    
                    <div class="fases-grid">
                        <a href="#" class="fase-card fase-1" onclick="navegarParaFase(1); return false;">
                            <div class="fase-card-icon">‚ö°</div>
                            <div class="fase-card-number">FASE 1</div>
                            <h3 class="fase-card-title">Identificando seu Poder Digital</h3>
                            <p class="fase-card-description">
                                Descubra suas habilidades, defina o problema que vai resolver e encontre seu prop√≥sito com a Mandala Ikigai.
                            </p>
                            <span class="fase-card-action">
                                Come√ßar Fase 1
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <a href="#" class="fase-card fase-2" onclick="navegarParaFase(2); return false;">
                            <div class="fase-card-icon">üß†</div>
                            <div class="fase-card-number">FASE 2</div>
                            <h3 class="fase-card-title">Brainstorm e M√©todo</h3>
                            <p class="fase-card-description">
                                Organize suas ideias, desenhe seu m√©todo passo a passo e estruture o caminho do aluno.
                            </p>
                            <span class="fase-card-action">
                                Come√ßar Fase 2
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <a href="#" class="fase-card fase-3" onclick="navegarParaFase(3); return false;">
                            <div class="fase-card-icon">üéÅ</div>
                            <div class="fase-card-number">FASE 3</div>
                            <h3 class="fase-card-title">Promessa, Oferta e Nome</h3>
                            <p class="fase-card-description">
                                Crie uma promessa magn√©tica, escolha um nome persuasivo e estruture uma oferta irresist√≠vel.
                            </p>
                            <span class="fase-card-action">
                                Come√ßar Fase 3
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>

                        <a href="#" class="fase-card fase-4" onclick="navegarParaFase(4); return false;">
                            <div class="fase-card-icon">üéØ</div>
                            <div class="fase-card-number">FASE 4</div>
                            <h3 class="fase-card-title">P√∫blico e Mercado</h3>
                            <p class="fase-card-description">
                                Defina seu p√∫blico-alvo, estruture a entrega e organize os recursos necess√°rios.
                            </p>
                            <span class="fase-card-action">
                                Come√ßar Fase 4
                                <span class="fase-card-action-icon">‚Üí</span>
                            </span>
                        </a>
                    </div>
                </div>

                <!-- Formul√°rio das Fases -->
                <div class="fases-form-container" id="fasesFormContainer">
                    <button type="button" class="back-to-cards-btn" onclick="voltarParaCards()">
                        ‚Üê Voltar para as Fases
                    </button>

                    <!-- Indicador de progresso -->
                    <div class="progress-indicator">
                        <div class="progress-dot" id="progressDot1"></div>
                        <div class="progress-dot" id="progressDot2"></div>
                        <div class="progress-dot" id="progressDot3"></div>
                        <div class="progress-dot" id="progressDot4"></div>
                    </div>

                <div class="success-message" id="successMessage">
                    ‚úì Produto salvo com sucesso!
                </div>

                <form id="productForm" class="form-container">
                    
                    <!-- CONTAINER FASE 1 -->
                    <div class="fase-container" id="fase1Container">
                        <div class="fase-header">
                            <div class="fase-header-number">FASE 1 DE 4</div>
                            <h2 class="fase-header-title">‚ö° Identificando seu Poder Digital</h2>
                            <p class="fase-header-description">Descubra suas habilidades e defina o problema que vai resolver</p>
                        </div>

                    <!-- FASE 1: IDENTIFICANDO SEU PODER DIGITAL -->
                    <div class="form-section" id="fase1Section">
                        <h2 class="form-section-title">
                            <a href="https://chatgpt.com/g/g-68320450fb9881919819f546b131649b" target="_blank" class="fase-link" title="Abrir assistente IA da Fase 1">
                                <span>‚ö°</span>
                                <span>Fase 1: Identificando seu Poder Digital</span>
                                <span class="fase-link-icon">üîó</span>
                                <span class="fase-tooltip">Clique para usar o assistente IA</span>
                            </a>
                        </h2>

                        <div class="texto-longo-field">
                            <label class="texto-longo-label">üìù Anota√ß√µes Completas da Fase 1</label>
                            <textarea id="textoLongoFase1" name="textoLongoFase1" placeholder="Use este espa√ßo para fazer anota√ß√µes detalhadas sobre seu poder digital, insights do assistente IA, reflex√µes sobre suas habilidades, o problema que vai resolver e qualquer outra informa√ß√£o relevante para esta fase..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="habilidades">Suas Habilidades Principais</label>
                            <textarea id="habilidades" name="habilidades" placeholder="Liste tudo o que voc√™ ama fazer e tem experi√™ncia em ensinar. O que voc√™ faz melhor?"></textarea>
                            <div class="form-tip">
                                üí° <strong>Dica:</strong> Pense nas habilidades que voc√™ ensina naturalmente para amigos e fam√≠lia. O que as pessoas pedem ajuda para voc√™?
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="problemaResolver">Problema que seu Produto Resolve <span class="required">*</span></label>
                            <textarea id="problemaResolver" name="problemaResolver" required placeholder="Qual problema espec√≠fico seu produto vai resolver? Foque em um √∫nico problema claro e definido."></textarea>
                            <div class="form-tip">
                                üéØ <strong>Importante:</strong> Um problema bem definido √© a chave para criar um produto valioso. Seja espec√≠fico!
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Mandala Ikigai - Encontre seu Prop√≥sito</label>
                            <div class="ikigai-container">
                                <div class="ikigai-box paixao">
                                    <div class="ikigai-label">‚ù§Ô∏è O que voc√™ AMA fazer</div>
                                    <textarea id="ikigaiPaixao" name="ikigaiPaixao" placeholder="O que te deixa animada? O que voc√™ faria de gra√ßa?"></textarea>
                                </div>
                                <div class="ikigai-box missao">
                                    <div class="ikigai-label">üåç O que o MUNDO precisa</div>
                                    <textarea id="ikigaiMissao" name="ikigaiMissao" placeholder="Que transforma√ß√£o voc√™ quer gerar no mundo?"></textarea>
                                </div>
                                <div class="ikigai-box bom-nisso">
                                    <div class="ikigai-label">‚≠ê O que voc√™ FAZ BEM</div>
                                    <textarea id="ikigaiBomNisso" name="ikigaiBomNisso" placeholder="Quais s√£o seus talentos naturais?"></textarea>
                                </div>
                                <div class="ikigai-box vocacao">
                                    <div class="ikigai-label">üí∞ Pelo que te PAGAM</div>
                                    <textarea id="ikigaiVocacao" name="ikigaiVocacao" placeholder="Que servi√ßos ou produtos j√° te renderam dinheiro?"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Cronograma do Projeto</label>
                            <div class="cronograma-grid">
                                <div class="cronograma-item">
                                    <label>üìÖ In√≠cio do Planejamento</label>
                                    <input type="date" id="dataInicioPlanejamento" name="dataInicioPlanejamento">
                                </div>
                                <div class="cronograma-item">
                                    <label>üéØ Conclus√£o do Conte√∫do</label>
                                    <input type="date" id="dataConclusaoConteudo" name="dataConclusaoConteudo">
                                </div>
                                <div class="cronograma-item">
                                    <label>üöÄ Data de Lan√ßamento</label>
                                    <input type="date" id="dataLancamento" name="dataLancamento">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navega√ß√£o Fase 1 -->
                    <div class="fase-navigation">
                        <button type="button" class="fase-nav-btn" onclick="voltarParaCards()">
                            ‚Üê Voltar aos Cards
                        </button>
                        <button type="button" class="fase-nav-btn primary" onclick="navegarEntrefases(2)">
                            Pr√≥xima Fase: Brainstorm ‚Üí
                        </button>
                    </div>
                    </div><!-- Fim Container Fase 1 -->

                    <!-- CONTAINER FASE 2 -->
                    <div class="fase-container" id="fase2Container">
                        <div class="fase-header">
                            <div class="fase-header-number">FASE 2 DE 4</div>
                            <h2 class="fase-header-title">üß† Brainstorm e M√©todo</h2>
                            <p class="fase-header-description">Organize suas ideias e desenhe seu m√©todo passo a passo</p>
                        </div>

                    <!-- FASE 2: BRAINSTORM E M√âTODO -->
                    <div class="form-section" id="fase2Section">
                        <h2 class="form-section-title">
                            <a href="https://chatgpt.com/g/g-6841a5f089fc81919d581c8afd615365" target="_blank" class="fase-link" title="Abrir assistente IA da Fase 2">
                                <span>üß†</span>
                                <span>Fase 2: Brainstorm e M√©todo</span>
                                <span class="fase-link-icon">üîó</span>
                                <span class="fase-tooltip">Clique para usar o assistente IA</span>
                            </a>
                        </h2>

                        <div class="texto-longo-field">
                            <label class="texto-longo-label">üìù Anota√ß√µes Completas da Fase 2</label>
                            <textarea id="textoLongoFase2" name="textoLongoFase2" placeholder="Use este espa√ßo para anotar todo o brainstorm, insights do assistente IA, detalhes do seu m√©todo, estrutura do conte√∫do e qualquer outra informa√ß√£o relevante para esta fase..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="brainstormIdeias">Brainstorm de Ideias</label>
                            <textarea id="brainstormIdeias" name="brainstormIdeias" placeholder="Liste TUDO o que voc√™ sabe sobre o tema. N√£o se preocupe com organiza√ß√£o agora, apenas despeje suas ideias!"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="bonusIdeias">Ideias de B√¥nus e Materiais Extras</label>
                            <textarea id="bonusIdeias" name="bonusIdeias" placeholder="Que b√¥nus voc√™ pode incluir? Checklists, templates, mapas mentais, aulas extras?"></textarea>
                        </div>

                        <div class="form-group">
                            <label>Desenhe seu M√©todo (Passo a Passo)</label>
                            <p style="opacity: 0.7; margin-bottom: 1rem; font-size: 0.95rem;">
                                Estruture o caminho que levar√° seu aluno do <strong>Ponto A (problema)</strong> ao <strong>Ponto B (solu√ß√£o)</strong>
                            </p>
                            <div class="metodo-steps" id="metodoSteps">
                                <!-- Steps ser√£o adicionados aqui -->
                            </div>
                            <button type="button" class="add-step-btn" onclick="adicionarPassoMetodo()">
                                ‚ûï Adicionar Passo
                            </button>
                        </div>

                        <div class="section-highlight">
                            <div class="highlight-title">
                                <span>‚ùì</span>
                                Perguntas Reflexivas para Estruturar seu M√©todo
                            </div>
                            <div class="form-group">
                                <label for="suaTrajetoria">Como foi sua trajet√≥ria com esse tema?</label>
                                <textarea id="suaTrajetoria" name="suaTrajetoria" placeholder="Conte sua hist√≥ria..."></textarea>
                            </div>
                            <div class="form-group">
                                <label for="errosEvitados">Que erros voc√™ cometeu e pode ajudar outros a evitar?</label>
                                <textarea id="errosEvitados" name="errosEvitados" placeholder="Liste os erros e li√ß√µes aprendidas..."></textarea>
                            </div>
                            <div class="form-group">
                                <label for="ferramentasUsadas">Que ferramentas e recursos voc√™ usa?</label>
                                <textarea id="ferramentasUsadas" name="ferramentasUsadas" placeholder="Ferramentas, apps, plataformas, recursos..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Navega√ß√£o Fase 2 -->
                    <div class="fase-navigation">
                        <button type="button" class="fase-nav-btn" onclick="navegarEntrefases(1)">
                            ‚Üê Fase Anterior
                        </button>
                        <button type="button" class="fase-nav-btn primary" onclick="navegarEntrefases(3)">
                            Pr√≥xima Fase: Promessa ‚Üí
                        </button>
                    </div>
                    </div><!-- Fim Container Fase 2 -->

                    <!-- CONTAINER FASE 3 -->
                    <div class="fase-container" id="fase3Container">
                        <div class="fase-header">
                            <div class="fase-header-number">FASE 3 DE 4</div>
                            <h2 class="fase-header-title">üéÅ Promessa, Oferta e Nome</h2>
                            <p class="fase-header-description">Crie uma promessa magn√©tica e estruture sua oferta</p>
                        </div>

                    <!-- FASE 3: PROMESSA, OFERTA E NOME -->
                    <div class="form-section" id="fase3Section">
                        <h2 class="form-section-title">
                            <a href="https://chatgpt.com/g/g-684b894f243081918d6ab5249ef156d1-infobot-fase-3" target="_blank" class="fase-link" title="Abrir assistente IA da Fase 3">
                                <span>üéÅ</span>
                                <span>Fase 3: Promessa, Oferta e Nome</span>
                                <span class="fase-link-icon">üîó</span>
                                <span class="fase-tooltip">Clique para usar o assistente IA</span>
                            </a>
                        </h2>

                        <div class="texto-longo-field">
                            <label class="texto-longo-label">üìù Anota√ß√µes Completas da Fase 3</label>
                            <textarea id="textoLongoFase3" name="textoLongoFase3" placeholder="Use este espa√ßo para anotar suas ideias de promessa magn√©tica, varia√ß√µes de nome, todos os benef√≠cios pensados, insights do assistente IA e qualquer outra informa√ß√£o relevante para esta fase..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Promessa Magn√©tica</label>
                            <div class="promessa-box">
                                <div class="promessa-label">‚ú® Como seu aluno alcan√ßar√° resultados?</div>
                                <textarea id="promessaMagnetica" name="promessaMagnetica" placeholder="Exemplo: 'Aprenda a criar infoprodutos lucrativos em 30 dias, mesmo sem experi√™ncia pr√©via'"></textarea>
                            </div>
                            <div class="form-tip">
                                üí´ <strong>Promessa poderosa:</strong> Resultado espec√≠fico + Prazo + Superar obje√ß√£o comum
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="nomePersuasivo">Nome do Produto (Persuasivo e Memor√°vel)</label>
                                <input type="text" id="nomePersuasivo" name="nomePersuasivo" placeholder="Ex: M√©todo Acelera Vendas, F√≥rmula da Convers√£o...">
                                <div class="form-tip">
                                    üéØ O nome deve ser simples, marcante e √∫nico. Verifique disponibilidade de dom√≠nios e redes sociais!
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="metodo">M√©todo/Tipo de Produto *</label>
                                <select id="metodo" name="metodo" required>
                                    <option value="">Selecione o m√©todo...</option>
                                    <option value="Cursos">üéì Cursos</option>
                                    <option value="Ebook">üìö E-book</option>
                                    <option value="Consultorias">üíº Consultorias</option>
                                    <option value="Mentorias">üéØ Mentorias</option>
                                    <option value="Templates">üé® Templates</option>
                                </select>
                                <div class="form-tip">
                                    ‚ö° Escolha o formato ideal para entregar seu produto
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Lista de Benef√≠cios e Oferta Irresist√≠vel</label>
                            <p style="opacity: 0.7; margin-bottom: 1rem; font-size: 0.95rem;">
                                Liste TODOS os benef√≠cios que o aluno receber√° ao adquirir seu produto
                            </p>
                            <div class="beneficios-list" id="beneficiosList">
                                <!-- Benef√≠cios ser√£o adicionados aqui -->
                            </div>
                            <button type="button" class="add-step-btn" onclick="adicionarBeneficio()">
                                ‚ûï Adicionar Benef√≠cio
                            </button>
                        </div>
                    </div>

                    <!-- Navega√ß√£o Fase 3 -->
                    <div class="fase-navigation">
                        <button type="button" class="fase-nav-btn" onclick="navegarEntrefases(2)">
                            ‚Üê Fase Anterior
                        </button>
                        <button type="button" class="fase-nav-btn primary" onclick="navegarEntrefases(4)">
                            Pr√≥xima Fase: P√∫blico ‚Üí
                        </button>
                    </div>
                    </div><!-- Fim Container Fase 3 -->

                    <!-- CONTAINER FASE 4 -->
                    <div class="fase-container" id="fase4Container">
                        <div class="fase-header">
                            <div class="fase-header-number">FASE 4 DE 4</div>
                            <h2 class="fase-header-title">üéØ P√∫blico e Mercado</h2>
                            <p class="fase-header-description">Defina seu p√∫blico-alvo e estruture a entrega</p>
                        </div>

                    <div class="form-section" id="fase4Section">
                        <h2 class="form-section-title">
                            <a href="https://chatgpt.com/g/g-684c8765595c81919f96d6c6e452c186-infobot-fase-4" target="_blank" class="fase-link" title="Abrir assistente IA da Fase 4">
                                <span>üéØ</span>
                                <span>Fase 4: P√∫blico e Mercado (Formatos e Entrega)</span>
                                <span class="fase-link-icon">üîó</span>
                                <span class="fase-tooltip">Clique para usar o assistente IA</span>
                            </a>
                        </h2>

                        <div class="texto-longo-field">
                            <label class="texto-longo-label">üìù Anota√ß√µes Completas da Fase 4</label>
                            <textarea id="textoLongoFase4" name="textoLongoFase4" placeholder="Use este espa√ßo para anotar detalhes sobre seu p√∫blico-alvo, estrat√©gias de entrega, recursos necess√°rios, insights do assistente IA e qualquer outra informa√ß√£o relevante para esta fase..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="publicoAlvo">P√∫blico-Alvo</label>
                            <textarea id="publicoAlvo" name="publicoAlvo" placeholder="Quem se beneficiaria mais deste produto? Ex: Mulheres empreendedoras entre 25-45 anos..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="preco">Pre√ßo Estimado (R$)</label>
                            <input type="number" id="preco" name="preco" min="0" step="0.01" placeholder="0.00">
                            <div class="form-tip">
                                üí∞ Defina um pre√ßo inicial. Voc√™ sempre pode ajustar depois.
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üìö</span>
                            Conte√∫do e Estrutura
                        </h2>

                        <div class="form-group">
                            <label for="estrutura">Estrutura/M√≥dulos</label>
                            <textarea id="estrutura" name="estrutura" placeholder="Liste os m√≥dulos, cap√≠tulos ou etapas do produto..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="recursosNecessarios">Recursos Necess√°rios</label>
                            <textarea id="recursosNecessarios" name="recursosNecessarios" placeholder="O que voc√™ precisa para criar este produto?"></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üìã</span>
                            Observa√ß√µes Adicionais
                        </h2>

                        <div class="form-group">
                            <label for="observacoes">Anota√ß√µes e Ideias</label>
                            <textarea id="observacoes" name="observacoes" placeholder="Espa√ßo livre para suas anota√ß√µes..."></textarea>
                        </div>
                    </div>

                    <!-- Navega√ß√£o Fase 4 -->
                    <div class="fase-navigation">
                        <button type="button" class="fase-nav-btn" onclick="navegarEntrefases(3)">
                            ‚Üê Fase Anterior
                        </button>
                        <button type="button" class="fase-nav-btn primary" onclick="navegarParaExtras()">
                            Continuar para M√≥dulos Extras ‚Üí
                        </button>
                    </div>
                    </div><!-- Fim Container Fase 4 -->

                    <!-- Navega√ß√£o Fase 4 -->
                    <div class="fase-navigation">
                        <button type="button" class="fase-nav-btn" onclick="navegarEntrefases(3)">
                            ‚Üê Fase Anterior
                        </button>
                        <div style="display: flex; gap: 1rem;">
                            <button type="button" class="fase-nav-btn" onclick="irParaBrainstorming()">
                                üí° Salvar no Brainstorming
                            </button>
                            <button type="button" class="fase-nav-btn primary" onclick="criarProdutoMetodo()">
                                ‚ú® Criar Produto
                            </button>
                        </div>
                    </div>

                </form>
                </div><!-- Fim fases-form-container -->

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- BRAINSTORMING IA -->
            <section id="brainstorming" class="page-section">
                <header class="header">
                    <h1>Brainstorming com IA üí°</h1>
                    <p>Espa√ßo livre para desenvolver suas ideias e fazer anota√ß√µes criativas</p>
                </header>

                <button class="new-chat-btn" onclick="novaConversa()">
                    üîÑ Nova Conversa
                </button>

                <!-- Conversas Salvas -->
                <div class="saved-conversations">
                    <h2 class="section-title">üíæ Conversas Salvas</h2>
                    <div class="conversations-grid" id="conversationsGrid">
                        <!-- Cards de conversas ser√£o inseridos aqui -->
                    </div>
                </div>

                <div class="chat-container">
                    <div class="quick-prompts" id="quickPrompts">
                        <div class="quick-prompts-title">üí´ Sugest√µes para come√ßar:</div>
                        <div class="prompts-grid">
                            <div class="prompt-card" onclick="usarPrompt('Preciso de ideias para um e-book sobre organiza√ß√£o financeira para mulheres empreendedoras')">
                                <div class="prompt-icon">üìö</div>
                                <div class="prompt-text">Ideias de E-book</div>
                            </div>
                            <div class="prompt-card" onclick="usarPrompt('Me ajude a estruturar um curso online sobre marketing digital para pequenos neg√≥cios')">
                                <div class="prompt-icon">üéì</div>
                                <div class="prompt-text">Estrutura de Curso</div>
                            </div>
                            <div class="prompt-card" onclick="usarPrompt('Quero criar um template de planilha para controle de vendas. Me d√™ sugest√µes de funcionalidades.')">
                                <div class="prompt-icon">üìä</div>
                                <div class="prompt-text">Template de Planilha</div>
                            </div>
                            <div class="prompt-card" onclick="usarPrompt('Como posso precificar meu infoproduto de forma justa e lucrativa?')">
                                <div class="prompt-icon">üí∞</div>
                                <div class="prompt-text">Estrat√©gia de Pre√ßo</div>
                            </div>
                        </div>
                    </div>

                    <div class="messages-area" id="messagesArea">
                        <div class="empty-state">
                            <div class="empty-state-icon">‚ú®</div>
                            <h2 class="empty-title" style="font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--rosa-destaque); margin-bottom: 1rem;">Vamos criar algo incr√≠vel?</h2>
                            <p class="empty-text" style="color: var(--cinza-escuro); opacity: 0.7; font-size: 1.1rem; max-width: 500px; margin: 0 auto;">
                                Use este espa√ßo para desenvolver suas ideias, fazer anota√ß√µes e planejar seus produtos!
                            </p>
                        </div>
                    </div>

                    <div class="typing-indicator" id="typingIndicator">
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                        <span>Processando...</span>
                    </div>

                    <div class="input-area">
                        <div class="input-wrapper">
                            <textarea id="messageInput" placeholder="Digite sua mensagem ou pergunta..." rows="1"></textarea>
                        </div>
                        <button id="sendButton" onclick="enviarMensagem()">
                            <span>Enviar</span>
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- BIBLIOTECA -->
            <section id="biblioteca" class="page-section">
                <header class="header">
                    <h1>Biblioteca de Recursos üìö</h1>
                    <p>Guias pr√°ticos e dicas para criar produtos incr√≠veis</p>
                </header>

                <div class="category-section">
                    <div class="category-header">
                        <span class="category-icon">üìñ</span>
                        <h2 class="category-title">Guias Pr√°ticos</h2>
                    </div>
                    
                    <div class="resources-grid">
                        <div class="resource-card">
                            <div class="resource-icon">üéØ</div>
                            <h3 class="resource-title">Como Definir seu P√∫blico-Alvo</h3>
                            <p class="resource-description">
                                Aprenda a identificar e entender profundamente quem √© seu cliente ideal, suas dores, desejos e onde encontr√°-los.
                            </p>
                            <button class="resource-btn" onclick="abrirGuia('publico-alvo')">Ler Guia</button>
                        </div>

                        <div class="resource-card">
                            <div class="resource-icon">üí∞</div>
                            <h3 class="resource-title">Precifica√ß√£o Estrat√©gica</h3>
                            <p class="resource-description">
                                M√©todos comprovados para definir o pre√ßo ideal do seu produto, equilibrando valor percebido e lucratividade.
                            </p>
                            <button class="resource-btn" onclick="abrirGuia('precificacao')">Ler Guia</button>
                        </div>

                        <div class="resource-card">
                            <div class="resource-icon">üìù</div>
                            <h3 class="resource-title">Estruturando seu Conte√∫do</h3>
                            <p class="resource-description">
                                Frameworks testados para organizar o conte√∫do do seu produto de forma l√≥gica e transformadora.
                            </p>
                            <button class="resource-btn" onclick="abrirGuia('estrutura')">Ler Guia</button>
                        </div>

                        <div class="resource-card">
                            <div class="resource-icon">üöÄ</div>
                            <h3 class="resource-title">Estrat√©gias de Lan√ßamento</h3>
                            <p class="resource-description">
                                Passo a passo para planejar e executar um lan√ßamento bem-sucedido do seu infoproduto.
                            </p>
                            <button class="resource-btn" onclick="abrirGuia('lancamento')">Ler Guia</button>
                        </div>
                    </div>
                </div>

                <div class="category-section">
                    <div class="category-header">
                        <span class="category-icon">‚ú®</span>
                        <h2 class="category-title">Dicas de Ouro</h2>
                    </div>
                    
                    <div class="tips-grid">
                        <div class="tip-card">
                            <div class="tip-number">#1</div>
                            <div class="tip-title">Comece Pequeno</div>
                            <div class="tip-text">
                                N√£o precisa criar o produto perfeito de primeira. Lance uma vers√£o m√≠nima e melhore com o feedback.
                            </div>
                        </div>

                        <div class="tip-card">
                            <div class="tip-number">#2</div>
                            <div class="tip-title">Valide Antes de Criar</div>
                            <div class="tip-text">
                                Converse com potenciais clientes antes de investir tempo criando. Confirme que existe demanda real.
                            </div>
                        </div>

                        <div class="tip-card">
                            <div class="tip-number">#3</div>
                            <div class="tip-title">Foque na Transforma√ß√£o</div>
                            <div class="tip-text">
                                Seu produto deve resolver um problema espec√≠fico. Comunique esse resultado claramente.
                            </div>
                        </div>

                        <div class="tip-card">
                            <div class="tip-number">#4</div>
                            <div class="tip-title">Crie Comunidade</div>
                            <div class="tip-text">
                                Produtos com comunidade engajada vendem mais. Pense em como criar esse espa√ßo.
                            </div>
                        </div>

                        <div class="tip-card">
                            <div class="tip-number">#5</div>
                            <div class="tip-title">Documente o Processo</div>
                            <div class="tip-text">
                                Use este sistema para registrar tudo! Suas anota√ß√µes s√£o insights valiosos.
                            </div>
                        </div>

                        <div class="tip-card">
                            <div class="tip-number">#6</div>
                            <div class="tip-title">Invista em Qualidade</div>
                            <div class="tip-text">
                                Design, escrita e apresenta√ß√£o importam. Um produto bem acabado transmite valor.
                            </div>
                        </div>
                    </div>
                </div>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- CURSOS -->
            <section id="cursos" class="page-section">
                <header class="header">
                    <h1>üéì Criar Curso Online</h1>
                    <p>Estruture seu curso completo com m√≥dulos, aulas e materiais</p>
                </header>

                <!-- Resumo das 4 Fases -->
                <div class="resumo-fases">
                    <h2 class="resumo-title">üìã Contexto Estrat√©gico (das 4 Fases)</h2>
                    
                    <!-- Cards Principais -->
                    <div class="resumo-grid" id="resumoCursos">
                        <div class="resumo-item">
                            <strong>üéØ Problema que Resolve:</strong>
                            <p id="resumo_problemaResolver_cursos">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí° Nome do Produto:</strong>
                            <p id="resumo_nomePersuasivo_cursos">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üë• P√∫blico-Alvo:</strong>
                            <p id="resumo_publicoAlvo_cursos">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí∞ Pre√ßo Estimado:</strong>
                            <p id="resumo_preco_cursos">-</p>
                        </div>
                    </div>

                    <!-- Cards de Anota√ß√µes Completas (Clic√°veis) -->
                    <h3 style="text-align: center; color: var(--rosa-destaque); margin: 2rem 0 1rem;">üìù Anota√ß√µes Completas das Fases</h3>
                    <div class="anotacoes-cards">
                        <div class="anotacao-card" onclick="abrirAnotacoes('cursos', 1)">
                            <div class="anotacao-icon">‚ö°</div>
                            <div class="anotacao-info">
                                <h4>Fase 1: Poder Digital</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('cursos', 2)">
                            <div class="anotacao-icon">üß†</div>
                            <div class="anotacao-info">
                                <h4>Fase 2: Brainstorm e M√©todo</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('cursos', 3)">
                            <div class="anotacao-icon">üéÅ</div>
                            <div class="anotacao-info">
                                <h4>Fase 3: Promessa e Oferta</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('cursos', 4)">
                            <div class="anotacao-icon">üéØ</div>
                            <div class="anotacao-info">
                                <h4>Fase 4: P√∫blico e Mercado</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                    </div>
                    
                    <!-- Link para Agente IA Especializado -->
                    <div class="ai-assistant-link">
                        <a href="https://chatgpt.com/g/g-CRIAR-AGENTE-CURSOS" target="_blank" class="fase-link">
                            <span>ü§ñ</span>
                            <span>Assistente IA Especialista em Cursos Online</span>
                            <span class="fase-link-icon">üîó</span>
                        </a>
                        <p class="hint">üí° Use o assistente para estruturar m√≥dulos, definir carga hor√°ria e criar estrat√©gias de engajamento</p>
                    </div>
                </div>

                <!-- √Årea de Importa√ß√£o do Relat√≥rio -->
                <div class="importar-relatorio">
                    <h3>üì• Importar Relat√≥rio do Agente IA</h3>
                    <p>Cole aqui o relat√≥rio completo gerado pelo agente especializado e clique em "Importar" para preencher automaticamente os campos abaixo.</p>
                    <textarea id="relatorioImportar_cursos" placeholder="Cole aqui o relat√≥rio do agente IA..."></textarea>
                    <button type="button" class="btn-importar" onclick="importarRelatorio('cursos')">
                        ‚¨áÔ∏è Importar e Preencher Campos
                    </button>
                </div>

                <!-- Formul√°rio do Curso -->
                <form id="formCursos" class="form-container">
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üìö</span>
                            Estrutura do Curso
                        </h2>

                        <div class="form-group">
                            <label for="cursos_cargaHoraria">Carga Hor√°ria Total</label>
                            <input type="text" id="cursos_cargaHoraria" placeholder="Ex: 40 horas">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="cursos_numeroModulos">N√∫mero de M√≥dulos</label>
                                <input type="number" id="cursos_numeroModulos" min="1" placeholder="Ex: 6">
                            </div>
                            <div class="form-group">
                                <label for="cursos_numeroAulas">Total de Aulas</label>
                                <input type="number" id="cursos_numeroAulas" min="1" placeholder="Ex: 24">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="cursos_formatoAulas">Formato das Aulas</label>
                            <select id="cursos_formatoAulas">
                                <option value="">Selecione...</option>
                                <option value="Video">üé• V√≠deo-aulas</option>
                                <option value="Texto">üìÑ Aulas em texto</option>
                                <option value="Audio">üéß √Åudio-aulas (podcast)</option>
                                <option value="Misto">üîÑ Misto (v√≠deo + texto)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="cursos_modulosDescricao">Descri√ß√£o dos M√≥dulos</label>
                            <textarea id="cursos_modulosDescricao" rows="8" placeholder="Liste os m√≥dulos e o conte√∫do de cada um...
M√≥dulo 1: Fundamentos...
M√≥dulo 2: ..."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üéÅ</span>
                            Materiais Complementares
                        </h2>

                        <div class="form-group">
                            <label>Selecione os materiais inclusos:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" id="cursos_mat_apostilas"> Apostilas em PDF</label>
                                <label><input type="checkbox" id="cursos_mat_exercicios"> Exerc√≠cios pr√°ticos</label>
                                <label><input type="checkbox" id="cursos_mat_templates"> Templates/planilhas</label>
                                <label><input type="checkbox" id="cursos_mat_certificado"> Certificado de conclus√£o</label>
                                <label><input type="checkbox" id="cursos_mat_comunidade"> Acesso √† comunidade privada</label>
                                <label><input type="checkbox" id="cursos_mat_suporte"> Suporte direto com instrutor</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="cursos_bonusExtras">B√¥nus Especiais</label>
                            <textarea id="cursos_bonusExtras" rows="4" placeholder="Descreva b√¥nus adicionais, materiais extras, aulas b√¥nus, etc."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>‚öôÔ∏è</span>
                            Configura√ß√µes de Entrega
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="cursos_plataforma">Plataforma de Hospedagem</label>
                                <select id="cursos_plataforma">
                                    <option value="">Selecione...</option>
                                    <option value="Hotmart">Hotmart</option>
                                    <option value="Eduzz">Eduzz</option>
                                    <option value="Kiwify">Kiwify</option>
                                    <option value="Memberkit">Memberkit</option>
                                    <option value="Kajabi">Kajabi</option>
                                    <option value="Thinkific">Thinkific</option>
                                    <option value="Outro">Outro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="cursos_liberacao">Forma de Libera√ß√£o</label>
                                <select id="cursos_liberacao">
                                    <option value="">Selecione...</option>
                                    <option value="Imediata">Imediata (tudo de uma vez)</option>
                                    <option value="Sequencial">Sequencial (m√≥dulo por m√≥dulo)</option>
                                    <option value="Programada">Programada (gotejamento)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="cursos_duracao">Dura√ß√£o do Acesso</label>
                            <select id="cursos_duracao">
                                <option value="">Selecione...</option>
                                <option value="Vitalicio">Vital√≠cio</option>
                                <option value="12meses">12 meses</option>
                                <option value="6meses">6 meses</option>
                                <option value="3meses">3 meses</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="cursos_observacoes">Observa√ß√µes Adicionais</label>
                            <textarea id="cursos_observacoes" rows="4" placeholder="Anota√ß√µes, ideias, pr√≥ximos passos..."></textarea>
                        </div>
                    </div>

                    <!-- ETAPA 1: Gest√£o Visual e Links -->
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üé®</span>
                            Gest√£o Visual e Links
                        </h2>

                        <div class="form-group">
                            <label for="cursos_thumbnail">üñºÔ∏è Imagem/Thumbnail do Produto</label>
                            
                            <div class="upload-options">
                                <div class="upload-tabs">
                                    <button type="button" class="upload-tab active" onclick="alternarUploadTipo('cursos', 'upload')">
                                        üì§ Upload de Arquivo
                                    </button>
                                    <button type="button" class="upload-tab" onclick="alternarUploadTipo('cursos', 'url')">
                                        üîó URL Externa
                                    </button>
                                </div>
                                
                                <div id="upload_cursos_upload" class="upload-content active">
                                    <div class="upload-area" id="uploadArea_cursos_thumb" onclick="document.getElementById('cursos_thumbnail_file').click()">
                                        <input type="file" id="cursos_thumbnail_file" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'cursos')">
                                        <div class="upload-icon">üì∏</div>
                                        <div class="upload-text">Clique para selecionar uma imagem</div>
                                        <div class="upload-hint">PNG, JPG ou WEBP at√© 5MB</div>
                                    </div>
                                    <div id="preview_cursos_thumb" class="image-preview" style="display: none;">
                                        <img id="previewImg_cursos_thumb" alt="Preview">
                                        <button type="button" class="btn-remover-imagem" onclick="removerImagemUpload('cursos')">
                                            üóëÔ∏è Remover
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="upload_cursos_url" class="upload-content">
                                    <input type="url" id="cursos_thumbnail_url" placeholder="https://exemplo.com/imagem.jpg" onchange="atualizarThumbnailUrl('cursos')">
                                    <div class="form-tip">
                                        üí° Cole a URL de uma imagem hospedada externamente
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="cursos_progresso">üìä Progresso do Produto (%)</label>
                            <input type="number" id="cursos_progresso" min="0" max="100" value="0" placeholder="0">
                            <div class="form-tip">
                                üìà Defina o percentual de conclus√£o do produto (0 a 100%)
                            </div>
                        </div>

                        <!-- ETAPA 3: Galeria de Imagens -->
                        <div class="form-group">
                            <label>üñºÔ∏è Galeria de Imagens</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üì∏ Adicione m√∫ltiplas imagens do produto (screenshots, materiais, exemplos)
                            </div>
                            
                            <div class="gallery-grid" id="galeriaContainer_cursos">
                                <div class="gallery-upload-area" onclick="adicionarImagemGaleria('cursos')">
                                    <div class="gallery-upload-icon">üì∏</div>
                                    <div class="gallery-upload-text">Adicionar imagens</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>üîó Links e Recursos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìé Adicione links importantes relacionados ao produto (landing page, v√≠deo de vendas, √°rea de membros, etc)
                            </div>
                            
                            <div id="linksContainer_cursos">
                                <!-- Links ser√£o adicionados aqui -->
                            </div>

                            <button type="button" class="btn-adicionar-link" onclick="adicionarLink('cursos')">
                                ‚ûï Adicionar Link
                            </button>
                        </div>

                        <!-- ETAPA 2: Sistema de Arquivos Anexos -->
                        <div class="form-group">
                            <label>üìé Arquivos Anexos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìÑ Fa√ßa upload de documentos, PDFs, planilhas e outros arquivos relacionados ao produto
                            </div>
                            
                            <div class="upload-area" id="uploadArea_cursos_files" onclick="document.getElementById('cursos_files_input').click()">
                                <input type="file" id="cursos_files_input" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip" style="display: none;" onchange="handleFilesUpload(this, 'cursos')">
                                <div class="upload-icon">üìÅ</div>
                                <div class="upload-text">Clique para selecionar arquivos</div>
                                <div class="upload-hint">PDF, DOC, XLS, PPT, TXT, ZIP at√© 10MB cada</div>
                            </div>
                            
                            <div id="filesContainer_cursos" class="files-list">
                                <!-- Arquivos anexados aparecer√£o aqui -->
                            </div>
                        </div>

                        <!-- ETAPA 2: Checklist de Progresso Detalhado -->
                        <div class="form-group">
                            <label>‚úÖ Checklist de Progresso</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìã Acompanhe as etapas de cria√ß√£o do produto (o progresso % ser√° calculado automaticamente)
                            </div>
                            
                            <div class="checklist-container">
                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üìù</span>
                                        <span class="checklist-fase-titulo">Cria√ß√£o de Conte√∫do</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Outline/estrutura completa</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Conte√∫do escrito/roteirizado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Grava√ß√£o/produ√ß√£o finalizada</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Edi√ß√£o e revis√£o conclu√≠da</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üé®</span>
                                        <span class="checklist-fase-titulo">Design e Identidade</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Logo/identidade visual criada</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Capa/thumbnail produzida</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Materiais gr√°ficos finalizados</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">‚öôÔ∏è</span>
                                        <span class="checklist-fase-titulo">Setup e Hospedagem</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Produto cadastrado na plataforma</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>√Årea de membros configurada</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Integra√ß√µes ativas (email, pagamento)</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üöÄ</span>
                                        <span class="checklist-fase-titulo">Marketing e Vendas</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>P√°gina de vendas pronta</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Sequ√™ncia de emails configurada</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Estrat√©gia de lan√ßamento definida</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üéâ</span>
                                        <span class="checklist-fase-titulo">Lan√ßamento</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Testes finais realizados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Produto ao vivo</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('cursos')">
                                            <span>Primeiras vendas confirmadas</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="progresso-calculado">
                                <div class="progresso-info">
                                    <span class="progresso-label">Progresso Total:</span>
                                    <span class="progresso-valor" id="progressoCalculado_cursos">0%</span>
                                </div>
                                <div class="progress-bar-container" style="height: 12px; margin-top: 0.5rem;">
                                    <div class="progress-bar-fill" id="progressoBar_cursos" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="voltarParaMainCards()">
                            ‚Üê Voltar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar Curso
                        </button>
                    </div>
                </form>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- E-BOOK -->
            <section id="ebook" class="page-section">
                <header class="header">
                    <h1>üìö Criar E-book</h1>
                    <p>Estruture seu e-book com cap√≠tulos, conte√∫do e recursos visuais</p>
                </header>

                <!-- Resumo das 4 Fases -->
                <div class="resumo-fases">
                    <h2 class="resumo-title">üìã Contexto Estrat√©gico (das 4 Fases)</h2>
                    
                    <div class="resumo-grid" id="resumoEbook">
                        <div class="resumo-item">
                            <strong>üéØ Problema que Resolve:</strong>
                            <p id="resumo_problemaResolver_ebook">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí° Nome do Produto:</strong>
                            <p id="resumo_nomePersuasivo_ebook">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üë• P√∫blico-Alvo:</strong>
                            <p id="resumo_publicoAlvo_ebook">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí∞ Pre√ßo Estimado:</strong>
                            <p id="resumo_preco_ebook">-</p>
                        </div>
                    </div>

                    <h3 style="text-align: center; color: var(--rosa-destaque); margin: 2rem 0 1rem;">üìù Anota√ß√µes Completas das Fases</h3>
                    <div class="anotacoes-cards">
                        <div class="anotacao-card" onclick="abrirAnotacoes('ebook', 1)">
                            <div class="anotacao-icon">‚ö°</div>
                            <div class="anotacao-info">
                                <h4>Fase 1: Poder Digital</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('ebook', 2)">
                            <div class="anotacao-icon">üß†</div>
                            <div class="anotacao-info">
                                <h4>Fase 2: Brainstorm e M√©todo</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('ebook', 3)">
                            <div class="anotacao-icon">üéÅ</div>
                            <div class="anotacao-info">
                                <h4>Fase 3: Promessa e Oferta</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('ebook', 4)">
                            <div class="anotacao-icon">üéØ</div>
                            <div class="anotacao-info">
                                <h4>Fase 4: P√∫blico e Mercado</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                    </div>
                    
                    <div class="ai-assistant-link">
                        <a href="https://chatgpt.com/g/g-CRIAR-AGENTE-EBOOK" target="_blank" class="fase-link">
                            <span>ü§ñ</span>
                            <span>Assistente IA Especialista em E-books</span>
                            <span class="fase-link-icon">üîó</span>
                        </a>
                        <p class="hint">üí° Use o assistente para estruturar cap√≠tulos, criar conte√∫do persuasivo e organizar o fluxo narrativo</p>
                    </div>
                </div>

                <!-- √Årea de Importa√ß√£o do Relat√≥rio -->
                <div class="importar-relatorio">
                    <h3>üì• Importar Relat√≥rio do Agente IA</h3>
                    <p>Cole aqui o relat√≥rio completo gerado pelo agente especializado e clique em "Importar" para preencher automaticamente os campos abaixo.</p>
                    <textarea id="relatorioImportar_ebook" placeholder="Cole aqui o relat√≥rio do agente IA..."></textarea>
                    <button type="button" class="btn-importar" onclick="importarRelatorio('ebook')">
                        ‚¨áÔ∏è Importar e Preencher Campos
                    </button>
                </div>

                <!-- Formul√°rio do E-book -->
                <form id="formEbook" class="form-container">
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üìñ</span>
                            Estrutura do Conte√∫do
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="ebook_numeroPaginas">N√∫mero de P√°ginas Estimado</label>
                                <input type="number" id="ebook_numeroPaginas" min="1" placeholder="Ex: 80">
                            </div>
                            <div class="form-group">
                                <label for="ebook_numeroCapitulos">N√∫mero de Cap√≠tulos</label>
                                <input type="number" id="ebook_numeroCapitulos" min="1" placeholder="Ex: 8">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="ebook_estruturaCapitulos">Estrutura dos Cap√≠tulos</label>
                            <textarea id="ebook_estruturaCapitulos" rows="10" placeholder="Descreva cada cap√≠tulo e seu conte√∫do...
Cap√≠tulo 1: Introdu√ß√£o - Apresenta√ß√£o do problema e promessa
Cap√≠tulo 2: Fundamentos - Conceitos b√°sicos...
Cap√≠tulo 3: ..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Recursos Visuais Inclu√≠dos:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" id="ebook_vis_infograficos"> Infogr√°ficos</label>
                                <label><input type="checkbox" id="ebook_vis_imagens"> Imagens ilustrativas</label>
                                <label><input type="checkbox" id="ebook_vis_graficos"> Gr√°ficos e tabelas</label>
                                <label><input type="checkbox" id="ebook_vis_checklists"> Checklists visuais</label>
                                <label><input type="checkbox" id="ebook_vis_citacoes"> Boxes de cita√ß√µes</label>
                                <label><input type="checkbox" id="ebook_vis_estudos"> Estudos de caso</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üé®</span>
                            Formato e Design
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="ebook_formato">Formato de Entrega</label>
                                <select id="ebook_formato">
                                    <option value="">Selecione...</option>
                                    <option value="PDF">PDF apenas</option>
                                    <option value="ePub">ePub apenas</option>
                                    <option value="Ambos">PDF + ePub</option>
                                    <option value="Completo">PDF + ePub + Mobi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="ebook_estilo">Estilo de Design</label>
                                <select id="ebook_estilo">
                                    <option value="">Selecione...</option>
                                    <option value="Profissional">Profissional/Corporativo</option>
                                    <option value="Minimalista">Minimalista/Clean</option>
                                    <option value="Colorido">Colorido/Vibrante</option>
                                    <option value="Moderno">Moderno/Arrojado</option>
                                    <option value="Classico">Cl√°ssico/Elegante</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="ebook_paletaCores">Paleta de Cores</label>
                            <input type="text" id="ebook_paletaCores" placeholder="Ex: Azul marinho, dourado e branco">
                        </div>

                        <div class="form-group">
                            <label for="ebook_tipografia">Tipografia/Fontes</label>
                            <input type="text" id="ebook_tipografia" placeholder="Ex: Montserrat para t√≠tulos, Open Sans para corpo">
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üéÅ</span>
                            Materiais B√¥nus e Extras
                        </h2>

                        <div class="form-group">
                            <label for="ebook_bonusMateriais">Materiais B√¥nus Inclu√≠dos</label>
                            <textarea id="ebook_bonusMateriais" rows="4" placeholder="Descreva materiais extras: workbooks, planilhas, templates, v√≠deos complementares, etc."></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="ebook_atualizacoes">Atualiza√ß√µes</label>
                                <select id="ebook_atualizacoes">
                                    <option value="">Selecione...</option>
                                    <option value="Nenhuma">Sem atualiza√ß√µes</option>
                                    <option value="6meses">Atualiza√ß√µes por 6 meses</option>
                                    <option value="12meses">Atualiza√ß√µes por 1 ano</option>
                                    <option value="Vitalicio">Atualiza√ß√µes vital√≠cias</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="ebook_versaoImpressao">Vers√£o para Impress√£o</label>
                                <select id="ebook_versaoImpressao">
                                    <option value="Nao">N√£o</option>
                                    <option value="Sim">Sim, inclu√≠da</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="ebook_observacoes">Observa√ß√µes Adicionais</label>
                            <textarea id="ebook_observacoes" rows="4" placeholder="Anota√ß√µes, ideias, pr√≥ximos passos..."></textarea>
                        </div>
                    </div>

                    <!-- ETAPA 1: Gest√£o Visual e Links -->
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üé®</span>
                            Gest√£o Visual e Links
                        </h2>

                        <div class="form-group">
                            <label for="ebook_thumbnail">üñºÔ∏è Imagem/Thumbnail do Produto</label>
                            
                            <div class="upload-options">
                                <div class="upload-tabs">
                                    <button type="button" class="upload-tab active" onclick="alternarUploadTipo('ebook', 'upload')">
                                        üì§ Upload de Arquivo
                                    </button>
                                    <button type="button" class="upload-tab" onclick="alternarUploadTipo('ebook', 'url')">
                                        üîó URL Externa
                                    </button>
                                </div>
                                
                                <div id="upload_ebook_upload" class="upload-content active">
                                    <div class="upload-area" id="uploadArea_ebook_thumb" onclick="document.getElementById('ebook_thumbnail_file').click()">
                                        <input type="file" id="ebook_thumbnail_file" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'ebook')">
                                        <div class="upload-icon">üì∏</div>
                                        <div class="upload-text">Clique para selecionar a capa do e-book</div>
                                        <div class="upload-hint">PNG, JPG ou WEBP at√© 5MB</div>
                                    </div>
                                    <div id="preview_ebook_thumb" class="image-preview" style="display: none;">
                                        <img id="previewImg_ebook_thumb" alt="Preview">
                                        <button type="button" class="btn-remover-imagem" onclick="removerImagemUpload('ebook')">
                                            üóëÔ∏è Remover
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="upload_ebook_url" class="upload-content">
                                    <input type="url" id="ebook_thumbnail_url" placeholder="https://exemplo.com/capa-ebook.jpg" onchange="atualizarThumbnailUrl('ebook')">
                                    <div class="form-tip">
                                        üí° Cole a URL da capa hospedada externamente
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="ebook_progresso">üìä Progresso do Produto (%)</label>
                            <input type="number" id="ebook_progresso" min="0" max="100" value="0" placeholder="0">
                            <div class="form-tip">
                                üìà Defina o percentual de conclus√£o do produto (0 a 100%)
                            </div>
                        </div>

                        <!-- ETAPA 3: Galeria de Imagens -->
                        <div class="form-group">
                            <label>üñºÔ∏è Galeria de Imagens</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üì∏ Adicione imagens (capa, mockups, p√°ginas de exemplo)
                            </div>
                            
                            <div class="gallery-grid" id="galeriaContainer_ebook">
                                <div class="gallery-upload-area" onclick="adicionarImagemGaleria('ebook')">
                                    <div class="gallery-upload-icon">üì∏</div>
                                    <div class="gallery-upload-text">Adicionar imagens</div>
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <label>üîó Links e Recursos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìé Adicione links importantes (Google Docs, Canva, p√°gina de vendas, etc)
                            </div>
                            
                            <div id="linksContainer_ebook">
                                <!-- Links ser√£o adicionados aqui -->
                            </div>

                            <button type="button" class="btn-adicionar-link" onclick="adicionarLink('ebook')">
                                ‚ûï Adicionar Link
                            </button>
                        </div>

                        <!-- ETAPA 2: Sistema de Arquivos Anexos -->
                        <div class="form-group">
                            <label>üìé Arquivos Anexos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìÑ Fa√ßa upload de documentos, vers√µes do e-book, materiais complementares
                            </div>
                            
                            <div class="upload-area" id="uploadArea_ebook_files" onclick="document.getElementById('ebook_files_input').click()">
                                <input type="file" id="ebook_files_input" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip" style="display: none;" onchange="handleFilesUpload(this, 'ebook')">
                                <div class="upload-icon">üìÅ</div>
                                <div class="upload-text">Clique para selecionar arquivos</div>
                                <div class="upload-hint">PDF, DOC, XLS, PPT, TXT, ZIP at√© 10MB cada</div>
                            </div>
                            
                            <div id="filesContainer_ebook" class="files-list">
                                <!-- Arquivos anexados aparecer√£o aqui -->
                            </div>
                        </div>

                        <!-- ETAPA 2: Checklist de Progresso Detalhado -->
                        <div class="form-group">
                            <label>‚úÖ Checklist de Progresso</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìã Acompanhe as etapas de cria√ß√£o do e-book (o progresso % ser√° calculado automaticamente)
                            </div>
                            
                            <div class="checklist-container">
                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">‚úçÔ∏è</span>
                                        <span class="checklist-fase-titulo">Escrita e Conte√∫do</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Outline de cap√≠tulos completo</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Conte√∫do escrito e revisado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Exemplos e casos pr√°ticos inclu√≠dos</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Revis√£o ortogr√°fica finalizada</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üé®</span>
                                        <span class="checklist-fase-titulo">Design e Diagrama√ß√£o</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Template/layout definido</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Diagrama√ß√£o completa</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Capa e contracapa finalizadas</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Recursos visuais (infogr√°ficos, imagens)</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üì¶</span>
                                        <span class="checklist-fase-titulo">Formato e Distribui√ß√£o</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Arquivo PDF gerado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Formatos alternativos (ePub, Mobi)</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Materiais b√¥nus preparados</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üöÄ</span>
                                        <span class="checklist-fase-titulo">Marketing e Vendas</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>P√°gina de vendas criada</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Estrat√©gia de lan√ßamento definida</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Preview/amostra gr√°tis dispon√≠vel</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üéâ</span>
                                        <span class="checklist-fase-titulo">Lan√ßamento</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Produto dispon√≠vel para compra</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('ebook')">
                                            <span>Primeiras vendas realizadas</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="progresso-calculado">
                                <div class="progresso-info">
                                    <span class="progresso-label">Progresso Total:</span>
                                    <span class="progresso-valor" id="progressoCalculado_ebook">0%</span>
                                </div>
                                <div class="progress-bar-container" style="height: 12px; margin-top: 0.5rem;">
                                    <div class="progress-bar-fill" id="progressoBar_ebook" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="voltarParaMainCards()">
                            ‚Üê Voltar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar E-book
                        </button>
                    </div>
                </form>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- CONSULTORIAS -->
            <section id="consultorias" class="page-section">
                <header class="header">
                    <h1>üíº Criar Consultoria</h1>
                    <p>Estruture sua consultoria com escopo, metodologia e entreg√°veis</p>
                </header>

                <!-- Resumo das 4 Fases -->
                <div class="resumo-fases">
                    <h2 class="resumo-title">üìã Contexto Estrat√©gico (das 4 Fases)</h2>
                    
                    <div class="resumo-grid" id="resumoConsultorias">
                        <div class="resumo-item">
                            <strong>üéØ Problema que Resolve:</strong>
                            <p id="resumo_problemaResolver_consultorias">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí° Nome do Produto:</strong>
                            <p id="resumo_nomePersuasivo_consultorias">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üë• P√∫blico-Alvo:</strong>
                            <p id="resumo_publicoAlvo_consultorias">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí∞ Pre√ßo Estimado:</strong>
                            <p id="resumo_preco_consultorias">-</p>
                        </div>
                    </div>

                    <h3 style="text-align: center; color: var(--rosa-destaque); margin: 2rem 0 1rem;">üìù Anota√ß√µes Completas das Fases</h3>
                    <div class="anotacoes-cards">
                        <div class="anotacao-card" onclick="abrirAnotacoes('consultorias', 1)">
                            <div class="anotacao-icon">‚ö°</div>
                            <div class="anotacao-info">
                                <h4>Fase 1: Poder Digital</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('consultorias', 2)">
                            <div class="anotacao-icon">üß†</div>
                            <div class="anotacao-info">
                                <h4>Fase 2: Brainstorm e M√©todo</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('consultorias', 3)">
                            <div class="anotacao-icon">üéÅ</div>
                            <div class="anotacao-info">
                                <h4>Fase 3: Promessa e Oferta</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('consultorias', 4)">
                            <div class="anotacao-icon">üéØ</div>
                            <div class="anotacao-info">
                                <h4>Fase 4: P√∫blico e Mercado</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                    </div>
                    
                    <div class="ai-assistant-link">
                        <a href="https://chatgpt.com/g/g-CRIAR-AGENTE-CONSULTORIA" target="_blank" class="fase-link">
                            <span>ü§ñ</span>
                            <span>Assistente IA Especialista em Consultorias</span>
                            <span class="fase-link-icon">üîó</span>
                        </a>
                        <p class="hint">üí° Use o assistente para estruturar metodologia, definir escopo e precificar servi√ßos de consultoria</p>
                    </div>
                </div>

                <!-- √Årea de Importa√ß√£o do Relat√≥rio -->
                <div class="importar-relatorio">
                    <h3>üì• Importar Relat√≥rio do Agente IA</h3>
                    <p>Cole aqui o relat√≥rio completo gerado pelo agente especializado e clique em "Importar" para preencher automaticamente os campos abaixo.</p>
                    <textarea id="relatorioImportar_consultorias" placeholder="Cole aqui o relat√≥rio do agente IA..."></textarea>
                    <button type="button" class="btn-importar" onclick="importarRelatorio('consultorias')">
                        ‚¨áÔ∏è Importar e Preencher Campos
                    </button>
                </div>

                <!-- Formul√°rio de Consultoria -->
                <form id="formConsultorias" class="form-container">
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üìä</span>
                            Estrutura da Consultoria
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="consultoria_duracao">Dura√ß√£o Total</label>
                                <input type="text" id="consultoria_duracao" placeholder="Ex: 3 meses, 40 horas, 5 dias">
                            </div>
                            <div class="form-group">
                                <label for="consultoria_formato">Formato</label>
                                <select id="consultoria_formato">
                                    <option value="">Selecione...</option>
                                    <option value="Individual">Individual</option>
                                    <option value="Equipe">Para equipes</option>
                                    <option value="Empresa">Empresarial</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="consultoria_modalidade">Modalidade</label>
                                <select id="consultoria_modalidade">
                                    <option value="">Selecione...</option>
                                    <option value="Presencial">Presencial</option>
                                    <option value="Online">100% Online</option>
                                    <option value="Hibrido">H√≠brido</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="consultoria_numeroSessoes">N√∫mero de Sess√µes</label>
                                <input type="number" id="consultoria_numeroSessoes" min="1" placeholder="Ex: 8">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="consultoria_metodologia">Metodologia/Framework Utilizado</label>
                            <textarea id="consultoria_metodologia" rows="6" placeholder="Descreva a metodologia que ser√° aplicada, frameworks, ferramentas e abordagem..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="consultoria_escopo">Escopo Detalhado</label>
                            <textarea id="consultoria_escopo" rows="6" placeholder="Defina claramente o que est√° inclu√≠do e o que n√£o est√° inclu√≠do no escopo da consultoria..."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üì¶</span>
                            Entreg√°veis
                        </h2>

                        <div class="form-group">
                            <label>Entreg√°veis Inclu√≠dos:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" id="consultoria_ent_diagnostico"> Diagn√≥stico inicial completo</label>
                                <label><input type="checkbox" id="consultoria_ent_planoAcao"> Plano de a√ß√£o estrat√©gico</label>
                                <label><input type="checkbox" id="consultoria_ent_relatorios"> Relat√≥rios de progresso</label>
                                <label><input type="checkbox" id="consultoria_ent_apresentacao"> Apresenta√ß√£o executiva</label>
                                <label><input type="checkbox" id="consultoria_ent_templates"> Templates e ferramentas</label>
                                <label><input type="checkbox" id="consultoria_ent_roadmap"> Roadmap de implementa√ß√£o</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="consultoria_entregaveisDetalhes">Detalhes dos Entreg√°veis</label>
                            <textarea id="consultoria_entregaveisDetalhes" rows="5" placeholder="Descreva em detalhes cada entreg√°vel, formato, prazo de entrega, etc."></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="consultoria_followup">Follow-up Incluso</label>
                                <select id="consultoria_followup">
                                    <option value="">Selecione...</option>
                                    <option value="Nenhum">Sem follow-up</option>
                                    <option value="1mes">1 m√™s de follow-up</option>
                                    <option value="3meses">3 meses de follow-up</option>
                                    <option value="6meses">6 meses de follow-up</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="consultoria_suporte">Suporte P√≥s-Consultoria</label>
                                <select id="consultoria_suporte">
                                    <option value="Nao">N√£o inclu√≠do</option>
                                    <option value="Email">Email por per√≠odo determinado</option>
                                    <option value="Reunioes">Reuni√µes de acompanhamento</option>
                                    <option value="Ilimitado">Suporte ilimitado por prazo</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üí∞</span>
                            Precifica√ß√£o e Investimento
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="consultoria_modeloPrecificacao">Modelo de Precifica√ß√£o</label>
                                <select id="consultoria_modeloPrecificacao">
                                    <option value="">Selecione...</option>
                                    <option value="Pacote">Pacote fechado</option>
                                    <option value="Horas">Por hora trabalhada</option>
                                    <option value="Projeto">Por projeto</option>
                                    <option value="Retainer">Retainer mensal</option>
                                    <option value="Resultado">Baseado em resultados</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="consultoria_investimento">Investimento Total</label>
                                <input type="text" id="consultoria_investimento" placeholder="Ex: R$ 15.000">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="consultoria_formasPagamento">Formas de Pagamento Aceitas</label>
                            <input type="text" id="consultoria_formasPagamento" placeholder="Ex: √Ä vista com desconto, parcelado em at√© 3x, PIX, transfer√™ncia">
                        </div>

                        <div class="form-group">
                            <label for="consultoria_observacoes">Observa√ß√µes Adicionais</label>
                            <textarea id="consultoria_observacoes" rows="4" placeholder="Informa√ß√µes extras, requisitos do cliente, termos contratuais..."></textarea>
                        </div>
                    </div>

                    <!-- ETAPA 1: Gest√£o Visual e Links -->
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üé®</span>
                            Gest√£o Visual e Links
                        </h2>

                        <div class="form-group">
                            <label for="consultoria_thumbnail">üñºÔ∏è Imagem/Thumbnail do Produto</label>
                            
                            <div class="upload-options">
                                <div class="upload-tabs">
                                    <button type="button" class="upload-tab active" onclick="alternarUploadTipo('consultorias', 'upload')">
                                        üì§ Upload de Arquivo
                                    </button>
                                    <button type="button" class="upload-tab" onclick="alternarUploadTipo('consultorias', 'url')">
                                        üîó URL Externa
                                    </button>
                                </div>
                                
                                <div id="upload_consultorias_upload" class="upload-content active">
                                    <div class="upload-area" id="uploadArea_consultorias_thumb" onclick="document.getElementById('consultorias_thumbnail_file').click()">
                                        <input type="file" id="consultorias_thumbnail_file" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'consultorias')">
                                        <div class="upload-icon">üì∏</div>
                                        <div class="upload-text">Clique para selecionar logo/imagem</div>
                                        <div class="upload-hint">PNG, JPG ou WEBP at√© 5MB</div>
                                    </div>
                                    <div id="preview_consultorias_thumb" class="image-preview" style="display: none;">
                                        <img id="previewImg_consultorias_thumb" alt="Preview">
                                        <button type="button" class="btn-remover-imagem" onclick="removerImagemUpload('consultorias')">
                                            üóëÔ∏è Remover
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="upload_consultorias_url" class="upload-content">
                                    <input type="url" id="consultorias_thumbnail_url" placeholder="https://exemplo.com/logo-consultoria.jpg" onchange="atualizarThumbnailUrl('consultorias')">
                                    <div class="form-tip">
                                        üí° Cole a URL de uma imagem hospedada externamente
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="consultoria_progresso">üìä Progresso do Produto (%)</label>
                            <input type="number" id="consultoria_progresso" min="0" max="100" value="0" placeholder="0">
                            <div class="form-tip">
                                üìà Defina o percentual de conclus√£o do produto (0 a 100%)
                            </div>

                        <!-- ETAPA 3: Galeria de Imagens -->
                        <div class="form-group">
                            <label>üñºÔ∏è Galeria de Imagens</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üì∏ Adicione imagens (apresenta√ß√µes, cases, materiais)
                            </div>
                            
                            <div class="gallery-grid" id="galeriaContainer_consultorias">
                                <div class="gallery-upload-area" onclick="adicionarImagemGaleria('consultorias')">
                                    <div class="gallery-upload-icon">üì∏</div>
                                    <div class="gallery-upload-text">Adicionar imagens</div>
                                </div>
                            </div>
                        </div>

                        </div>

                        <div class="form-group">
                            <label>üîó Links e Recursos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìé Adicione links importantes (proposta, contrato, materiais, etc)
                            </div>
                            
                            <div id="linksContainer_consultorias">
                                <!-- Links ser√£o adicionados aqui -->
                            </div>

                            <button type="button" class="btn-adicionar-link" onclick="adicionarLink('consultorias')">
                                ‚ûï Adicionar Link
                            </button>
                        </div>

                        <!-- ETAPA 2: Sistema de Arquivos Anexos -->
                        <div class="form-group">
                            <label>üìé Arquivos Anexos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìÑ Fa√ßa upload de propostas, contratos, apresenta√ß√µes e materiais
                            </div>
                            
                            <div class="upload-area" id="uploadArea_consultorias_files" onclick="document.getElementById('consultorias_files_input').click()">
                                <input type="file" id="consultorias_files_input" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip" style="display: none;" onchange="handleFilesUpload(this, 'consultorias')">
                                <div class="upload-icon">üìÅ</div>
                                <div class="upload-text">Clique para selecionar arquivos</div>
                                <div class="upload-hint">PDF, DOC, XLS, PPT, TXT, ZIP at√© 10MB cada</div>
                            </div>
                            
                            <div id="filesContainer_consultorias" class="files-list">
                                <!-- Arquivos anexados aparecer√£o aqui -->
                            </div>
                        </div>

                        <!-- ETAPA 2: Checklist de Progresso Detalhado -->
                        <div class="form-group">
                            <label>‚úÖ Checklist de Progresso</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìã Acompanhe as etapas de estrutura√ß√£o da consultoria
                            </div>
                            
                            <div class="checklist-container">
                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üìã</span>
                                        <span class="checklist-fase-titulo">Estrutura√ß√£o do Servi√ßo</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Escopo e metodologia definidos</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Processo de diagn√≥stico criado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Templates de entreg√°veis preparados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Cronograma padr√£o estabelecido</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üìÑ</span>
                                        <span class="checklist-fase-titulo">Materiais e Propostas</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Modelo de proposta comercial</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Contrato de presta√ß√£o de servi√ßos</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Apresenta√ß√£o institucional</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Materiais de apoio (planilhas, guias)</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üí∞</span>
                                        <span class="checklist-fase-titulo">Precifica√ß√£o e Comercial</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Tabela de pre√ßos definida</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Condi√ß√µes de pagamento estabelecidas</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Pol√≠ticas de cancelamento/reembolso</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üéØ</span>
                                        <span class="checklist-fase-titulo">Capta√ß√£o de Clientes</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Estrat√©gia de prospec√ß√£o ativa</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Materiais de divulga√ß√£o criados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Cases de sucesso documentados</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">‚úÖ</span>
                                        <span class="checklist-fase-titulo">Primeiros Projetos</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Primeiro cliente fechado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('consultorias')">
                                            <span>Consultoria piloto realizada</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="progresso-calculado">
                                <div class="progresso-info">
                                    <span class="progresso-label">Progresso Total:</span>
                                    <span class="progresso-valor" id="progressoCalculado_consultorias">0%</span>
                                </div>
                                <div class="progress-bar-container" style="height: 12px; margin-top: 0.5rem;">
                                    <div class="progress-bar-fill" id="progressoBar_consultorias" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="voltarParaMainCards()">
                            ‚Üê Voltar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar Consultoria
                        </button>
                    </div>
                </form>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- MENTORIAS -->
            <section id="mentorias" class="page-section">
                <header class="header">
                    <h1>üéØ Criar Mentoria</h1>
                    <p>Estruture seu programa de mentoria individual ou em grupo</p>
                </header>

                <!-- Resumo das 4 Fases -->
                <div class="resumo-fases">
                    <h2 class="resumo-title">üìã Contexto Estrat√©gico (das 4 Fases)</h2>
                    
                    <div class="resumo-grid" id="resumoMentorias">
                        <div class="resumo-item">
                            <strong>üéØ Problema que Resolve:</strong>
                            <p id="resumo_problemaResolver_mentorias">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí° Nome do Produto:</strong>
                            <p id="resumo_nomePersuasivo_mentorias">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üë• P√∫blico-Alvo:</strong>
                            <p id="resumo_publicoAlvo_mentorias">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí∞ Pre√ßo Estimado:</strong>
                            <p id="resumo_preco_mentorias">-</p>
                        </div>
                    </div>

                    <h3 style="text-align: center; color: var(--rosa-destaque); margin: 2rem 0 1rem;">üìù Anota√ß√µes Completas das Fases</h3>
                    <div class="anotacoes-cards">
                        <div class="anotacao-card" onclick="abrirAnotacoes('mentorias', 1)">
                            <div class="anotacao-icon">‚ö°</div>
                            <div class="anotacao-info">
                                <h4>Fase 1: Poder Digital</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('mentorias', 2)">
                            <div class="anotacao-icon">üß†</div>
                            <div class="anotacao-info">
                                <h4>Fase 2: Brainstorm e M√©todo</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('mentorias', 3)">
                            <div class="anotacao-icon">üéÅ</div>
                            <div class="anotacao-info">
                                <h4>Fase 3: Promessa e Oferta</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('mentorias', 4)">
                            <div class="anotacao-icon">üéØ</div>
                            <div class="anotacao-info">
                                <h4>Fase 4: P√∫blico e Mercado</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                    </div>
                    
                    <div class="ai-assistant-link">
                        <a href="https://chatgpt.com/g/g-CRIAR-AGENTE-MENTORIA" target="_blank" class="fase-link">
                            <span>ü§ñ</span>
                            <span>Assistente IA Especialista em Mentorias</span>
                            <span class="fase-link-icon">üîó</span>
                        </a>
                        <p class="hint">üí° Use o assistente para estruturar programas, definir cronogramas e criar estrat√©gias de acompanhamento</p>
                    </div>
                </div>

                <!-- √Årea de Importa√ß√£o do Relat√≥rio -->
                <div class="importar-relatorio">
                    <h3>üì• Importar Relat√≥rio do Agente IA</h3>
                    <p>Cole aqui o relat√≥rio completo gerado pelo agente especializado e clique em "Importar" para preencher automaticamente os campos abaixo.</p>
                    <textarea id="relatorioImportar_mentorias" placeholder="Cole aqui o relat√≥rio do agente IA..."></textarea>
                    <button type="button" class="btn-importar" onclick="importarRelatorio('mentorias')">
                        ‚¨áÔ∏è Importar e Preencher Campos
                    </button>
                </div>

                <!-- Formul√°rio de Mentoria -->
                <form id="formMentorias" class="form-container">
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üìÖ</span>
                            Programa de Mentoria
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mentoria_duracao">Dura√ß√£o Total do Programa</label>
                                <input type="text" id="mentoria_duracao" placeholder="Ex: 3 meses, 12 semanas, 6 meses">
                            </div>
                            <div class="form-group">
                                <label for="mentoria_tipo">Tipo de Mentoria</label>
                                <select id="mentoria_tipo">
                                    <option value="">Selecione...</option>
                                    <option value="Individual">Individual (1 a 1)</option>
                                    <option value="Grupo">Em grupo</option>
                                    <option value="Hibrida">H√≠brida (individual + grupo)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mentoria_numeroParticipantes">N√∫mero de Participantes (se grupo)</label>
                                <input type="number" id="mentoria_numeroParticipantes" min="1" placeholder="Ex: 10">
                            </div>
                            <div class="form-group">
                                <label for="mentoria_frequencia">Frequ√™ncia dos Encontros</label>
                                <select id="mentoria_frequencia">
                                    <option value="">Selecione...</option>
                                    <option value="Semanal">Semanal</option>
                                    <option value="Quinzenal">Quinzenal</option>
                                    <option value="Mensal">Mensal</option>
                                    <option value="Personalizada">Personalizada</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mentoria_numeroEncontros">Total de Encontros</label>
                                <input type="number" id="mentoria_numeroEncontros" min="1" placeholder="Ex: 12">
                            </div>
                            <div class="form-group">
                                <label for="mentoria_duracaoEncontro">Dura√ß√£o de Cada Encontro</label>
                                <input type="text" id="mentoria_duracaoEncontro" placeholder="Ex: 1h30, 2 horas">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="mentoria_modalidade">Modalidade</label>
                            <select id="mentoria_modalidade">
                                <option value="">Selecione...</option>
                                <option value="Online">100% Online</option>
                                <option value="Presencial">Presencial</option>
                                <option value="Hibrido">H√≠brido</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üéØ</span>
                            Estrutura e Conte√∫do
                        </h2>

                        <div class="form-group">
                            <label for="mentoria_pilares">Temas/Pilares Principais</label>
                            <textarea id="mentoria_pilares" rows="6" placeholder="Liste os principais temas que ser√£o trabalhados ao longo da mentoria...
Pilar 1: Mindset e Prop√≥sito
Pilar 2: Estrat√©gia e Planejamento
Pilar 3: ..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="mentoria_cronograma">Cronograma Detalhado</label>
                            <textarea id="mentoria_cronograma" rows="8" placeholder="Descreva o cronograma semana a semana ou m√™s a m√™s...
Semana 1-2: Diagn√≥stico e defini√ß√£o de objetivos
Semana 3-4: ..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Materiais de Apoio Inclu√≠dos:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" id="mentoria_mat_workbooks"> Workbooks e exerc√≠cios</label>
                                <label><input type="checkbox" id="mentoria_mat_templates"> Templates e ferramentas</label>
                                <label><input type="checkbox" id="mentoria_mat_leituras"> Materiais de leitura</label>
                                <label><input type="checkbox" id="mentoria_mat_videos"> V√≠deos complementares</label>
                                <label><input type="checkbox" id="mentoria_mat_planilhas"> Planilhas de acompanhamento</label>
                                <label><input type="checkbox" id="mentoria_mat_gravacoes"> Grava√ß√µes dos encontros</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üí¨</span>
                            Acompanhamento e Suporte
                        </h2>

                        <div class="form-group">
                            <label for="mentoria_comunidade">Comunidade Privada</label>
                            <select id="mentoria_comunidade">
                                <option value="">Selecione...</option>
                                <option value="Nao">N√£o inclu√≠da</option>
                                <option value="WhatsApp">Grupo WhatsApp</option>
                                <option value="Telegram">Grupo Telegram</option>
                                <option value="Discord">Servidor Discord</option>
                                <option value="Plataforma">Plataforma exclusiva</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mentoria_suporte">Suporte entre Sess√µes</label>
                                <select id="mentoria_suporte">
                                    <option value="">Selecione...</option>
                                    <option value="Nenhum">Sem suporte adicional</option>
                                    <option value="Email">Via email</option>
                                    <option value="WhatsApp">Via WhatsApp</option>
                                    <option value="PlataformaIlimitado">Plataforma - ilimitado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="mentoria_tempoResposta">Tempo de Resposta</label>
                                <input type="text" id="mentoria_tempoResposta" placeholder="Ex: at√© 48h √∫teis">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mentoria_certificado">Certificado de Conclus√£o</label>
                                <select id="mentoria_certificado">
                                    <option value="Nao">N√£o</option>
                                    <option value="Sim">Sim, inclu√≠do</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="mentoria_followup">Follow-up P√≥s-Programa</label>
                                <select id="mentoria_followup">
                                    <option value="">Selecione...</option>
                                    <option value="Nenhum">Sem follow-up</option>
                                    <option value="1mes">1 m√™s</option>
                                    <option value="3meses">3 meses</option>
                                    <option value="6meses">6 meses</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="mentoria_observacoes">Observa√ß√µes Adicionais</label>
                            <textarea id="mentoria_observacoes" rows="4" placeholder="Requisitos de participa√ß√£o, crit√©rios de sele√ß√£o, informa√ß√µes extras..."></textarea>
                        </div>
                    </div>

                    <!-- ETAPA 1: Gest√£o Visual e Links -->
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üé®</span>
                            Gest√£o Visual e Links
                        </h2>

                        <div class="form-group">
                            <label for="mentoria_thumbnail">üñºÔ∏è Imagem/Thumbnail do Produto</label>
                            
                            <div class="upload-options">
                                <div class="upload-tabs">
                                    <button type="button" class="upload-tab active" onclick="alternarUploadTipo('mentorias', 'upload')">
                                        üì§ Upload de Arquivo
                                    </button>
                                    <button type="button" class="upload-tab" onclick="alternarUploadTipo('mentorias', 'url')">
                                        üîó URL Externa
                                    </button>
                                </div>
                                
                                <div id="upload_mentorias_upload" class="upload-content active">
                                    <div class="upload-area" id="uploadArea_mentorias_thumb" onclick="document.getElementById('mentorias_thumbnail_file').click()">
                                        <input type="file" id="mentorias_thumbnail_file" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'mentorias')">
                                        <div class="upload-icon">üì∏</div>
                                        <div class="upload-text">Clique para selecionar imagem da mentoria</div>
                                        <div class="upload-hint">PNG, JPG ou WEBP at√© 5MB</div>
                                    </div>
                                    <div id="preview_mentorias_thumb" class="image-preview" style="display: none;">
                                        <img id="previewImg_mentorias_thumb" alt="Preview">
                                        <button type="button" class="btn-remover-imagem" onclick="removerImagemUpload('mentorias')">
                                            üóëÔ∏è Remover
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="upload_mentorias_url" class="upload-content">
                                    <input type="url" id="mentorias_thumbnail_url" placeholder="https://exemplo.com/imagem-mentoria.jpg" onchange="atualizarThumbnailUrl('mentorias')">
                                    <div class="form-tip">
                                        üí° Cole a URL de uma imagem hospedada externamente
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="mentoria_progresso">üìä Progresso do Produto (%)</label>
                            <input type="number" id="mentoria_progresso" min="0" max="100" value="0" placeholder="0">
                            <div class="form-tip">
                                üìà Defina o percentual de conclus√£o do produto (0 a 100%)
                            </div>

                        <!-- ETAPA 3: Galeria de Imagens -->
                        <div class="form-group">
                            <label>üñºÔ∏è Galeria de Imagens</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üì∏ Adicione imagens (encontros, materiais, workbooks)
                            </div>
                            
                            <div class="gallery-grid" id="galeriaContainer_mentorias">
                                <div class="gallery-upload-area" onclick="adicionarImagemGaleria('mentorias')">
                                    <div class="gallery-upload-icon">üì∏</div>
                                    <div class="gallery-upload-text">Adicionar imagens</div>
                                </div>
                            </div>
                        </div>

                        </div>

                        <div class="form-group">
                            <label>üîó Links e Recursos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìé Adicione links importantes (comunidade, materiais, calend√°rio, etc)
                            </div>
                            
                            <div id="linksContainer_mentorias">
                                <!-- Links ser√£o adicionados aqui -->
                            </div>

                            <button type="button" class="btn-adicionar-link" onclick="adicionarLink('mentorias')">
                                ‚ûï Adicionar Link
                            </button>
                        </div>

                        <!-- ETAPA 2: Sistema de Arquivos Anexos -->
                        <div class="form-group">
                            <label>üìé Arquivos Anexos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìÑ Fa√ßa upload de materiais, workbooks, cronogramas e recursos
                            </div>
                            
                            <div class="upload-area" id="uploadArea_mentorias_files" onclick="document.getElementById('mentorias_files_input').click()">
                                <input type="file" id="mentorias_files_input" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip" style="display: none;" onchange="handleFilesUpload(this, 'mentorias')">
                                <div class="upload-icon">üìÅ</div>
                                <div class="upload-text">Clique para selecionar arquivos</div>
                                <div class="upload-hint">PDF, DOC, XLS, PPT, TXT, ZIP at√© 10MB cada</div>
                            </div>
                            
                            <div id="filesContainer_mentorias" class="files-list">
                                <!-- Arquivos anexados aparecer√£o aqui -->
                            </div>
                        </div>

                        <!-- ETAPA 2: Checklist de Progresso Detalhado -->
                        <div class="form-group">
                            <label>‚úÖ Checklist de Progresso</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìã Acompanhe as etapas de cria√ß√£o da mentoria
                            </div>
                            
                            <div class="checklist-container">
                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üìö</span>
                                        <span class="checklist-fase-titulo">Programa e Conte√∫do</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Estrutura do programa definida</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Cronograma de encontros criado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Conte√∫do de cada sess√£o preparado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Atividades pr√°ticas desenvolvidas</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üìñ</span>
                                        <span class="checklist-fase-titulo">Materiais de Apoio</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Workbooks para mentorados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Templates e planilhas</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Lista de leituras/recursos</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Certificado de conclus√£o</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üí¨</span>
                                        <span class="checklist-fase-titulo">Plataforma e Comunidade</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Plataforma de encontros definida</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Comunidade privada criada</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Sistema de suporte configurado</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üéì</span>
                                        <span class="checklist-fase-titulo">Divulga√ß√£o e Inscri√ß√µes</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>P√°gina de inscri√ß√£o pronta</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Processo seletivo estruturado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Materiais de divulga√ß√£o criados</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üë•</span>
                                        <span class="checklist-fase-titulo">Primeira Turma</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Mentorados selecionados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Primeiro encontro realizado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('mentorias')">
                                            <span>Feedback e ajustes iniciais</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="progresso-calculado">
                                <div class="progresso-info">
                                    <span class="progresso-label">Progresso Total:</span>
                                    <span class="progresso-valor" id="progressoCalculado_mentorias">0%</span>
                                </div>
                                <div class="progress-bar-container" style="height: 12px; margin-top: 0.5rem;">
                                    <div class="progress-bar-fill" id="progressoBar_mentorias" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="voltarParaMainCards()">
                            ‚Üê Voltar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar Mentoria
                        </button>
                    </div>
                </form>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

            <!-- TEMPLATES -->
            <section id="templates" class="page-section">
                <header class="header">
                    <h1>üé® Criar Template</h1>
                    <p>Estruture templates prontos para uso: planilhas, designs e documentos</p>
                </header>

                <!-- Resumo das 4 Fases -->
                <div class="resumo-fases">
                    <h2 class="resumo-title">üìã Contexto Estrat√©gico (das 4 Fases)</h2>
                    
                    <div class="resumo-grid" id="resumoTemplates">
                        <div class="resumo-item">
                            <strong>üéØ Problema que Resolve:</strong>
                            <p id="resumo_problemaResolver_templates">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí° Nome do Produto:</strong>
                            <p id="resumo_nomePersuasivo_templates">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üë• P√∫blico-Alvo:</strong>
                            <p id="resumo_publicoAlvo_templates">-</p>
                        </div>
                        <div class="resumo-item">
                            <strong>üí∞ Pre√ßo Estimado:</strong>
                            <p id="resumo_preco_templates">-</p>
                        </div>
                    </div>

                    <h3 style="text-align: center; color: var(--rosa-destaque); margin: 2rem 0 1rem;">üìù Anota√ß√µes Completas das Fases</h3>
                    <div class="anotacoes-cards">
                        <div class="anotacao-card" onclick="abrirAnotacoes('templates', 1)">
                            <div class="anotacao-icon">‚ö°</div>
                            <div class="anotacao-info">
                                <h4>Fase 1: Poder Digital</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('templates', 2)">
                            <div class="anotacao-icon">üß†</div>
                            <div class="anotacao-info">
                                <h4>Fase 2: Brainstorm e M√©todo</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('templates', 3)">
                            <div class="anotacao-icon">üéÅ</div>
                            <div class="anotacao-info">
                                <h4>Fase 3: Promessa e Oferta</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                        <div class="anotacao-card" onclick="abrirAnotacoes('templates', 4)">
                            <div class="anotacao-icon">üéØ</div>
                            <div class="anotacao-info">
                                <h4>Fase 4: P√∫blico e Mercado</h4>
                                <p>Clique para ver anota√ß√µes completas</p>
                            </div>
                            <div class="anotacao-arrow">‚Üí</div>
                        </div>
                    </div>
                    
                    <div class="ai-assistant-link">
                        <a href="https://chatgpt.com/g/g-CRIAR-AGENTE-TEMPLATES" target="_blank" class="fase-link">
                            <span>ü§ñ</span>
                            <span>Assistente IA Especialista em Templates</span>
                            <span class="fase-link-icon">üîó</span>
                        </a>
                        <p class="hint">üí° Use o assistente para criar templates profissionais, definir varia√ß√µes e estruturar produtos digitais</p>
                    </div>
                </div>

                <!-- √Årea de Importa√ß√£o do Relat√≥rio -->
                <div class="importar-relatorio">
                    <h3>üì• Importar Relat√≥rio do Agente IA</h3>
                    <p>Cole aqui o relat√≥rio completo gerado pelo agente especializado e clique em "Importar" para preencher automaticamente os campos abaixo.</p>
                    <textarea id="relatorioImportar_templates" placeholder="Cole aqui o relat√≥rio do agente IA..."></textarea>
                    <button type="button" class="btn-importar" onclick="importarRelatorio('templates')">
                        ‚¨áÔ∏è Importar e Preencher Campos
                    </button>
                </div>

                <!-- Formul√°rio de Templates -->
                <form id="formTemplates" class="form-container">
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üìã</span>
                            Informa√ß√µes do Template
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="template_tipo">Tipo de Template</label>
                                <select id="template_tipo">
                                    <option value="">Selecione...</option>
                                    <option value="Planilha">üìä Planilha/Excel</option>
                                    <option value="Apresentacao">üìΩÔ∏è Apresenta√ß√£o/Slides</option>
                                    <option value="Design">üé® Design/Arte</option>
                                    <option value="Documento">üìÑ Documento/Texto</option>
                                    <option value="Social">üì± Redes Sociais</option>
                                    <option value="Website">üåê Website/Landing Page</option>
                                    <option value="Email">üìß Email Marketing</option>
                                    <option value="Outro">Outro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="template_software">Software Necess√°rio</label>
                                <input type="text" id="template_software" placeholder="Ex: Excel, Google Sheets, Canva, PowerPoint">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="template_descricao">Descri√ß√£o Detalhada</label>
                            <textarea id="template_descricao" rows="6" placeholder="Descreva o que o template faz, quais problemas resolve, como usar..."></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="template_numeroVariacoes">N√∫mero de Varia√ß√µes</label>
                                <input type="number" id="template_numeroVariacoes" min="1" placeholder="Ex: 5 vers√µes diferentes">
                            </div>
                            <div class="form-group">
                                <label for="template_customizacao">N√≠vel de Customiza√ß√£o</label>
                                <select id="template_customizacao">
                                    <option value="">Selecione...</option>
                                    <option value="Basica">B√°sica (cores e textos)</option>
                                    <option value="Intermediaria">Intermedi√°ria (+ layout)</option>
                                    <option value="Avancada">Avan√ßada (totalmente edit√°vel)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Recursos Inclu√≠dos:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" id="template_rec_instrucoes"> Instru√ß√µes de uso</label>
                                <label><input type="checkbox" id="template_rec_video"> V√≠deo tutorial</label>
                                <label><input type="checkbox" id="template_rec_exemplos"> Exemplos preenchidos</label>
                                <label><input type="checkbox" id="template_rec_fontes"> Fontes inclu√≠das</label>
                                <label><input type="checkbox" id="template_rec_imagens"> Banco de imagens</label>
                                <label><input type="checkbox" id="template_rec_icones"> Pack de √≠cones</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üì¶</span>
                            Formato e Entrega
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="template_formatoArquivo">Formato do Arquivo</label>
                                <input type="text" id="template_formatoArquivo" placeholder="Ex: .xlsx, .pptx, .psd, .ai, .docx">
                            </div>
                            <div class="form-group">
                                <label for="template_tamanhoArquivo">Tamanho Estimado</label>
                                <input type="text" id="template_tamanhoArquivo" placeholder="Ex: 5 MB, 20 MB">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="template_formaEntrega">Forma de Entrega</label>
                            <select id="template_formaEntrega">
                                <option value="">Selecione...</option>
                                <option value="Download">Download direto</option>
                                <option value="Email">Via email</option>
                                <option value="Drive">Google Drive</option>
                                <option value="Dropbox">Dropbox</option>
                                <option value="Plataforma">√Årea de membros</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="template_atualizacoes">Atualiza√ß√µes</label>
                                <select id="template_atualizacoes">
                                    <option value="">Selecione...</option>
                                    <option value="Nenhuma">Sem atualiza√ß√µes</option>
                                    <option value="6meses">Por 6 meses</option>
                                    <option value="12meses">Por 1 ano</option>
                                    <option value="Vitalicio">Vital√≠cias</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="template_suporte">Suporte T√©cnico</label>
                                <select id="template_suporte">
                                    <option value="">Selecione...</option>
                                    <option value="Nenhum">N√£o inclu√≠do</option>
                                    <option value="Email">Via email</option>
                                    <option value="Ticket">Sistema de tickets</option>
                                    <option value="Comunidade">Comunidade de usu√°rios</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="template_compatibilidade">Compatibilidade/Requisitos</label>
                            <textarea id="template_compatibilidade" rows="3" placeholder="Ex: Compat√≠vel com Excel 2016+, Google Sheets. Requer instala√ß√£o de fontes espec√≠ficas."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>‚öñÔ∏è</span>
                            Licen√ßa de Uso
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="template_licenca">Tipo de Licen√ßa</label>
                                <select id="template_licenca">
                                    <option value="">Selecione...</option>
                                    <option value="Pessoal">Uso pessoal apenas</option>
                                    <option value="Comercial">Uso comercial permitido</option>
                                    <option value="Estendida">Licen√ßa estendida</option>
                                    <option value="Ilimitada">Uso ilimitado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="template_revenda">Revenda/Redistribui√ß√£o</label>
                                <select id="template_revenda">
                                    <option value="Nao">N√£o permitida</option>
                                    <option value="Modificado">Permitida se modificado</option>
                                    <option value="Sim">Permitida</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="template_restricoes">Restri√ß√µes de Uso</label>
                            <textarea id="template_restricoes" rows="3" placeholder="Descreva qualquer restri√ß√£o: n√∫mero de projetos, atribui√ß√£o necess√°ria, etc."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="template_observacoes">Observa√ß√µes Adicionais</label>
                            <textarea id="template_observacoes" rows="4" placeholder="Informa√ß√µes extras, ideias de expans√£o, feedback de usu√°rios..."></textarea>
                        </div>
                    </div>

                    <!-- ETAPA 1: Gest√£o Visual e Links -->
                    <div class="form-section">
                        <h2 class="form-section-title">
                            <span>üé®</span>
                            Gest√£o Visual e Links
                        </h2>

                        <div class="form-group">
                            <label for="template_thumbnail">üñºÔ∏è Imagem/Thumbnail do Produto</label>
                            
                            <div class="upload-options">
                                <div class="upload-tabs">
                                    <button type="button" class="upload-tab active" onclick="alternarUploadTipo('templates', 'upload')">
                                        üì§ Upload de Arquivo
                                    </button>
                                    <button type="button" class="upload-tab" onclick="alternarUploadTipo('templates', 'url')">
                                        üîó URL Externa
                                    </button>
                                </div>
                                
                                <div id="upload_templates_upload" class="upload-content active">
                                    <div class="upload-area" id="uploadArea_templates_thumb" onclick="document.getElementById('templates_thumbnail_file').click()">
                                        <input type="file" id="templates_thumbnail_file" accept="image/*" style="display: none;" onchange="handleImageUpload(this, 'templates')">
                                        <div class="upload-icon">üì∏</div>
                                        <div class="upload-text">Clique para selecionar preview do template</div>
                                        <div class="upload-hint">PNG, JPG ou WEBP at√© 5MB</div>
                                    </div>
                                    <div id="preview_templates_thumb" class="image-preview" style="display: none;">
                                        <img id="previewImg_templates_thumb" alt="Preview">
                                        <button type="button" class="btn-remover-imagem" onclick="removerImagemUpload('templates')">
                                            üóëÔ∏è Remover
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="upload_templates_url" class="upload-content">
                                    <input type="url" id="templates_thumbnail_url" placeholder="https://exemplo.com/preview-template.jpg" onchange="atualizarThumbnailUrl('templates')">
                                    <div class="form-tip">
                                        üí° Cole a URL de um preview hospedado externamente
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="template_progresso">üìä Progresso do Produto (%)</label>
                            <input type="number" id="template_progresso" min="0" max="100" value="0" placeholder="0">
                            <div class="form-tip">
                                üìà Defina o percentual de conclus√£o do produto (0 a 100%)
                            </div>

                        <!-- ETAPA 3: Galeria de Imagens -->
                        <div class="form-group">
                            <label>üñºÔ∏è Galeria de Imagens</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üì∏ Adicione previews e varia√ß√µes do template
                            </div>
                            
                            <div class="gallery-grid" id="galeriaContainer_templates">
                                <div class="gallery-upload-area" onclick="adicionarImagemGaleria('templates')">
                                    <div class="gallery-upload-icon">üì∏</div>
                                    <div class="gallery-upload-text">Adicionar imagens</div>
                                </div>
                            </div>
                        </div>

                        </div>

                        <div class="form-group">
                            <label>üîó Links e Recursos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìé Adicione links importantes (arquivo do template, preview, p√°gina de vendas, etc)
                            </div>
                            
                            <div id="linksContainer_templates">
                                <!-- Links ser√£o adicionados aqui -->
                            </div>

                            <button type="button" class="btn-adicionar-link" onclick="adicionarLink('templates')">
                                ‚ûï Adicionar Link
                            </button>
                        </div>

                        <!-- ETAPA 2: Sistema de Arquivos Anexos -->
                        <div class="form-group">
                            <label>üìé Arquivos Anexos</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìÑ Fa√ßa upload de varia√ß√µes, exemplos, instru√ß√µes e recursos do template
                            </div>
                            
                            <div class="upload-area" id="uploadArea_templates_files" onclick="document.getElementById('templates_files_input').click()">
                                <input type="file" id="templates_files_input" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip" style="display: none;" onchange="handleFilesUpload(this, 'templates')">
                                <div class="upload-icon">üìÅ</div>
                                <div class="upload-text">Clique para selecionar arquivos</div>
                                <div class="upload-hint">PDF, DOC, XLS, PPT, TXT, ZIP at√© 10MB cada</div>
                            </div>
                            
                            <div id="filesContainer_templates" class="files-list">
                                <!-- Arquivos anexados aparecer√£o aqui -->
                            </div>
                        </div>

                        <!-- ETAPA 2: Checklist de Progresso Detalhado -->
                        <div class="form-group">
                            <label>‚úÖ Checklist de Progresso</label>
                            <div class="form-tip" style="margin-bottom: 1rem;">
                                üìã Acompanhe as etapas de cria√ß√£o do template
                            </div>
                            
                            <div class="checklist-container">
                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üé®</span>
                                        <span class="checklist-fase-titulo">Design e Cria√ß√£o</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Design principal finalizado</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Paleta de cores definida</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Tipografia e estilos aplicados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Elementos gr√°ficos criados</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üîÑ</span>
                                        <span class="checklist-fase-titulo">Varia√ß√µes e Exemplos</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>M√∫ltiplas vers√µes criadas</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Exemplos de uso preparados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Customiza√ß√µes dispon√≠veis</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üì¶</span>
                                        <span class="checklist-fase-titulo">Empacotamento</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Instru√ß√µes de uso redigidas</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>V√≠deo tutorial gravado (opcional)</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Arquivos organizados e nomeados</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Licen√ßa de uso definida</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üöÄ</span>
                                        <span class="checklist-fase-titulo">Lan√ßamento e Vendas</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>P√°gina de vendas/preview criada</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Mockups para divulga√ß√£o</span>
                                        </label>
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Estrat√©gia de lan√ßamento</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="checklist-fase">
                                    <div class="checklist-fase-header">
                                        <span class="checklist-icon">üí∞</span>
                                        <span class="checklist-fase-titulo">Primeiras Vendas</span>
                                    </div>
                                    <div class="checklist-items">
                                        <label class="checklist-item">
                                            <input type="checkbox" onchange="calcularProgresso('templates')">
                                            <span>Primeiras vendas confirmadas</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="progresso-calculado">
                                <div class="progresso-info">
                                    <span class="progresso-label">Progresso Total:</span>
                                    <span class="progresso-valor" id="progressoCalculado_templates">0%</span>
                                </div>
                                <div class="progress-bar-container" style="height: 12px; margin-top: 0.5rem;">
                                    <div class="progress-bar-fill" id="progressoBar_templates" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="voltarParaMainCards()">
                            ‚Üê Voltar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar Template
                        </button>
                    </div>
                </form>

                <footer>
                    <p>¬© 2025 Ateli√™ de Projetos - Criado com ‚ù§Ô∏è para K√° Simas</p>
                    <span class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë Voltar ao Topo</span>
                </footer>
            </section>

        </main>
    </div>

    <!-- Modal de Detalhes do Produto -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <h2 class="modal-title" id="modalTitle"></h2>
                    <span class="product-status" id="modalStatus"></span>
                </div>
                <span class="close-modal" onclick="fecharModal()">√ó</span>
            </div>
            
            <!-- ETAPA 3: Sistema de Abas -->
            <div class="modal-tabs">
                <button class="modal-tab active" onclick="mudarAbaModal('visaoGeral')">üìã Vis√£o Geral</button>
                <button class="modal-tab" onclick="mudarAbaModal('recursos')">üîó Recursos</button>
                <button class="modal-tab" onclick="mudarAbaModal('galeria')">üñºÔ∏è Galeria</button>
                <button class="modal-tab" onclick="mudarAbaModal('estrategia')">üéØ Estrat√©gia</button>
                <button class="modal-tab" onclick="mudarAbaModal('exportar')">üì§ Exportar</button>
            </div>

            <!-- ABA 1: Vis√£o Geral -->
            <div id="modalTab_visaoGeral" class="modal-tab-content active">
                <div class="modal-section">
                    <h3>üìã Descri√ß√£o</h3>
                    <p id="modalDescription"></p>
                </div>
                
                <div class="modal-section">
                    <h3>üéØ P√∫blico-Alvo</h3>
                    <p id="modalPublico"></p>
                </div>
                
                <div class="modal-section">
                    <h3>üí∞ Precifica√ß√£o</h3>
                    <p id="modalPreco"></p>
                </div>
                
                <div class="modal-section" id="modalPlataformaSection" style="display: none;">
                    <h3>üì¶ Hospedagem e Distribui√ß√£o</h3>
                    <p><strong>Plataforma:</strong> <span id="modalPlataforma"></span></p>
                </div>
                
                <div class="modal-section" id="modalProgressoSection" style="display: none;">
                    <h3>üìä Progresso do Produto</h3>
                    <div class="progress-bar-container" style="height: 20px; margin: 1rem 0;">
                        <div class="progress-bar-fill" id="modalProgressoBar" style="height: 100%;"></div>
                    </div>
                    <p class="progress-percentage" id="modalProgressoTexto" style="font-size: 1.1rem; margin-top: 0.5rem;"></p>
                </div>
                
                <div class="modal-section">
                    <h3>üìù Observa√ß√µes</h3>
                    <p id="modalObservacoes"></p>
                </div>
                
                <div class="modal-section">
                    <h3>üìÖ Informa√ß√µes</h3>
                    <p><strong>Tipo:</strong> <span id="modalTipo"></span></p>
                    <p><strong>Criado em:</strong> <span id="modalData"></span></p>
                </div>
            </div>

            <!-- ABA 2: Recursos (Links e Arquivos) -->
            <div id="modalTab_recursos" class="modal-tab-content">
                <div class="modal-links-section" id="modalLinksSection" style="display: none;">
                    <h3>üîó Links e Recursos</h3>
                    <div id="modalLinksContainer"></div>
                </div>
                
                <div class="modal-links-section" id="modalArquivosSection" style="display: none;">
                    <h3>üìé Arquivos Anexos</h3>
                    <div id="modalArquivosContainer"></div>
                </div>

                <div id="semRecursos" class="empty-state" style="padding: 3rem;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üì¶</div>
                    <p>Nenhum recurso anexado ainda</p>
                </div>
            </div>

            <!-- ABA 3: Galeria -->
            <div id="modalTab_galeria" class="modal-tab-content">
                <div class="gallery-section">
                    <h3>üñºÔ∏è Galeria de Imagens</h3>
                    <div class="gallery-grid" id="modalGaleriaContainer">
                        <!-- Galeria ser√° preenchida aqui -->
                    </div>
                </div>
            </div>

            <!-- ABA 4: Estrat√©gia (4 Fases) -->
            <div id="modalTab_estrategia" class="modal-tab-content">
                <div id="anotacoesCards">
                    <!-- Cards das 4 fases j√° existentes -->
                </div>
            </div>

            <!-- ABA 5: Exportar -->
            <div id="modalTab_exportar" class="modal-tab-content">
                <div class="modal-section">
                    <h3>üì§ Exportar Produto</h3>
                    <p style="color: var(--cinza-medio); margin-bottom: 1.5rem;">
                        Exporte todas as informa√ß√µes do produto para backup ou compartilhamento
                    </p>
                    
                    <div class="export-buttons">
                        <button class="btn-export btn-export-json" onclick="exportarJSON()">
                            üìÑ Exportar JSON
                        </button>
                        <button class="btn-export btn-export-pdf" onclick="exportarPDF()">
                            üìë Exportar PDF
                        </button>
                    </div>
                </div>

                <div class="modal-section" style="margin-top: 2rem;">
                    <h3>üì• Importar Produto</h3>
                    <p style="color: var(--cinza-medio); margin-bottom: 1.5rem;">
                        Restaure um produto a partir de um arquivo JSON exportado anteriormente
                    </p>
                    
                    <input type="file" id="importJsonFile" accept=".json" style="display: none;" onchange="importarJSON(this)">
                    <div class="export-buttons">
                        <button class="btn-export btn-import-json" onclick="document.getElementById('importJsonFile').click()">
                            üì• Importar JSON
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn btn-edit" onclick="editarProduto()">‚úèÔ∏è Editar</button>
                <button class="modal-btn btn-delete" onclick="confirmarExclusao()">üóëÔ∏è Excluir</button>
            </div>
        </div>
    </div>

    <!-- ETAPA 3: Lightbox -->
    <div id="lightbox" class="lightbox" onclick="fecharLightbox(event)">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="fecharLightbox(event)">√ó</button>
            <button class="lightbox-nav lightbox-prev" onclick="navegarGaleria(-1, event)">‚Äπ</button>
            <img id="lightboxImage" class="lightbox-image" src="" alt="">
            <button class="lightbox-nav lightbox-next" onclick="navegarGaleria(1, event)">‚Ä∫</button>
        </div>
    </div>

    <!-- Modal de Guias -->
    <div id="guideModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="guideModalTitle"></h2>
                <span class="close-modal" onclick="fecharGuiaModal()">√ó</span>
            </div>
            <div class="modal-body" id="guideModalBody"></div>
        </div>
    </div>

    <!-- Modal de Detalhes da Conversa -->
    <div id="conversationModal" class="conversation-modal">
        <div class="conversation-modal-content">
            <div class="conversation-modal-header">
                <div>
                    <h2 class="conversation-modal-title" id="conversationModalTitle"></h2>
                    <div class="conversation-modal-meta" id="conversationModalMeta"></div>
                </div>
                <span class="close-modal" onclick="fecharConversationModal()">√ó</span>
            </div>
            <div class="conversation-modal-messages" id="conversationModalMessages"></div>
        </div>
    </div>

    <!-- Modal de Anota√ß√µes das Fases -->
    <div id="modalAnotacoes" class="modal-anotacoes">
        <div class="modal-anotacoes-content">
            <button class="modal-anotacoes-close" onclick="fecharModalAnotacoes()">√ó</button>
            <div class="modal-anotacoes-header">
                <div class="modal-anotacoes-icon" id="iconeFaseModal">‚ö°</div>
                <div class="modal-anotacoes-title">
                    <h2 id="tituloFaseModal">Fase 1: Poder Digital</h2>
                    <p>Anota√ß√µes completas desta fase estrat√©gica</p>
                </div>
            </div>
            <div class="modal-anotacoes-body" id="conteudoFaseModal">
                Carregando anota√ß√µes...
            </div>
        </div>
    </div>

    <script>
        // ==================== GERENCIAMENTO DE NAVEGA√á√ÉO ====================
        function navegarPara(pagina) {
            // Esconder todas as se√ß√µes
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar se√ß√£o selecionada
            document.getElementById(pagina).classList.add('active');
            
            // Atualizar menu ativo
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.closest('.nav-link').classList.add('active');
            
            // Rolar para o topo
            window.scrollTo({top: 0, behavior: 'smooth'});
            
            // A√ß√µes espec√≠ficas por p√°gina
            if (pagina === 'dashboard') {
                atualizarDashboard();
            } else if (pagina === 'produtos') {
                carregarProdutos();
            } else if (pagina === 'novo') {
                limparFormulario();
            } else if (pagina === 'brainstorming') {
                renderizarConversasSalvas();
            }
        }

        // ==================== FORMUL√ÅRIO CURSOS ====================
        // Adicionar event listener quando DOM carregar
        document.addEventListener('DOMContentLoaded', function() {
            const formCursos = document.getElementById('formCursos');
            if (formCursos) {
                formCursos.addEventListener('submit', function(e) {
                    e.preventDefault();
                    salvarCurso();
                });
            }
        });

        function salvarCurso() {
            // Coletar dados das fases
            const dadosFasesString = localStorage.getItem('dados_fases_temp');
            const dadosFases = dadosFasesString ? JSON.parse(dadosFasesString) : {};
            
            // Coletar materiais selecionados
            const materiaisInclusos = [];
            if (document.getElementById('cursos_mat_apostilas')?.checked) materiaisInclusos.push('Apostilas em PDF');
            if (document.getElementById('cursos_mat_exercicios')?.checked) materiaisInclusos.push('Exerc√≠cios pr√°ticos');
            if (document.getElementById('cursos_mat_templates')?.checked) materiaisInclusos.push('Templates/planilhas');
            if (document.getElementById('cursos_mat_certificado')?.checked) materiaisInclusos.push('Certificado de conclus√£o');
            if (document.getElementById('cursos_mat_comunidade')?.checked) materiaisInclusos.push('Acesso √† comunidade privada');
            if (document.getElementById('cursos_mat_suporte')?.checked) materiaisInclusos.push('Suporte direto com instrutor');
            
            const cursosData = {
                // Dados das fases
                ...dadosFases,
                tipo: 'Cursos',
                nome: dadosFases.nomePersuasivo || 'Novo Curso',
                
                // Dados espec√≠ficos do curso
                cargaHoraria: document.getElementById('cursos_cargaHoraria')?.value || '',
                numeroModulos: document.getElementById('cursos_numeroModulos')?.value || '',
                numeroAulas: document.getElementById('cursos_numeroAulas')?.value || '',
                formatoAulas: document.getElementById('cursos_formatoAulas')?.value || '',
                modulosDescricao: document.getElementById('cursos_modulosDescricao')?.value || '',
                materiaisInclusos: materiaisInclusos,
                bonusExtras: document.getElementById('cursos_bonusExtras')?.value || '',
                plataforma: document.getElementById('cursos_plataforma')?.value || '',
                liberacao: document.getElementById('cursos_liberacao')?.value || '',
                duracao: document.getElementById('cursos_duracao')?.value || '',
                observacoes: document.getElementById('cursos_observacoes')?.value || '',
                
                // ETAPA 1: Novos campos
                thumbnail: obterThumbnail('cursos'),
                progresso: calcularProgresso('cursos'),
                links: obterLinksValidos('cursos'),
                
                // ETAPA 2: Novos campos
                arquivos: obterArquivos('cursos'),
                checklistState: obterChecklistState('cursos'),
                galeria: obterGaleria('cursos')
            };
            
            // Salvar no StorageManager
            StorageManager.addProduto(cursosData);
            
            // Limpar dados tempor√°rios
            localStorage.removeItem('dados_fases_temp');
            if (linksData['cursos']) linksData['cursos'] = [];
            if (thumbnailsData['cursos']) thumbnailsData['cursos'] = null;
            if (filesData['cursos']) filesData['cursos'] = [];
            if (galeriaData['cursos']) galeriaData['cursos'] = [];
            
            // Mostrar mensagem e redirecionar
            alert('‚úì Curso criado com sucesso!');
            navegarPara('produtos');
        }

        // ==================== FORMUL√ÅRIO E-BOOK ====================
        document.addEventListener('DOMContentLoaded', function() {
            const formEbook = document.getElementById('formEbook');
            if (formEbook) {
                formEbook.addEventListener('submit', function(e) {
                    e.preventDefault();
                    salvarEbook();
                });
            }
        });

        function salvarEbook() {
            const dadosFasesString = localStorage.getItem('dados_fases_temp');
            const dadosFases = dadosFasesString ? JSON.parse(dadosFasesString) : {};
            
            const recursosVisuais = [];
            if (document.getElementById('ebook_vis_infograficos')?.checked) recursosVisuais.push('Infogr√°ficos');
            if (document.getElementById('ebook_vis_imagens')?.checked) recursosVisuais.push('Imagens ilustrativas');
            if (document.getElementById('ebook_vis_graficos')?.checked) recursosVisuais.push('Gr√°ficos e tabelas');
            if (document.getElementById('ebook_vis_checklists')?.checked) recursosVisuais.push('Checklists visuais');
            if (document.getElementById('ebook_vis_citacoes')?.checked) recursosVisuais.push('Boxes de cita√ß√µes');
            if (document.getElementById('ebook_vis_estudos')?.checked) recursosVisuais.push('Estudos de caso');
            
            const ebookData = {
                ...dadosFases,
                tipo: 'Ebook',
                nome: dadosFases.nomePersuasivo || 'Novo E-book',
                numeroPaginas: document.getElementById('ebook_numeroPaginas')?.value || '',
                numeroCapitulos: document.getElementById('ebook_numeroCapitulos')?.value || '',
                estruturaCapitulos: document.getElementById('ebook_estruturaCapitulos')?.value || '',
                recursosVisuais: recursosVisuais,
                formato: document.getElementById('ebook_formato')?.value || '',
                estilo: document.getElementById('ebook_estilo')?.value || '',
                paletaCores: document.getElementById('ebook_paletaCores')?.value || '',
                tipografia: document.getElementById('ebook_tipografia')?.value || '',
                bonusMateriais: document.getElementById('ebook_bonusMateriais')?.value || '',
                atualizacoes: document.getElementById('ebook_atualizacoes')?.value || '',
                versaoImpressao: document.getElementById('ebook_versaoImpressao')?.value || '',
                observacoes: document.getElementById('ebook_observacoes')?.value || '',
                thumbnail: obterThumbnail('ebook'),
                progresso: calcularProgresso('ebook'),
                links: obterLinksValidos('ebook'),
                arquivos: obterArquivos('ebook'),
                checklistState: obterChecklistState('ebook'),
                galeria: obterGaleria('ebook')
            };
            
            StorageManager.addProduto(ebookData);
            localStorage.removeItem('dados_fases_temp');
            if (linksData['ebook']) linksData['ebook'] = [];
            if (thumbnailsData['ebook']) thumbnailsData['ebook'] = null;
            if (filesData['ebook']) filesData['ebook'] = [];
            if (galeriaData['ebook']) galeriaData['ebook'] = [];
            if (linksData['cursos']) linksData['cursos'] = [];
            alert('‚úì E-book criado com sucesso!');
            navegarPara('produtos');
        }

        // ==================== FORMUL√ÅRIO CONSULTORIAS ====================
        document.addEventListener('DOMContentLoaded', function() {
            const formConsultorias = document.getElementById('formConsultorias');
            if (formConsultorias) {
                formConsultorias.addEventListener('submit', function(e) {
                    e.preventDefault();
                    salvarConsultoria();
                });
            }
        });

        function salvarConsultoria() {
            const dadosFasesString = localStorage.getItem('dados_fases_temp');
            const dadosFases = dadosFasesString ? JSON.parse(dadosFasesString) : {};
            
            const entregaveis = [];
            if (document.getElementById('consultoria_ent_diagnostico')?.checked) entregaveis.push('Diagn√≥stico inicial completo');
            if (document.getElementById('consultoria_ent_planoAcao')?.checked) entregaveis.push('Plano de a√ß√£o estrat√©gico');
            if (document.getElementById('consultoria_ent_relatorios')?.checked) entregaveis.push('Relat√≥rios de progresso');
            if (document.getElementById('consultoria_ent_apresentacao')?.checked) entregaveis.push('Apresenta√ß√£o executiva');
            if (document.getElementById('consultoria_ent_templates')?.checked) entregaveis.push('Templates e ferramentas');
            if (document.getElementById('consultoria_ent_roadmap')?.checked) entregaveis.push('Roadmap de implementa√ß√£o');
            
            const consultoriaData = {
                ...dadosFases,
                tipo: 'Consultorias',
                nome: dadosFases.nomePersuasivo || 'Nova Consultoria',
                duracao: document.getElementById('consultoria_duracao')?.value || '',
                formato: document.getElementById('consultoria_formato')?.value || '',
                modalidade: document.getElementById('consultoria_modalidade')?.value || '',
                numeroSessoes: document.getElementById('consultoria_numeroSessoes')?.value || '',
                metodologia: document.getElementById('consultoria_metodologia')?.value || '',
                escopo: document.getElementById('consultoria_escopo')?.value || '',
                entregaveis: entregaveis,
                entregaveisDetalhes: document.getElementById('consultoria_entregaveisDetalhes')?.value || '',
                followup: document.getElementById('consultoria_followup')?.value || '',
                suporte: document.getElementById('consultoria_suporte')?.value || '',
                modeloPrecificacao: document.getElementById('consultoria_modeloPrecificacao')?.value || '',
                investimento: document.getElementById('consultoria_investimento')?.value || '',
                formasPagamento: document.getElementById('consultoria_formasPagamento')?.value || '',
                observacoes: document.getElementById('consultoria_observacoes')?.value || '',
                thumbnail: obterThumbnail('consultorias'),
                progresso: calcularProgresso('consultorias'),
                links: obterLinksValidos('consultorias'),
                arquivos: obterArquivos('consultorias'),
                checklistState: obterChecklistState('consultorias'),
                galeria: obterGaleria('consultorias')
            };
            
            StorageManager.addProduto(consultoriaData);
            localStorage.removeItem('dados_fases_temp');
            if (linksData['cursos']) linksData['cursos'] = [];
            if (linksData['consultorias']) linksData['consultorias'] = [];
            if (thumbnailsData['consultorias']) thumbnailsData['consultorias'] = null;
            if (filesData['consultorias']) filesData['consultorias'] = [];
            if (galeriaData['consultorias']) galeriaData['consultorias'] = [];
            alert('‚úì Consultoria criada com sucesso!');
            navegarPara('produtos');
        }

        // ==================== FORMUL√ÅRIO MENTORIAS ====================
        document.addEventListener('DOMContentLoaded', function() {
            const formMentorias = document.getElementById('formMentorias');
            if (formMentorias) {
                formMentorias.addEventListener('submit', function(e) {
                    e.preventDefault();
                    salvarMentoria();
                });
            }
        });

        function salvarMentoria() {
            const dadosFasesString = localStorage.getItem('dados_fases_temp');
            const dadosFases = dadosFasesString ? JSON.parse(dadosFasesString) : {};
            
            const materiaisApoio = [];
            if (document.getElementById('mentoria_mat_workbooks')?.checked) materiaisApoio.push('Workbooks e exerc√≠cios');
            if (document.getElementById('mentoria_mat_templates')?.checked) materiaisApoio.push('Templates e ferramentas');
            if (document.getElementById('mentoria_mat_leituras')?.checked) materiaisApoio.push('Materiais de leitura');
            if (document.getElementById('mentoria_mat_videos')?.checked) materiaisApoio.push('V√≠deos complementares');
            if (document.getElementById('mentoria_mat_planilhas')?.checked) materiaisApoio.push('Planilhas de acompanhamento');
            if (document.getElementById('mentoria_mat_gravacoes')?.checked) materiaisApoio.push('Grava√ß√µes dos encontros');
            
            const mentoriaData = {
                ...dadosFases,
                tipo: 'Mentorias',
                nome: dadosFases.nomePersuasivo || 'Nova Mentoria',
                duracao: document.getElementById('mentoria_duracao')?.value || '',
                tipoMentoria: document.getElementById('mentoria_tipo')?.value || '',
                numeroParticipantes: document.getElementById('mentoria_numeroParticipantes')?.value || '',
                frequencia: document.getElementById('mentoria_frequencia')?.value || '',
                numeroEncontros: document.getElementById('mentoria_numeroEncontros')?.value || '',
                duracaoEncontro: document.getElementById('mentoria_duracaoEncontro')?.value || '',
                modalidade: document.getElementById('mentoria_modalidade')?.value || '',
                pilares: document.getElementById('mentoria_pilares')?.value || '',
                cronograma: document.getElementById('mentoria_cronograma')?.value || '',
                materiaisApoio: materiaisApoio,
                comunidade: document.getElementById('mentoria_comunidade')?.value || '',
                suporte: document.getElementById('mentoria_suporte')?.value || '',
                tempoResposta: document.getElementById('mentoria_tempoResposta')?.value || '',
                certificado: document.getElementById('mentoria_certificado')?.value || '',
                followup: document.getElementById('mentoria_followup')?.value || '',
                observacoes: document.getElementById('mentoria_observacoes')?.value || '',
                thumbnail: obterThumbnail('mentorias'),
                progresso: calcularProgresso('mentorias'),
                links: obterLinksValidos('mentorias'),
                arquivos: obterArquivos('mentorias'),
                checklistState: obterChecklistState('mentorias'),
                galeria: obterGaleria('mentorias')
            };
            
            StorageManager.addProduto(mentoriaData);
            localStorage.removeItem('dados_fases_temp');
            if (linksData['cursos']) linksData['cursos'] = [];
            if (linksData['mentorias']) linksData['mentorias'] = [];
            alert('‚úì Mentoria criada com sucesso!');
            navegarPara('produtos');
            if (thumbnailsData['mentorias']) thumbnailsData['mentorias'] = null;
            if (filesData['mentorias']) filesData['mentorias'] = [];
            if (galeriaData['mentorias']) galeriaData['mentorias'] = [];
        }

        // ==================== FORMUL√ÅRIO TEMPLATES ====================
        document.addEventListener('DOMContentLoaded', function() {
            const formTemplates = document.getElementById('formTemplates');
            if (formTemplates) {
                formTemplates.addEventListener('submit', function(e) {
                    e.preventDefault();
                    salvarTemplate();
                });
            }
        });

        function salvarTemplate() {
            const dadosFasesString = localStorage.getItem('dados_fases_temp');
            const dadosFases = dadosFasesString ? JSON.parse(dadosFasesString) : {};
            
            const recursosIncluidos = [];
            if (document.getElementById('template_rec_instrucoes')?.checked) recursosIncluidos.push('Instru√ß√µes de uso');
            if (document.getElementById('template_rec_video')?.checked) recursosIncluidos.push('V√≠deo tutorial');
            if (document.getElementById('template_rec_exemplos')?.checked) recursosIncluidos.push('Exemplos preenchidos');
            if (document.getElementById('template_rec_fontes')?.checked) recursosIncluidos.push('Fontes inclu√≠das');
            if (document.getElementById('template_rec_imagens')?.checked) recursosIncluidos.push('Banco de imagens');
            if (document.getElementById('template_rec_icones')?.checked) recursosIncluidos.push('Pack de √≠cones');
            
            const templateData = {
                ...dadosFases,
                tipo: 'Templates',
                nome: dadosFases.nomePersuasivo || 'Novo Template',
                tipoTemplate: document.getElementById('template_tipo')?.value || '',
                software: document.getElementById('template_software')?.value || '',
                descricao: document.getElementById('template_descricao')?.value || '',
                numeroVariacoes: document.getElementById('template_numeroVariacoes')?.value || '',
                customizacao: document.getElementById('template_customizacao')?.value || '',
                recursosIncluidos: recursosIncluidos,
                formatoArquivo: document.getElementById('template_formatoArquivo')?.value || '',
                tamanhoArquivo: document.getElementById('template_tamanhoArquivo')?.value || '',
                formaEntrega: document.getElementById('template_formaEntrega')?.value || '',
                atualizacoes: document.getElementById('template_atualizacoes')?.value || '',
                suporte: document.getElementById('template_suporte')?.value || '',
                compatibilidade: document.getElementById('template_compatibilidade')?.value || '',
                licenca: document.getElementById('template_licenca')?.value || '',
                revenda: document.getElementById('template_revenda')?.value || '',
                restricoes: document.getElementById('template_restricoes')?.value || '',
                observacoes: document.getElementById('template_observacoes')?.value || '',
                thumbnail: obterThumbnail('templates'),
                progresso: calcularProgresso('templates'),
                links: obterLinksValidos('templates'),
                arquivos: obterArquivos('templates'),
                checklistState: obterChecklistState('templates'),
                galeria: obterGaleria('templates')
            };
            
            StorageManager.addProduto(templateData);
            localStorage.removeItem('dados_fases_temp');
            if (linksData['cursos']) linksData['cursos'] = [];
            if (linksData['templates']) linksData['templates'] = [];
            alert('‚úì Template criado com sucesso!');
            navegarPara('produtos');
            if (thumbnailsData['templates']) thumbnailsData['templates'] = null;
            if (filesData['templates']) filesData['templates'] = [];
            if (galeriaData['templates']) galeriaData['templates'] = [];
        }

        // ==================== IMPORTA√á√ÉO DE RELAT√ìRIO DO AGENTE ====================
        function importarRelatorio(tipo) {
            const textarea = document.getElementById(`relatorioImportar_${tipo}`);
            const relatorio = textarea.value;
            
            if (!relatorio || relatorio.trim() === '') {
                alert('‚ö†Ô∏è Por favor, cole o relat√≥rio do agente IA antes de importar.');
                return;
            }
            
            try {
                // Tentar parsear se for JSON
                const dados = JSON.parse(relatorio);
                preencherCamposComDados(tipo, dados);
            } catch(e) {
                // Se n√£o for JSON, tentar extrair dados do texto
                const dados = extrairDadosDoTexto(relatorio);
                preencherCamposComDados(tipo, dados);
            }
            
            alert('‚úÖ Relat√≥rio importado com sucesso! Os campos foram preenchidos automaticamente.');
            textarea.value = '';
        }

        function extrairDadosDoTexto(texto) {
            // Fun√ß√£o para extrair dados de um relat√≥rio em texto
            const dados = {};
            
            // Padr√µes de busca comuns
            const padroes = {
                cargaHoraria: /carga hor[√°a]ria[:\s]+([^\n]+)/i,
                numeroModulos: /n[√∫u]mero de m[√≥o]dulos[:\s]+(\d+)/i,
                numeroAulas: /n[√∫u]mero de aulas[:\s]+(\d+)/i,
                numeroPaginas: /n[√∫u]mero de p[√°a]ginas[:\s]+(\d+)/i,
                numeroCapitulos: /n[√∫u]mero de cap[√≠i]tulos[:\s]+(\d+)/i,
                duracao: /dura[√ßc][√£a]o[:\s]+([^\n]+)/i,
                preco: /pre[√ßc]o[:\s]+r?\$?\s*([0-9.,]+)/i,
                investimento: /investimento[:\s]+r?\$?\s*([0-9.,]+)/i
            };
            
            // Extrair dados usando regex
            for (const [campo, regex] of Object.entries(padroes)) {
                const match = texto.match(regex);
                if (match) {
                    dados[campo] = match[1].trim();
                }
            }
            
            // Extrair se√ß√µes de texto maior
            const secoes = texto.split(/\n\n+/);
            secoes.forEach(secao => {
                if (secao.toLowerCase().includes('descri√ß√£o') || secao.toLowerCase().includes('m√≥dulos')) {
                    if (secao.length > 50) {
                        dados.descricao = secao;
                    }
                }
            });
            
            return dados;
        }

        function preencherCamposComDados(tipo, dados) {
            // Preencher campos espec√≠ficos de cada tipo
            for (const [campo, valor] of Object.entries(dados)) {
                const elementId = `${tipo}_${campo}`;
                const element = document.getElementById(elementId);
                
                if (element) {
                    if (element.type === 'checkbox') {
                        element.checked = valor === true || valor === 'true' || valor === 'Sim';
                    } else {
                        element.value = valor;
                    }
                }
            }
        }

        // ==================== MODAL DE ANOTA√á√ïES DAS FASES ====================
        function abrirAnotacoes(tipo, numeroFase) {
            const dadosString = localStorage.getItem('dados_fases_temp');
            if (!dadosString) {
                alert('‚ö†Ô∏è Nenhum dado das fases foi encontrado.');
                return;
            }
            
            const dados = JSON.parse(dadosString);
            
            // Configurar √≠cone e t√≠tulo da fase
            const icones = ['‚ö°', 'üß†', 'üéÅ', 'üéØ'];
            const titulos = [
                'Fase 1: Poder Digital',
                'Fase 2: Brainstorm e M√©todo',
                'Fase 3: Promessa e Oferta',
                'Fase 4: P√∫blico e Mercado'
            ];
            
            document.getElementById('iconeFaseModal').textContent = icones[numeroFase - 1];
            document.getElementById('tituloFaseModal').textContent = titulos[numeroFase - 1];
            
            // Buscar anota√ß√µes da fase correspondente
            const campoTextoLongo = `textoLongoFase${numeroFase}`;
            const anotacoes = dados[campoTextoLongo] || '';
            
            document.getElementById('conteudoFaseModal').textContent = anotacoes || '';
            
            // Mostrar modal
            document.getElementById('modalAnotacoes').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function fecharModalAnotacoes() {
            document.getElementById('modalAnotacoes').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Fechar modal ao clicar fora
        document.addEventListener('DOMContentLoaded', function() {
            const modalAnotacoes = document.getElementById('modalAnotacoes');
            if (modalAnotacoes) {
                modalAnotacoes.addEventListener('click', function(e) {
                    if (e.target === modalAnotacoes) {
                        fecharModalAnotacoes();
                    }
                });
            }
        });

        // ==================== GEST√ÉO DE LINKS (ETAPA 1) ====================
        let linksData = {};

        function adicionarLink(tipo) {
            if (!linksData[tipo]) {
                linksData[tipo] = [];
            }
            
            const index = linksData[tipo].length;
            linksData[tipo].push({
                categoria: '',
                titulo: '',
                url: ''
            });
            
            const container = document.getElementById(`linksContainer_${tipo}`);
            const linkItem = document.createElement('div');
            linkItem.className = 'link-item';
            linkItem.id = `link_${tipo}_${index}`;
            linkItem.innerHTML = `
                <div class="form-group" style="margin: 0;">
                    <label style="font-size: 0.85rem;">Categoria</label>
                    <select onchange="atualizarLink('${tipo}', ${index}, 'categoria', this.value)">
                        <option value="">Selecione...</option>
                        <option value="Vendas">üõí Vendas</option>
                        <option value="Marketing">üì¢ Marketing</option>
                        <option value="Conte√∫do">üìö Conte√∫do</option>
                        <option value="Gest√£o">üìä Gest√£o</option>
                        <option value="Suporte">üí¨ Suporte</option>
                        <option value="Outro">üîó Outro</option>
                    </select>
                </div>
                <div class="form-group" style="margin: 0;">
                    <label style="font-size: 0.85rem;">T√≠tulo do Link</label>
                    <input type="text" placeholder="Ex: Landing Page" onchange="atualizarLink('${tipo}', ${index}, 'titulo', this.value)">
                </div>
                <div class="form-group" style="margin: 0; grid-column: span 2;">
                    <label style="font-size: 0.85rem;">URL</label>
                    <input type="url" placeholder="https://..." onchange="atualizarLink('${tipo}', ${index}, 'url', this.value)">
                </div>
                <button type="button" class="btn-remover-link" onclick="removerLink('${tipo}', ${index})">
                    üóëÔ∏è Remover
                </button>
            `;
            
            container.appendChild(linkItem);
        }

        function atualizarLink(tipo, index, campo, valor) {
            if (!linksData[tipo]) {
                linksData[tipo] = [];
            }
            if (!linksData[tipo][index]) {
                linksData[tipo][index] = {};
            }
            linksData[tipo][index][campo] = valor;
        }

        function removerLink(tipo, index) {
            const linkItem = document.getElementById(`link_${tipo}_${index}`);
            if (linkItem) {
                linkItem.remove();
            }
            if (linksData[tipo]) {
                linksData[tipo][index] = null;
            }
        }

        function obterLinksValidos(tipo) {
            if (!linksData[tipo]) return [];
            return linksData[tipo].filter(link => link !== null && link.url);
        }

        // ==================== ETAPA 2: UPLOAD DE IMAGENS ====================
        let thumbnailsData = {};

        function alternarUploadTipo(tipo, modo) {
            // Alternar tabs
            document.querySelectorAll(`#upload_${tipo}_upload, #upload_${tipo}_url`).forEach(el => {
                el.classList.remove('active');
            });
            document.querySelectorAll('.upload-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(`upload_${tipo}_${modo}`).classList.add('active');
            event.target.classList.add('active');
        }

        function handleImageUpload(input, tipo) {
            const file = input.files[0];
            if (!file) return;
            
            // Validar tipo de arquivo
            if (!file.type.startsWith('image/')) {
                alert('‚ö†Ô∏è Por favor, selecione apenas arquivos de imagem.');
                return;
            }
            
            // Validar tamanho (5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('‚ö†Ô∏è A imagem deve ter no m√°ximo 5MB.');
                return;
            }
            
            // Ler arquivo e converter para base64
            const reader = new FileReader();
            reader.onload = function(e) {
                const base64 = e.target.result;
                thumbnailsData[tipo] = base64;
                
                // Mostrar preview
                document.getElementById(`uploadArea_${tipo}_thumb`).style.display = 'none';
                document.getElementById(`preview_${tipo}_thumb`).style.display = 'block';
                document.getElementById(`previewImg_${tipo}_thumb`).src = base64;
            };
            reader.readAsDataURL(file);
        }

        function removerImagemUpload(tipo) {
            thumbnailsData[tipo] = null;
            document.getElementById(`uploadArea_${tipo}_thumb`).style.display = 'block';
            document.getElementById(`preview_${tipo}_thumb`).style.display = 'none';
            document.getElementById(`${tipo}_thumbnail_file`).value = '';
        }

        function atualizarThumbnailUrl(tipo) {
            const url = document.getElementById(`${tipo}_thumbnail_url`).value;
            if (url) {
                thumbnailsData[tipo] = url;
            }
        }

        function obterThumbnail(tipo) {
            return thumbnailsData[tipo] || '';
        }

        // ==================== ETAPA 2: UPLOAD DE ARQUIVOS ====================
        let filesData = {};

        function handleFilesUpload(input, tipo) {
            const files = input.files;
            if (!files.length) return;
            
            if (!filesData[tipo]) {
                filesData[tipo] = [];
            }
            
            Array.from(files).forEach(file => {
                // Validar tamanho (10MB)
                if (file.size > 10 * 1024 * 1024) {
                    alert(`‚ö†Ô∏è O arquivo "${file.name}" excede 10MB e n√£o ser√° anexado.`);
                    return;
                }
                
                // Ler arquivo e converter para base64
                const reader = new FileReader();
                reader.onload = function(e) {
                    const fileData = {
                        name: file.name,
                        size: formatFileSize(file.size),
                        type: file.type,
                        data: e.target.result,
                        icon: getFileIcon(file.name)
                    };
                    
                    filesData[tipo].push(fileData);
                    renderizarArquivos(tipo);
                };
                reader.readAsDataURL(file);
            });
            
            // Limpar input
            input.value = '';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }

        function getFileIcon(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            const icons = {
                'pdf': 'üìÑ',
                'doc': 'üìù', 'docx': 'üìù',
                'xls': 'üìä', 'xlsx': 'üìä',
                'ppt': 'üìä', 'pptx': 'üìä',
                'txt': 'üìÉ',
                'zip': 'üóúÔ∏è', 'rar': 'üóúÔ∏è'
            };
            return icons[ext] || 'üìé';
        }

        function renderizarArquivos(tipo) {
            const container = document.getElementById(`filesContainer_${tipo}`);
            if (!filesData[tipo] || filesData[tipo].length === 0) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = filesData[tipo].map((file, index) => `
                <div class="file-item">
                    <div class="file-icon">${file.icon}</div>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${file.size}</div>
                    </div>
                    <div class="file-actions">
                        <button type="button" class="file-btn file-btn-download" onclick="downloadFile('${tipo}', ${index})">
                            ‚¨áÔ∏è Download
                        </button>
                        <button type="button" class="file-btn file-btn-delete" onclick="removerArquivo('${tipo}', ${index})">
                            üóëÔ∏è
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function downloadFile(tipo, index) {
            const file = filesData[tipo][index];
            const link = document.createElement('a');
            link.href = file.data;
            link.download = file.name;
            link.click();
        }

        function removerArquivo(tipo, index) {
            filesData[tipo].splice(index, 1);
            renderizarArquivos(tipo);
        }

        function obterArquivos(tipo) {
            return filesData[tipo] || [];
        }

        // ==================== ETAPA 2: CHECKLIST E C√ÅLCULO DE PROGRESSO ====================
        function calcularProgresso(tipo) {
            const checkboxes = document.querySelectorAll(`.checklist-container input[type="checkbox"]`);
            const checkboxesArray = Array.from(checkboxes);
            const total = checkboxesArray.length;
            const checked = checkboxesArray.filter(cb => cb.checked).length;
            const percentual = Math.round((checked / total) * 100);
            
            // Atualizar display
            document.getElementById(`progressoCalculado_${tipo}`).textContent = `${percentual}%`;
            document.getElementById(`progressoBar_${tipo}`).style.width = `${percentual}%`;
            
            // Atualizar campo oculto de progresso
            const progressoInput = document.getElementById(`${tipo}_progresso`);
            if (progressoInput) {
                progressoInput.value = percentual;
            }
            
            return percentual;
        }

        function obterChecklistState(tipo) {
            const checkboxes = document.querySelectorAll(`.checklist-container input[type="checkbox"]`);
            return Array.from(checkboxes).map(cb => cb.checked);
        }

        function restaurarChecklistState(tipo, state) {
            if (!state) return;
            const checkboxes = document.querySelectorAll(`.checklist-container input[type="checkbox"]`);
            checkboxes.forEach((cb, index) => {
                if (state[index] !== undefined) {
                    cb.checked = state[index];
                }
            });
            calcularProgresso(tipo);
        }

        // ==================== ETAPA 3: SISTEMA DE ABAS NO MODAL ====================
        function mudarAbaModal(aba) {
            // Remover active de todas as abas
            document.querySelectorAll('.modal-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.modal-tab-content').forEach(content => content.classList.remove('active'));
            
            // Ativar aba clicada
            event.target.classList.add('active');
            document.getElementById(`modalTab_${aba}`).classList.add('active');
            
            // Se for aba de estrat√©gia, mover cards das anota√ß√µes
            if (aba === 'estrategia' && produtoAtual) {
                renderizarAnotacoesNoModal();
            }
        }

        function renderizarAnotacoesNoModal() {
            const container = document.getElementById('anotacoesCards');
            if (!produtoAtual) return;
            
            const fases = [
                { numero: 1, icon: '‚ö°', titulo: 'Poder Digital', campo: 'textoLongoFase1' },
                { numero: 2, icon: 'üß†', titulo: 'Consci√™ncia de Marca', campo: 'textoLongoFase2' },
                { numero: 3, icon: 'üéÅ', titulo: 'Promessa de Transforma√ß√£o', campo: 'textoLongoFase3' },
                { numero: 4, icon: 'üéØ', titulo: 'Estrutura√ß√£o', campo: 'textoLongoFase4' }
            ];
            
            container.innerHTML = '<div class="anotacoes-cards">' + fases.map(fase => `
                <div class="anotacao-card" onclick="abrirAnotacoes('${produtoAtual.tipo}', ${fase.numero})">
                    <div class="anotacao-icon">${fase.icon}</div>
                    <div class="anotacao-info">
                        <div class="anotacao-titulo">Fase ${fase.numero}: ${fase.titulo}</div>
                        <div class="anotacao-preview">Clique para ver anota√ß√µes completas ‚Üí</div>
                    </div>
                </div>
            `).join('') + '</div>';
        }

        // ==================== ETAPA 3: GALERIA DE IMAGENS ====================
        let galeriaData = {};
        let galeriaAtual = [];
        let indiceGaleriaAtual = 0;

        function adicionarImagemGaleria(tipo) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.multiple = true;
            input.onchange = function(e) {
                handleGaleriaUpload(e.target.files, tipo);
            };
            input.click();
        }

        function handleGaleriaUpload(files, tipo) {
            if (!files.length) return;
            
            if (!galeriaData[tipo]) {
                galeriaData[tipo] = [];
            }
            
            Array.from(files).forEach(file => {
                if (!file.type.startsWith('image/')) {
                    alert(`‚ö†Ô∏è ${file.name} n√£o √© uma imagem v√°lida.`);
                    return;
                }
                
                if (file.size > 5 * 1024 * 1024) {
                    alert(`‚ö†Ô∏è ${file.name} excede 5MB.`);
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    galeriaData[tipo].push({
                        data: e.target.result,
                        name: file.name
                    });
                    renderizarGaleria(tipo);
                };
                reader.readAsDataURL(file);
            });
        }

        function renderizarGaleria(tipo) {
            const container = document.getElementById(`galeriaContainer_${tipo}`);
            if (!container) return;
            
            if (!galeriaData[tipo] || galeriaData[tipo].length === 0) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = galeriaData[tipo].map((img, index) => `
                <div class="gallery-item">
                    <img src="${img.data}" alt="${img.name}" onclick="abrirImagemGaleria(${index}, '${tipo}')">
                    <button class="gallery-item-delete" onclick="removerImagemGaleria(${index}, '${tipo}')">√ó</button>
                </div>
            `).join('');
        }

        function removerImagemGaleria(index, tipo) {
            event.stopPropagation();
            if (confirm('Remover esta imagem da galeria?')) {
                galeriaData[tipo].splice(index, 1);
                renderizarGaleria(tipo);
            }
        }

        function abrirImagemGaleria(index, tipo) {
            galeriaAtual = galeriaData[tipo] || [];
            indiceGaleriaAtual = index;
            mostrarImagemLightbox();
        }

        function mostrarImagemLightbox() {
            if (galeriaAtual.length === 0) return;
            const lightbox = document.getElementById('lightbox');
            const img = document.getElementById('lightboxImage');
            img.src = galeriaAtual[indiceGaleriaAtual].data;
            lightbox.classList.add('active');
        }

        function fecharLightbox(e) {
            if (e.target.id === 'lightbox' || e.target.classList.contains('lightbox-close')) {
                e.stopPropagation();
                document.getElementById('lightbox').classList.remove('active');
            }
        }

        function navegarGaleria(direcao, e) {
            e.stopPropagation();
            indiceGaleriaAtual += direcao;
            if (indiceGaleriaAtual < 0) indiceGaleriaAtual = galeriaAtual.length - 1;
            if (indiceGaleriaAtual >= galeriaAtual.length) indiceGaleriaAtual = 0;
            mostrarImagemLightbox();
        }

        function obterGaleria(tipo) {
            return galeriaData[tipo] || [];
        }

        function renderizarGaleriaModal(imagens) {
            const container = document.getElementById('modalGaleriaContainer');
            if (!imagens || imagens.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="padding: 3rem; grid-column: 1/-1;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üñºÔ∏è</div>
                        <p>Nenhuma imagem na galeria</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = imagens.map((img, index) => `
                <div class="gallery-item" onclick="abrirImagemGaleriaModal(${index})">
                    <img src="${img.data}" alt="${img.name}">
                </div>
            `).join('');
        }

        function abrirImagemGaleriaModal(index) {
            if (!produtoAtual || !produtoAtual.galeria) return;
            galeriaAtual = produtoAtual.galeria;
            indiceGaleriaAtual = index;
            mostrarImagemLightbox();
        }

        // ==================== ETAPA 3: EXPORTA√á√ÉO ====================
        function exportarJSON() {
            if (!produtoAtual) return;
            
            const json = JSON.stringify(produtoAtual, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${produtoAtual.nome.replace(/[^a-z0-9]/gi, '_')}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            alert('‚úÖ Produto exportado em JSON com sucesso!');
        }

        function exportarPDF() {
            if (!produtoAtual) return;
            
            // Criar conte√∫do HTML do PDF
            let html = `
                <html>
                <head>
                    <meta charset="utf-8">
                    <style>
                        body { font-family: Arial, sans-serif; padding: 40px; color: #333; }
                        h1 { color: #D4739E; border-bottom: 3px solid #CA9EE6; padding-bottom: 10px; }
                        h2 { color: #6CCFE6; margin-top: 30px; }
                        .info { background: #f5f5f5; padding: 15px; border-radius: 8px; margin: 10px 0; }
                        .label { font-weight: bold; color: #666; }
                        .progress { background: #eee; height: 30px; border-radius: 15px; overflow: hidden; margin: 10px 0; }
                        .progress-bar { background: linear-gradient(90deg, #6CCFE6, #CA9EE6); height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; }
                        .links { margin: 10px 0; }
                        .link-item { background: #fff; border: 2px solid #eee; padding: 10px; margin: 5px 0; border-radius: 5px; }
                    </style>
                </head>
                <body>
                    <h1>üì¶ ${produtoAtual.nome}</h1>
                    <div class="info">
                        <p><span class="label">Tipo:</span> ${produtoAtual.tipo}</p>
                        <p><span class="label">Status:</span> ${produtoAtual.status === 'em-progresso' ? '‚ö° Em Progresso' : produtoAtual.status === 'concluido' ? '‚úÖ Conclu√≠do' : 'üí° Ideia'}</p>
                        <p><span class="label">Data de Cria√ß√£o:</span> ${produtoAtual.dataCriacao}</p>
                        ${produtoAtual.plataforma ? `<p><span class="label">Plataforma:</span> ${produtoAtual.plataforma}</p>` : ''}
                    </div>
                    
                    <h2>üìä Progresso</h2>
                    <div class="progress">
                        <div class="progress-bar" style="width: ${produtoAtual.progresso || 0}%">
                            ${produtoAtual.progresso || 0}%
                        </div>
                    </div>
                    
                    <h2>üìã Descri√ß√£o</h2>
                    <p>${produtoAtual.descricao || produtoAtual.problemaResolver || 'Sem descri√ß√£o'}</p>
                    
                    <h2>üéØ P√∫blico-Alvo</h2>
                    <p>${produtoAtual.publicoAlvo || 'N√£o especificado'}</p>
                    
                    <h2>üí∞ Precifica√ß√£o</h2>
                    <p>${produtoAtual.preco ? 'R$ ' + produtoAtual.preco : 'N√£o definido'}</p>
                    
                    ${produtoAtual.links && produtoAtual.links.length > 0 ? `
                    <h2>üîó Links e Recursos</h2>
                    <div class="links">
                        ${produtoAtual.links.map(link => `
                            <div class="link-item">
                                <strong>${link.categoria || 'Link'}:</strong> ${link.titulo || 'Sem t√≠tulo'}<br>
                                <small>${link.url}</small>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                    
                    ${produtoAtual.observacoes ? `
                    <h2>üìù Observa√ß√µes</h2>
                    <p>${produtoAtual.observacoes}</p>
                    ` : ''}
                    
                    <div style="margin-top: 50px; padding-top: 20px; border-top: 2px solid #eee; text-align: center; color: #999;">
                        <p>Gerado pelo Ateli√™ de Projetos - ${new Date().toLocaleDateString('pt-BR')}</p>
                    </div>
                </body>
                </html>
            `;
            
            // Criar blob e download
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${produtoAtual.nome.replace(/[^a-z0-9]/gi, '_')}.html`;
            a.click();
            URL.revokeObjectURL(url);
            
            alert('‚úÖ Relat√≥rio HTML exportado! Abra no navegador e salve como PDF usando Ctrl+P.');
        }

        function importarJSON(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const produto = JSON.parse(e.target.result);
                    
                    // Adicionar ao storage
                    StorageManager.addProduto(produto);
                    
                    // Atualizar view
                    carregarProdutos();
                    atualizarDashboard();
                    
                    alert('‚úÖ Produto importado com sucesso!');
                    
                    // Limpar input
                    input.value = '';
                    
                } catch (error) {
                    alert('‚ùå Erro ao importar arquivo. Verifique se √© um JSON v√°lido.');
                    console.error(error);
                }
            };
            reader.readAsText(file);
        }

        // ==================== STORAGE MANAGER ====================
        // ==================== NAVEGA√á√ÉO DAS FASES ====================
        let faseAtual = 0;
        let viewAtual = 'main'; // 'main', 'pensamentos', 'tipo-produto', 'fase'

        function mostrarFasesPensamentos() {
            // Esconder cards principais
            document.getElementById('mainCardsNavigation').style.display = 'none';
            // Mostrar cards das 4 fases
            document.getElementById('fasesNavigation').style.display = 'block';
            viewAtual = 'pensamentos';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function voltarParaMainCards() {
            // Mostrar cards principais
            document.getElementById('mainCardsNavigation').style.display = 'block';
            // Esconder submenu de fases
            document.getElementById('fasesNavigation').style.display = 'none';
            // Esconder formul√°rio
            document.getElementById('fasesFormContainer').classList.remove('active');
            
            viewAtual = 'main';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function abrirTipoProduto(tipo) {
            // Verificar se h√° dados das fases salvos
            const dadosFases = localStorage.getItem('dados_fases_temp');
            
            if (!dadosFases) {
                alert(`Para criar um ${tipo}, voc√™ precisa primeiro completar as 4 fases estrat√©gicas em "Pensamentos".`);
                mostrarFasesPensamentos();
                return;
            }
            
            // Navegar para a p√°gina do tipo de produto
            navegarPara(tipo);
            
            // Carregar resumo das fases na p√°gina
            carregarResumoFases(tipo);
            
            // Scroll para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function carregarResumoFases(tipo) {
            const dadosString = localStorage.getItem('dados_fases_temp');
            if (!dadosString) return;
            
            const dados = JSON.parse(dadosString);
            
            // Preencher resumo
            const elem = (id) => document.getElementById(`resumo_${id}_${tipo}`);
            
            if (elem('problemaResolver')) elem('problemaResolver').textContent = dados.problemaResolver || '-';
            if (elem('nomePersuasivo')) elem('nomePersuasivo').textContent = dados.nomePersuasivo || '-';
            if (elem('publicoAlvo')) elem('publicoAlvo').textContent = dados.publicoAlvo || '-';
            if (elem('preco')) elem('preco').textContent = dados.preco ? `R$ ${dados.preco}` : '-';
            
            // Preparar dados para enviar ao agente IA
            prepararDadosParaAgente(tipo, dados);
        }

        function prepararDadosParaAgente(tipo, dados) {
            // Criar texto formatado com todos os dados das 4 fases
            const contexto = `
üìã CONTEXTO ESTRAT√âGICO DO PRODUTO

üéØ FASE 1 - PODER DIGITAL:
‚Ä¢ Problema que Resolve: ${dados.problemaResolver || 'N√£o definido'}
‚Ä¢ Habilidades Principais: ${dados.habilidades || 'N√£o definido'}
‚Ä¢ Mandala Ikigai:
  - O que AMA fazer: ${dados.ikigai?.paixao || 'N√£o definido'}
  - O que o MUNDO precisa: ${dados.ikigai?.missao || 'N√£o definido'}
  - O que FAZ BEM: ${dados.ikigai?.bomNisso || 'N√£o definido'}
  - Pelo que te PAGAM: ${dados.ikigai?.vocacao || 'N√£o definido'}
‚Ä¢ Cronograma:
  - In√≠cio do Planejamento: ${dados.cronograma?.inicio || 'N√£o definido'}
  - Conclus√£o do Conte√∫do: ${dados.cronograma?.conclusao || 'N√£o definido'}
  - Data de Lan√ßamento: ${dados.cronograma?.lancamento || 'N√£o definido'}

üß† FASE 2 - BRAINSTORM E M√âTODO:
‚Ä¢ Brainstorm de Ideias: ${dados.brainstormIdeias || 'N√£o definido'}
‚Ä¢ Ideias de B√¥nus: ${dados.bonusIdeias || 'N√£o definido'}
‚Ä¢ Passos do M√©todo: ${dados.passosMetodo?.length || 0} passos definidos
‚Ä¢ Reflex√µes:
  - Sua Trajet√≥ria: ${dados.reflexoes?.trajetoria || 'N√£o definido'}
  - Erros a Evitar: ${dados.reflexoes?.erros || 'N√£o definido'}
  - Ferramentas Usadas: ${dados.reflexoes?.ferramentas || 'N√£o definido'}

üéÅ FASE 3 - PROMESSA E OFERTA:
‚Ä¢ Nome do Produto: ${dados.nomePersuasivo || 'N√£o definido'}
‚Ä¢ Promessa Magn√©tica: ${dados.promessaMagnetica || 'N√£o definido'}
‚Ä¢ M√©todo/Tipo: ${dados.metodo || tipo}
‚Ä¢ Benef√≠cios: ${dados.beneficios?.length || 0} benef√≠cios listados

üéØ FASE 4 - P√öBLICO E MERCADO:
‚Ä¢ P√∫blico-Alvo: ${dados.publicoAlvo || 'N√£o definido'}
‚Ä¢ Pre√ßo Estimado: R$ ${dados.preco || 'N√£o definido'}
‚Ä¢ Estrutura/M√≥dulos: ${dados.estrutura || 'N√£o definido'}
‚Ä¢ Recursos Necess√°rios: ${dados.recursosNecessarios || 'N√£o definido'}

---
ANOTA√á√ïES ADICIONAIS:
${dados.textoLongoFase1 ? 'üìù Fase 1: ' + dados.textoLongoFase1 : ''}
${dados.textoLongoFase2 ? 'üìù Fase 2: ' + dados.textoLongoFase2 : ''}
${dados.textoLongoFase3 ? 'üìù Fase 3: ' + dados.textoLongoFase3 : ''}
${dados.textoLongoFase4 ? 'üìù Fase 4: ' + dados.textoLongoFase4 : ''}
            `.trim();
            
            // Salvar contexto no localStorage para usar ao abrir o agente
            localStorage.setItem(`contexto_agente_${tipo}`, contexto);
            
            // Adicionar bot√£o para copiar contexto
            adicionarBotaoCopiarContexto(tipo);
        }

        function adicionarBotaoCopiarContexto(tipo) {
            const linkAssistente = document.querySelector(`#resumo${tipo.charAt(0).toUpperCase() + tipo.slice(1)} + .ai-assistant-link`);
            if (!linkAssistente) return;
            
            // Verificar se j√° existe o bot√£o
            if (linkAssistente.querySelector('.btn-copiar-contexto')) return;
            
            const botao = document.createElement('button');
            botao.className = 'btn-copiar-contexto';
            botao.innerHTML = 'üìã Copiar Contexto para o Agente';
            botao.onclick = function() {
                const contexto = localStorage.getItem(`contexto_agente_${tipo}`);
                navigator.clipboard.writeText(contexto).then(() => {
                    botao.innerHTML = '‚úÖ Contexto Copiado!';
                    setTimeout(() => {
                        botao.innerHTML = 'üìã Copiar Contexto para o Agente';
                    }, 2000);
                });
            };
            
            linkAssistente.appendChild(botao);
        }

        function navegarParaFase(numeroFase) {
            // Esconder cards de fases, mostrar formul√°rio
            document.getElementById('fasesNavigation').style.display = 'none';
            document.getElementById('fasesFormContainer').classList.add('active');
            
            viewAtual = 'fase';
            
            // Mostrar a fase espec√≠fica
            mostrarFase(numeroFase);
        }

        function navegarEntrefases(numeroFase) {
            // Salvar progresso atual antes de navegar
            salvarProgresso();
            
            // Mostrar a fase espec√≠fica
            mostrarFase(numeroFase);
            
            // Scroll para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function mostrarFase(fase) {
            // Esconder todas as fases
            document.querySelectorAll('.fase-container').forEach(container => {
                container.classList.remove('active');
            });
            
            // Mostrar a fase espec√≠fica
            const containerId = `fase${fase}Container`;
            faseAtual = fase;
            
            const container = document.getElementById(containerId);
            if (container) {
                container.classList.add('active');
                atualizarIndicadorProgresso();
            }
        }

        function atualizarIndicadorProgresso() {
            // Atualizar pontos de progresso
            for (let i = 1; i <= 4; i++) {
                const dot = document.getElementById(`progressDot${i}`);
                if (i < faseAtual) {
                    dot.classList.add('completed');
                    dot.classList.remove('active');
                } else if (i == faseAtual) {
                    dot.classList.add('active');
                    dot.classList.remove('completed');
                } else {
                    dot.classList.remove('active', 'completed');
                }
            }
        }

        function salvarProgresso() {
            // Fun√ß√£o para salvar progresso parcial no localStorage
            console.log('Progresso salvo automaticamente');
        }

        function voltarParaCards() {
            // Salvar progresso
            salvarProgresso();
            
            // Mostrar cards das fases (submenu Pensamentos)
            document.getElementById('fasesNavigation').style.display = 'block';
            // Esconder formul√°rio
            document.getElementById('fasesFormContainer').classList.remove('active');
            
            // Esconder todas as fases
            document.querySelectorAll('.fase-container').forEach(container => {
                container.classList.remove('active');
            });
            
            faseAtual = 0;
            viewAtual = 'pensamentos';
            
            // Scroll para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ==================== NAVEGA√á√ÉO PARA BRAINSTORMING E PRODUTOS ====================
        function irParaBrainstorming() {
            // Coletar dados das 4 fases
            const ideiaCompleta = coletarDadosFases();
            
            if (!ideiaCompleta.metodo || !ideiaCompleta.nomePersuasivo) {
                alert('‚ö†Ô∏è Por favor, preencha ao menos o M√©todo (Fase 3) e o Nome do Produto antes de salvar no Brainstorming.');
                return;
            }
            
            // Criar t√≠tulo autom√°tico: m√©todo_nome do produto
            const titulo = `${ideiaCompleta.metodo}_${ideiaCompleta.nomePersuasivo}`;
            
            // Salvar automaticamente no brainstorming
            salvarIdeiaAutomatica(titulo, ideiaCompleta);
            
            // Navegar para p√°gina de brainstorming
            navegarPara('brainstorming');
            
            // Scroll para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            alert(`‚úÖ Ideia "${titulo}" salva no Brainstorming com sucesso!`);
        }

        function salvarIdeiaAutomatica(titulo, dados) {
            // Formatar dados das 4 fases para o brainstorming
            const textoCompleto = `
üìã IDEIA COMPLETA - ${titulo}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üéØ FASE 1 - PODER DIGITAL
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üí° Problema que Resolve:
${dados.problemaResolver || 'N√£o definido'}

üåü Habilidades Principais:
${dados.habilidades || 'N√£o definido'}

üíé Mandala Ikigai:
‚Ä¢ O que AMA fazer: ${dados.ikigai?.paixao || 'N√£o definido'}
‚Ä¢ O que o MUNDO precisa: ${dados.ikigai?.missao || 'N√£o definido'}
‚Ä¢ O que FAZ BEM: ${dados.ikigai?.bomNisso || 'N√£o definido'}
‚Ä¢ Pelo que te PAGAM: ${dados.ikigai?.vocacao || 'N√£o definido'}

üìÖ Cronograma:
‚Ä¢ In√≠cio do Planejamento: ${dados.cronograma?.inicio || 'N√£o definido'}
‚Ä¢ Conclus√£o do Conte√∫do: ${dados.cronograma?.conclusao || 'N√£o definido'}
‚Ä¢ Data de Lan√ßamento: ${dados.cronograma?.lancamento || 'N√£o definido'}

üìù ANOTA√á√ïES COMPLETAS:
${dados.textoLongoFase1 || 'Nenhuma anota√ß√£o'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üß† FASE 2 - BRAINSTORM E M√âTODO
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üí≠ Brainstorm de Ideias:
${dados.brainstormIdeias || 'N√£o definido'}

üéÅ Ideias de B√¥nus:
${dados.bonusIdeias || 'N√£o definido'}

üìã Passos do M√©todo:
${dados.passosMetodo?.map((p, i) => `${i + 1}. ${p.titulo}\n   ${p.descricao}`).join('\n') || 'Nenhum passo definido'}

üí° Reflex√µes:
‚Ä¢ Sua Trajet√≥ria: ${dados.reflexoes?.trajetoria || 'N√£o definido'}
‚Ä¢ Erros a Evitar: ${dados.reflexoes?.erros || 'N√£o definido'}
‚Ä¢ Ferramentas Usadas: ${dados.reflexoes?.ferramentas || 'N√£o definido'}

üìù ANOTA√á√ïES COMPLETAS:
${dados.textoLongoFase2 || 'Nenhuma anota√ß√£o'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üéÅ FASE 3 - PROMESSA E OFERTA
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚ú® Nome do Produto:
${dados.nomePersuasivo || 'N√£o definido'}

üéØ Promessa Magn√©tica:
${dados.promessaMagnetica || 'N√£o definido'}

üì¶ M√©todo/Tipo:
${dados.metodo || 'N√£o definido'}

üåü Benef√≠cios:
${dados.beneficios?.map((b, i) => `${i + 1}. ${b.titulo}\n   ${b.descricao}`).join('\n') || 'Nenhum benef√≠cio listado'}

üìù ANOTA√á√ïES COMPLETAS:
${dados.textoLongoFase3 || 'Nenhuma anota√ß√£o'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üéØ FASE 4 - P√öBLICO E MERCADO
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üë• P√∫blico-Alvo:
${dados.publicoAlvo || 'N√£o definido'}

üí∞ Pre√ßo Estimado:
R$ ${dados.preco || 'N√£o definido'}

üìä Estrutura/M√≥dulos:
${dados.estrutura || 'N√£o definido'}

üõ†Ô∏è Recursos Necess√°rios:
${dados.recursosNecessarios || 'N√£o definido'}

üí¨ Observa√ß√µes:
${dados.observacoes || 'Nenhuma'}

üìù ANOTA√á√ïES COMPLETAS:
${dados.textoLongoFase4 || 'Nenhuma anota√ß√£o'}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
            `.trim();
            
            // Salvar no sistema de brainstorming
            const conversaId = Date.now().toString();
            const conversa = {
                id: conversaId,
                titulo: titulo,
                data: new Date().toISOString(),
                mensagens: [
                    {
                        role: 'user',
                        content: textoCompleto,
                        timestamp: Date.now()
                    }
                ]
            };
            
            // Buscar conversas existentes
            const conversasSalvas = JSON.parse(localStorage.getItem('conversas_brainstorming') || '[]');
            conversasSalvas.unshift(conversa);
            localStorage.setItem('conversas_brainstorming', JSON.stringify(conversasSalvas));
        }

        function criarProdutoMetodo() {
            const metodo = document.getElementById('metodo').value;
            
            if (!metodo) {
                alert('Por favor, selecione o M√©todo/Tipo de Produto na Fase 3 antes de continuar.');
                navegarEntrefases(3); // Volta para Fase 3
                return;
            }
            
            // Coletar dados das 4 fases
            const dadosFases = coletarDadosFases();
            
            // Salvar dados tempor√°rios para usar na p√°gina do m√©todo
            localStorage.setItem('dados_fases_temp', JSON.stringify(dadosFases));
            
            // Redirecionar para p√°gina do m√©todo selecionado
            const paginaMetodo = metodo.toLowerCase();
            abrirTipoProduto(paginaMetodo);
        }

        function coletarDadosFases() {
            return {
                // Fase 1
                habilidades: document.getElementById('habilidades').value,
                problemaResolver: document.getElementById('problemaResolver').value,
                ikigai: {
                    paixao: document.getElementById('ikigaiPaixao').value,
                    missao: document.getElementById('ikigaiMissao').value,
                    bomNisso: document.getElementById('ikigaiBomNisso').value,
                    vocacao: document.getElementById('ikigaiVocacao').value
                },
                cronograma: {
                    inicio: document.getElementById('dataInicioPlanejamento').value,
                    conclusao: document.getElementById('dataConclusaoConteudo').value,
                    lancamento: document.getElementById('dataLancamento').value
                },
                textoLongoFase1: document.getElementById('textoLongoFase1').value,
                
                // Fase 2
                brainstormIdeias: document.getElementById('brainstormIdeias').value,
                bonusIdeias: document.getElementById('bonusIdeias').value,
                passosMetodo: passosMetodoData,
                reflexoes: {
                    trajetoria: document.getElementById('suaTrajetoria').value,
                    erros: document.getElementById('errosEvitados').value,
                    ferramentas: document.getElementById('ferramentasUsadas').value
                },
                textoLongoFase2: document.getElementById('textoLongoFase2').value,
                
                // Fase 3
                promessaMagnetica: document.getElementById('promessaMagnetica').value,
                nomePersuasivo: document.getElementById('nomePersuasivo').value,
                metodo: document.getElementById('metodo').value,
                beneficios: beneficiosData,
                textoLongoFase3: document.getElementById('textoLongoFase3').value,
                
                // Fase 4
                publicoAlvo: document.getElementById('publicoAlvo').value,
                preco: document.getElementById('preco').value,
                estrutura: document.getElementById('estrutura').value,
                recursosNecessarios: document.getElementById('recursosNecessarios').value,
                observacoes: document.getElementById('observacoes').value,
                textoLongoFase4: document.getElementById('textoLongoFase4').value
            };
        }

        // ==================== STORAGE ====================
        const StorageManager = {
            getProdutos() {
                const produtos = localStorage.getItem('atelie_produtos');
                return produtos ? JSON.parse(produtos) : [];
            },
            
            saveProdutos(produtos) {
                localStorage.setItem('atelie_produtos', JSON.stringify(produtos));
            },
            
            addProduto(produto) {
                const produtos = this.getProdutos();
                produto.id = Date.now();
                produto.dataCriacao = new Date().toLocaleDateString('pt-BR');
                produtos.push(produto);
                this.saveProdutos(produtos);
                return produto;
            },
            
            updateProduto(id, dadosAtualizados) {
                const produtos = this.getProdutos();
                const index = produtos.findIndex(p => p.id === id);
                if (index !== -1) {
                    produtos[index] = { ...produtos[index], ...dadosAtualizados };
                    this.saveProdutos(produtos);
                    return produtos[index];
                }
                return null;
            },
            
            deleteProduto(id) {
                const produtos = this.getProdutos();
                const filtered = produtos.filter(p => p.id !== id);
                this.saveProdutos(filtered);
            },
            
            getProdutoById(id) {
                const produtos = this.getProdutos();
                return produtos.find(p => p.id === id);
            }
        };

        // ==================== DASHBOARD ====================
        function atualizarDashboard() {
            const produtos = StorageManager.getProdutos();
            
            document.getElementById('totalProdutos').textContent = produtos.length;
            document.getElementById('emProgresso').textContent = 
                produtos.filter(p => p.status === 'em-progresso').length;
            document.getElementById('concluidos').textContent = 
                produtos.filter(p => p.status === 'concluido').length;
            document.getElementById('ideias').textContent = 
                produtos.filter(p => p.status === 'ideia').length;
            
            carregarProdutosRecentes();
        }

        function carregarProdutosRecentes() {
            const produtos = StorageManager.getProdutos();
            const container = document.getElementById('recentProducts');
            
            if (produtos.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 3rem; opacity: 0.6;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üì¶</div>
                        <p>Nenhum produto criado ainda. Comece criando seu primeiro produto!</p>
                    </div>
                `;
                return;
            }
            
            const produtosRecentes = produtos.slice(-6).reverse();
            
            container.innerHTML = produtosRecentes.map(produto => `
                <div class="product-card" onclick="abrirModal(${produto.id})">
                    <span class="product-status status-${produto.status}">
                        ${produto.status === 'em-progresso' ? '‚ö° Em Progresso' : 
                          produto.status === 'concluido' ? '‚úÖ Conclu√≠do' : 'üí° Ideia'}
                    </span>
                    <h3 class="product-title">${produto.nome}</h3>
                    <p class="product-description">${produto.descricao.substring(0, 100)}${produto.descricao.length > 100 ? '...' : ''}</p>
                    <div class="product-footer">
                        <span class="product-date">üìÖ ${produto.dataCriacao}</span>
                        <span>${produto.tipo}</span>
                    </div>
                </div>
            `).join('');
        }

        // ==================== MEUS PRODUTOS ====================
        let filtroAtual = 'todos';
        let buscaAtual = '';

        function carregarProdutos() {
            let produtos = StorageManager.getProdutos();
            
            if (filtroAtual !== 'todos') {
                produtos = produtos.filter(p => p.status === filtroAtual);
            }
            
            if (buscaAtual) {
                produtos = produtos.filter(p => 
                    p.nome.toLowerCase().includes(buscaAtual.toLowerCase()) ||
                    p.descricao.toLowerCase().includes(buscaAtual.toLowerCase())
                );
            }
            
            const container = document.getElementById('productsContainer');
            
            if (produtos.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üì¶</div>
                        <p>Nenhum produto encontrado.</p>
                        <button class="empty-state-btn" onclick="navegarPara('novo')">‚ú® Criar Primeiro Produto</button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = `
                <div class="products-grid">
                    ${produtos.map(produto => `
                        <div class="product-card">
                            ${produto.thumbnail ? 
                                `<img src="${produto.thumbnail}" alt="${produto.nome}" class="product-thumbnail" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                <div class="product-thumbnail-placeholder" style="display:none;">üì¶</div>` : 
                                `<div class="product-thumbnail-placeholder">üì¶</div>`
                            }
                            <div class="product-header">
                                ${produto.plataforma ? `<span class="platform-badge">${produto.plataforma}</span>` : ''}
                                <span class="product-status status-${produto.status}">
                                    ${produto.status === 'em-progresso' ? '‚ö° Em Progresso' : 
                                      produto.status === 'concluido' ? '‚úÖ Conclu√≠do' : 'üí° Ideia'}
                                </span>
                            </div>
                            <h3 class="product-title" onclick="abrirModal(${produto.id})">${produto.nome}</h3>
                            <span class="product-type">${produto.tipo}</span>
                            <p class="product-description" onclick="abrirModal(${produto.id})">${produto.descricao ? produto.descricao.substring(0, 80) + (produto.descricao.length > 80 ? '...' : '') : 'Sem descri√ß√£o'}</p>
                            
                            ${produto.progresso !== undefined ? `
                                <div class="progress-bar-container">
                                    <div class="progress-bar-fill" style="width: ${produto.progresso}%"></div>
                                </div>
                                <div class="progress-percentage">${produto.progresso}% conclu√≠do</div>
                            ` : ''}
                            
                            <div class="product-footer">
                                <span class="product-date">üìÖ ${produto.dataCriacao}</span>
                                ${produto.preco ? `<span class="product-price">üí∞ R$ ${produto.preco}</span>` : ''}
                            </div>
                            
                            <div class="product-actions">
                                ${produto.links && produto.links.length > 0 ? `<button class="product-action-btn" onclick="event.stopPropagation(); abrirModal(${produto.id})">üîó ${produto.links.length} Link${produto.links.length > 1 ? 's' : ''}</button>` : ''}
                                <button class="product-action-btn" onclick="event.stopPropagation(); abrirModal(${produto.id})">üëÅÔ∏è Ver Detalhes</button>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Configurar filtros
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    filtroAtual = this.dataset.filter;
                    carregarProdutos();
                });
            });

            document.getElementById('searchInput').addEventListener('input', function(e) {
                buscaAtual = e.target.value;
                carregarProdutos();
            });
        });

        // ==================== MODAL DE PRODUTO ====================
        let produtoAtual = null;

        function abrirModal(id) {
            const produtos = StorageManager.getProdutos();
            produtoAtual = produtos.find(p => p.id === id);
            
            if (!produtoAtual) return;
            
            // Dados b√°sicos
            document.getElementById('modalTitle').textContent = produtoAtual.nome;
            document.getElementById('modalStatus').textContent = 
                produtoAtual.status === 'em-progresso' ? '‚ö° Em Progresso' : 
                produtoAtual.status === 'concluido' ? '‚úÖ Conclu√≠do' : 'üí° Ideia';
            document.getElementById('modalStatus').className = `product-status status-${produtoAtual.status}`;
            document.getElementById('modalDescription').textContent = produtoAtual.descricao || produtoAtual.problemaResolver || 'Sem descri√ß√£o';
            document.getElementById('modalPublico').textContent = produtoAtual.publicoAlvo || 'N√£o especificado';
            document.getElementById('modalPreco').textContent = produtoAtual.preco ? `R$ ${produtoAtual.preco}` : 'N√£o definido';
            document.getElementById('modalObservacoes').textContent = produtoAtual.observacoes || 'Nenhuma observa√ß√£o';
            document.getElementById('modalTipo').textContent = produtoAtual.tipo;
            document.getElementById('modalData').textContent = produtoAtual.dataCriacao;
            
            // ETAPA 1: Plataforma
            const plataformaSection = document.getElementById('modalPlataformaSection');
            if (produtoAtual.plataforma) {
                plataformaSection.style.display = 'block';
                document.getElementById('modalPlataforma').textContent = produtoAtual.plataforma;
            } else {
                plataformaSection.style.display = 'none';
            }
            
            // ETAPA 1: Progresso
            const progressoSection = document.getElementById('modalProgressoSection');
            if (produtoAtual.progresso !== undefined && produtoAtual.progresso !== null) {
                progressoSection.style.display = 'block';
                document.getElementById('modalProgressoBar').style.width = `${produtoAtual.progresso}%`;
                document.getElementById('modalProgressoTexto').textContent = `${produtoAtual.progresso}% conclu√≠do`;
            } else {
                progressoSection.style.display = 'none';
            }
            
            // ETAPA 1: Links
            const linksSection = document.getElementById('modalLinksSection');
            const linksContainer = document.getElementById('modalLinksContainer');
            if (produtoAtual.links && produtoAtual.links.length > 0) {
                linksSection.style.display = 'block';
                linksContainer.innerHTML = produtoAtual.links.map(link => `
                    <div class="modal-link-item">
                        <div class="modal-link-info">
                            <div class="modal-link-categoria">${link.categoria || 'üîó Link'}</div>
                            <div class="modal-link-titulo">${link.titulo || 'Link sem t√≠tulo'}</div>
                            <div class="modal-link-url">${link.url}</div>
                        </div>
                        <a href="${link.url}" target="_blank" class="modal-link-btn">
                            üîó Abrir
                        </a>
                    </div>
                `).join('');
            } else {
                linksSection.style.display = 'none';
            }
            
            // ETAPA 2: Arquivos Anexos
            const arquivosSection = document.getElementById('modalArquivosSection');
            const arquivosContainer = document.getElementById('modalArquivosContainer');
            if (produtoAtual.arquivos && produtoAtual.arquivos.length > 0) {
                arquivosSection.style.display = 'block';
                arquivosContainer.innerHTML = produtoAtual.arquivos.map((arquivo, index) => `
                    <div class="modal-link-item">
                        <div class="modal-link-info">
                            <div class="modal-link-categoria">${arquivo.icon} ARQUIVO</div>
                            <div class="modal-link-titulo">${arquivo.name}</div>
                            <div class="modal-link-url">${arquivo.size}</div>
                        </div>
                        <a href="${arquivo.data}" download="${arquivo.name}" class="modal-link-btn">
                            ‚¨áÔ∏è Download
                        </a>
                    </div>
                `).join('');
            } else {
                arquivosSection.style.display = 'none';
            }
            
            // ETAPA 3: Controlar visibilidade do "sem recursos"
            const temLinks = produtoAtual.links && produtoAtual.links.length > 0;
            const temArquivos = produtoAtual.arquivos && produtoAtual.arquivos.length > 0;
            const semRecursos = document.getElementById('semRecursos');
            if (semRecursos) {
                semRecursos.style.display = (temLinks || temArquivos) ? 'none' : 'block';
            }
            
            // ETAPA 3: Galeria
            renderizarGaleriaModal(produtoAtual.galeria);
            
            // Resetar para primeira aba
            document.querySelectorAll('.modal-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.modal-tab-content').forEach(content => content.classList.remove('active'));
            document.querySelector('.modal-tab').classList.add('active');
            document.getElementById('modalTab_visaoGeral').classList.add('active');
            
            document.getElementById('productModal').classList.add('active');
        }

        function fecharModal() {
            document.getElementById('productModal').classList.remove('active');
            produtoAtual = null;
        }

        function editarProduto() {
            if (produtoAtual) {
                carregarDadosParaEdicao(produtoAtual);
                fecharModal();
                navegarPara('novo');
            }
        }

        function confirmarExclusao() {
            if (produtoAtual && confirm(`Tem certeza que deseja excluir "${produtoAtual.nome}"?`)) {
                StorageManager.deleteProduto(produtoAtual.id);
                fecharModal();
                carregarProdutos();
                atualizarDashboard();
            }
        }

        // ==================== FORMUL√ÅRIO DE PRODUTO ====================
        let modoEdicao = false;
        let produtoEditandoId = null;

        function limparFormulario() {
            document.getElementById('productForm').reset();
            document.getElementById('pageTitle').textContent = 'Criar Novo Produto ‚ú®';
            document.getElementById('btnText').textContent = '‚ú® Salvar Produto';
            modoEdicao = false;
            produtoEditandoId = null;
            
            // Voltar para os cards principais
            voltarParaMainCards();
            
            // Limpar arrays de dados
            passosMetodoData = [];
            beneficiosData = [];
            passoCounter = 0;
            beneficioCounter = 0;
            
            // Limpar renderiza√ß√µes
            renderizarPassosMetodo();
            renderizarBeneficios();
        }

        function carregarDadosParaEdicao(produto) {
            modoEdicao = true;
            produtoEditandoId = produto.id;
            
            // Mostrar formul√°rio ao editar, come√ßando na Fase 1
            document.getElementById('fasesNavigation').style.display = 'none';
            document.getElementById('fasesFormContainer').classList.add('active');
            mostrarFase(1);
            
            // Textos longos de cada fase
            document.getElementById('textoLongoFase1').value = produto.textoLongoFase1 || '';
            document.getElementById('textoLongoFase2').value = produto.textoLongoFase2 || '';
            document.getElementById('textoLongoFase3').value = produto.textoLongoFase3 || '';
            document.getElementById('textoLongoFase4').value = produto.textoLongoFase4 || '';
            
            // Fase 1: Poder Digital
            document.getElementById('habilidades').value = produto.habilidades || '';
            document.getElementById('problemaResolver').value = produto.problemaResolver || '';
            document.getElementById('ikigaiPaixao').value = produto.ikigaiPaixao || '';
            document.getElementById('ikigaiMissao').value = produto.ikigaiMissao || '';
            document.getElementById('ikigaiBomNisso').value = produto.ikigaiBomNisso || '';
            document.getElementById('ikigaiVocacao').value = produto.ikigaiVocacao || '';
            document.getElementById('dataInicioPlanejamento').value = produto.dataInicioPlanejamento || '';
            document.getElementById('dataConclusaoConteudo').value = produto.dataConclusaoConteudo || '';
            document.getElementById('dataLancamento').value = produto.dataLancamento || '';
            
            // Fase 2: Brainstorm e M√©todo
            document.getElementById('brainstormIdeias').value = produto.brainstormIdeias || '';
            document.getElementById('bonusIdeias').value = produto.bonusIdeias || '';
            document.getElementById('suaTrajetoria').value = produto.suaTrajetoria || '';
            document.getElementById('errosEvitados').value = produto.errosEvitados || '';
            document.getElementById('ferramentasUsadas').value = produto.ferramentasUsadas || '';
            
            // Fase 3: Promessa e Oferta
            document.getElementById('promessaMagnetica').value = produto.promessaMagnetica || '';
            document.getElementById('nomePersuasivo').value = produto.nomePersuasivo || produto.nome || '';
            document.getElementById('metodo').value = produto.metodo || produto.tipo || '';
            
            // Fase 4: P√∫blico e Mercado
            document.getElementById('publicoAlvo').value = produto.publicoAlvo || '';
            document.getElementById('preco').value = produto.preco || '';
            document.getElementById('estrutura').value = produto.estrutura || '';
            document.getElementById('recursosNecessarios').value = produto.recursosNecessarios || '';
            document.getElementById('observacoes').value = produto.observacoes || '';
            
            // Carregar passos do m√©todo
            passosMetodoData = produto.passosMetodo || [];
            passoCounter = passosMetodoData.length > 0 ? Math.max(...passosMetodoData.map(p => p.id)) + 1 : 0;
            renderizarPassosMetodo();
            
            // Carregar benef√≠cios
            beneficiosData = produto.beneficios || [];
            beneficioCounter = beneficiosData.length > 0 ? Math.max(...beneficiosData.map(b => b.id)) + 1 : 0;
            renderizarBeneficios();
            
            document.getElementById('pageTitle').textContent = 'Editar Produto ‚úèÔ∏è';
            document.getElementById('btnText').textContent = 'üíæ Salvar Altera√ß√µes';
        }

        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const metodo = document.getElementById('metodo').value;
            
            if (!metodo) {
                alert('Por favor, selecione o M√©todo/Tipo de Produto na Fase 3');
                return;
            }
            
            const formData = {
                // Usando campos das fases como informa√ß√µes principais
                nome: document.getElementById('nomePersuasivo').value || 'Novo Produto',
                tipo: metodo,
                metodo: metodo,
                status: [],
                descricao: document.getElementById('problemaResolver').value,
                
                // Textos longos de cada fase
                textoLongoFase1: document.getElementById('textoLongoFase1').value,
                textoLongoFase2: document.getElementById('textoLongoFase2').value,
                textoLongoFase3: document.getElementById('textoLongoFase3').value,
                textoLongoFase4: document.getElementById('textoLongoFase4').value,
                
                // Fase 1: Poder Digital
                habilidades: document.getElementById('habilidades').value,
                problemaResolver: document.getElementById('problemaResolver').value,
                ikigaiPaixao: document.getElementById('ikigaiPaixao').value,
                ikigaiMissao: document.getElementById('ikigaiMissao').value,
                ikigaiBomNisso: document.getElementById('ikigaiBomNisso').value,
                ikigaiVocacao: document.getElementById('ikigaiVocacao').value,
                dataInicioPlanejamento: document.getElementById('dataInicioPlanejamento').value,
                dataConclusaoConteudo: document.getElementById('dataConclusaoConteudo').value,
                dataLancamento: document.getElementById('dataLancamento').value,
                
                // Fase 2: Brainstorm e M√©todo
                brainstormIdeias: document.getElementById('brainstormIdeias').value,
                bonusIdeias: document.getElementById('bonusIdeias').value,
                passosMetodo: passosMetodoData,
                suaTrajetoria: document.getElementById('suaTrajetoria').value,
                errosEvitados: document.getElementById('errosEvitados').value,
                ferramentasUsadas: document.getElementById('ferramentasUsadas').value,
                
                // Fase 3: Promessa e Oferta
                promessaMagnetica: document.getElementById('promessaMagnetica').value,
                nomePersuasivo: document.getElementById('nomePersuasivo').value,
                beneficios: beneficiosData,
                
                // Fase 4: P√∫blico e Mercado
                publicoAlvo: document.getElementById('publicoAlvo').value,
                preco: document.getElementById('preco').value,
                estrutura: document.getElementById('estrutura').value,
                recursosNecessarios: document.getElementById('recursosNecessarios').value,
                observacoes: document.getElementById('observacoes').value
            };
            
            if (modoEdicao) {
                StorageManager.updateProduto(produtoEditandoId, formData);
            } else {
                StorageManager.addProduto(formData);
            }
            
            const successMsg = document.getElementById('successMessage');
            successMsg.textContent = modoEdicao ? '‚úì Produto atualizado com sucesso!' : '‚úì Produto criado com sucesso!';
            successMsg.classList.add('active');
            
            setTimeout(() => {
                successMsg.classList.remove('active');
                navegarPara('produtos');
            }, 1500);
        });

        // ==================== COMENT√ÅRIOS (POST-ITS) ====================
        let comentariosData = [];
        const coresPostit = ['yellow', 'pink', 'blue', 'green', 'orange', 'purple'];

        function adicionarComentario() {
            const input = document.getElementById('commentInput');
            const texto = input.value.trim();
            
            if (!texto) {
                alert('Digite um coment√°rio antes de adicionar!');
                return;
            }
            
            const comentario = {
                id: Date.now(),
                texto: texto,
                data: new Date().toLocaleDateString('pt-BR'),
                cor: coresPostit[Math.floor(Math.random() * coresPostit.length)]
            };
            
            comentariosData.push(comentario);
            renderizarComentarios();
            input.value = '';
        }

        function removerComentario(id) {
            comentariosData = comentariosData.filter(c => c.id !== id);
            renderizarComentarios();
        }

        function renderizarComentarios() {
            const container = document.getElementById('commentsContainer');
            
            if (comentariosData.length === 0) {
                container.innerHTML = '<p style="opacity: 0.5; grid-column: 1/-1; text-align: center; padding: 2rem;">Nenhum coment√°rio adicionado ainda</p>';
                return;
            }
            
            container.innerHTML = comentariosData.map(comentario => `
                <div class="postit color-${comentario.cor}">
                    <div class="postit-header">
                        <span class="postit-date">${comentario.data}</span>
                        <span class="postit-delete" onclick="removerComentario(${comentario.id})">√ó</span>
                    </div>
                    <div class="postit-content">${comentario.texto}</div>
                </div>
            `).join('');
        }

        // ==================== URLs DIN√ÇMICAS ====================
        let urlsData = [];
        let urlCounter = 0;

        function adicionarURL() {
            const urlId = urlCounter++;
            urlsData.push({
                id: urlId,
                url: '',
                tipo: ''
            });
            renderizarURLs();
        }

        function removerURL(id) {
            urlsData = urlsData.filter(u => u.id !== id);
            renderizarURLs();
        }

        function atualizarURL(id, campo, valor) {
            const url = urlsData.find(u => u.id === id);
            if (url) {
                url[campo] = valor;
            }
        }

        function renderizarURLs() {
            const container = document.getElementById('urlsList');
            
            if (urlsData.length === 0) {
                container.innerHTML = '<p style="opacity: 0.5; text-align: center; padding: 2rem;">Nenhuma URL adicionada ainda</p>';
                return;
            }
            
            container.innerHTML = urlsData.map(url => `
                <div class="url-item">
                    <input 
                        type="url" 
                        placeholder="https://exemplo.com" 
                        value="${url.url}"
                        onchange="atualizarURL(${url.id}, 'url', this.value)"
                    >
                    <select onchange="atualizarURL(${url.id}, 'tipo', this.value)">
                        <option value="">Tipo de Link</option>
                        <option value="landing-page" ${url.tipo === 'landing-page' ? 'selected' : ''}>Landing Page</option>
                        <option value="produto" ${url.tipo === 'produto' ? 'selected' : ''}>Produto</option>
                        <option value="checkout" ${url.tipo === 'checkout' ? 'selected' : ''}>Checkout</option>
                        <option value="demo" ${url.tipo === 'demo' ? 'selected' : ''}>Demo</option>
                        <option value="documentacao" ${url.tipo === 'documentacao' ? 'selected' : ''}>Documenta√ß√£o</option>
                        <option value="redes-sociais" ${url.tipo === 'redes-sociais' ? 'selected' : ''}>Redes Sociais</option>
                        <option value="outro" ${url.tipo === 'outro' ? 'selected' : ''}>Outro</option>
                    </select>
                    <button type="button" class="remove-url-btn" onclick="removerURL(${url.id})">üóëÔ∏è</button>
                </div>
            `).join('');
        }

        // ==================== ARQUIVOS DE DOWNLOAD ====================
        let arquivosData = [];

        function handleFileSelect(event) {
            const files = Array.from(event.target.files);
            
            files.forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    arquivosData.push({
                        id: Date.now() + Math.random(),
                        nome: file.name,
                        tamanho: formatarTamanho(file.size),
                        tipo: file.type,
                        data: e.target.result
                    });
                    renderizarArquivos();
                };
                reader.readAsDataURL(file);
            });
        }

        function formatarTamanho(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }

        function obterIconeArquivo(tipo) {
            if (tipo.startsWith('image/')) return 'üñºÔ∏è';
            if (tipo === 'application/pdf') return 'üìÑ';
            if (tipo.includes('word')) return 'üìù';
            if (tipo.includes('text')) return 'üìÉ';
            return 'üìé';
        }

        function removerArquivo(id) {
            arquivosData = arquivosData.filter(a => a.id !== id);
            renderizarArquivos();
        }

        function renderizarArquivos() {
            const container = document.getElementById('filesList');
            
            if (arquivosData.length === 0) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = arquivosData.map(arquivo => `
                <div class="file-item">
                    <div class="file-info">
                        <span class="file-icon">${obterIconeArquivo(arquivo.tipo)}</span>
                        <div>
                            <div class="file-name">${arquivo.nome}</div>
                            <div class="file-size">${arquivo.tamanho}</div>
                        </div>
                    </div>
                    <button type="button" class="remove-file-btn" onclick="removerArquivo(${arquivo.id})">Remover</button>
                </div>
            `).join('');
        }

        // ==================== C√ÅLCULOS FINANCEIROS ====================
        let custosData = [];
        let custoCounter = 0;

        function adicionarCusto() {
            const custoId = custoCounter++;
            custosData.push({
                id: custoId,
                descricao: '',
                valor: 0,
                quantidade: 1
            });
            renderizarCustos();
        }

        function removerCusto(id) {
            custosData = custosData.filter(c => c.id !== id);
            renderizarCustos();
            calcularTotalCustos();
        }

        function atualizarCusto(id, campo, valor) {
            const custo = custosData.find(c => c.id === id);
            if (custo) {
                custo[campo] = valor;
                calcularTotalCustos();
            }
        }

        function renderizarCustos() {
            const container = document.getElementById('financialTable');
            
            if (custosData.length === 0) {
                container.innerHTML = '<p style="opacity: 0.5; text-align: center; padding: 2rem;">Nenhum custo adicionado ainda</p>';
                return;
            }
            
            container.innerHTML = `
                <div class="financial-table">
                    ${custosData.map(custo => `
                        <div class="financial-row">
                            <input 
                                type="text" 
                                placeholder="Descri√ß√£o do custo" 
                                value="${custo.descricao}"
                                onchange="atualizarCusto(${custo.id}, 'descricao', this.value)"
                            >
                            <input 
                                type="number" 
                                placeholder="Valor (R$)" 
                                value="${custo.valor}"
                                min="0"
                                step="0.01"
                                onchange="atualizarCusto(${custo.id}, 'valor', parseFloat(this.value) || 0)"
                            >
                            <input 
                                type="number" 
                                placeholder="Qtd" 
                                value="${custo.quantidade}"
                                min="1"
                                onchange="atualizarCusto(${custo.id}, 'quantidade', parseInt(this.value) || 1)"
                            >
                            <button type="button" class="remove-url-btn" onclick="removerCusto(${custo.id})">üóëÔ∏è</button>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function calcularTotalCustos() {
            const total = custosData.reduce((sum, custo) => {
                return sum + (custo.valor * custo.quantidade);
            }, 0);
            
            document.getElementById('totalCustos').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
            calcularLucro();
            return total;
        }

        function calcularLucro() {
            const receita = parseFloat(document.getElementById('receitaEstimada').value) || 0;
            const custos = calcularTotalCustos();
            const lucro = receita - custos;
            
            document.getElementById('lucroEstimado').value = lucro.toFixed(2);
            
            // Calcular margem de lucro
            const margem = receita > 0 ? ((lucro / receita) * 100) : 0;
            document.getElementById('margemLucro').value = margem.toFixed(2);
            
            // Calcular ROI
            const roi = custos > 0 ? ((lucro / custos) * 100) : 0;
            document.getElementById('roi').value = roi.toFixed(2);
        }

        // ==================== PASSOS DO M√âTODO ====================
        let passosMetodoData = [];
        let passoCounter = 0;

        function adicionarPassoMetodo() {
            const passoId = passoCounter++;
            passosMetodoData.push({
                id: passoId,
                numero: passosMetodoData.length + 1,
                descricao: ''
            });
            renderizarPassosMetodo();
        }

        function removerPassoMetodo(id) {
            passosMetodoData = passosMetodoData.filter(p => p.id !== id);
            // Renumerar passos
            passosMetodoData.forEach((passo, index) => {
                passo.numero = index + 1;
            });
            renderizarPassosMetodo();
        }

        function atualizarPassoMetodo(id, valor) {
            const passo = passosMetodoData.find(p => p.id === id);
            if (passo) {
                passo.descricao = valor;
            }
        }

        function renderizarPassosMetodo() {
            const container = document.getElementById('metodoSteps');
            
            if (passosMetodoData.length === 0) {
                container.innerHTML = '<p style="opacity: 0.5; text-align: center; padding: 2rem;">Nenhum passo adicionado. Clique em "Adicionar Passo" para come√ßar.</p>';
                return;
            }
            
            container.innerHTML = passosMetodoData.map(passo => `
                <div class="metodo-step">
                    <div class="metodo-step-header">
                        <div class="metodo-step-number">${passo.numero}</div>
                        <input 
                            type="text" 
                            class="metodo-step-input"
                            placeholder="Descreva este passo do m√©todo..."
                            value="${passo.descricao}"
                            onchange="atualizarPassoMetodo(${passo.id}, this.value)"
                        >
                        <button type="button" class="remove-url-btn" onclick="removerPassoMetodo(${passo.id})" style="margin-left: 0.5rem;">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        // ==================== BENEF√çCIOS ====================
        let beneficiosData = [];
        let beneficioCounter = 0;

        function adicionarBeneficio() {
            const beneficioId = beneficioCounter++;
            beneficiosData.push({
                id: beneficioId,
                descricao: ''
            });
            renderizarBeneficios();
        }

        function removerBeneficio(id) {
            beneficiosData = beneficiosData.filter(b => b.id !== id);
            renderizarBeneficios();
        }

        function atualizarBeneficio(id, valor) {
            const beneficio = beneficiosData.find(b => b.id === id);
            if (beneficio) {
                beneficio.descricao = valor;
            }
        }

        function renderizarBeneficios() {
            const container = document.getElementById('beneficiosList');
            
            if (beneficiosData.length === 0) {
                container.innerHTML = '<p style="opacity: 0.5; text-align: center; padding: 2rem;">Nenhum benef√≠cio adicionado. Comece listando os benef√≠cios do seu produto!</p>';
                return;
            }
            
            container.innerHTML = beneficiosData.map(beneficio => `
                <div class="beneficio-item">
                    <input 
                        type="text" 
                        placeholder="‚úì Benef√≠cio ou resultado que o aluno ter√°..."
                        value="${beneficio.descricao}"
                        onchange="atualizarBeneficio(${beneficio.id}, this.value)"
                    >
                    <button type="button" class="remove-beneficio-btn" onclick="removerBeneficio(${beneficio.id})">üóëÔ∏è</button>
                </div>
            `).join('');
        }

        // ==================== BRAINSTORMING ====================
        let conversationHistory = [];
        let conversationId = null;

        // Storage de conversas
        const ConversationStorage = {
            getConversations() {
                const conversations = localStorage.getItem('atelie_conversations');
                return conversations ? JSON.parse(conversations) : [];
            },
            
            saveConversation(conversation) {
                const conversations = this.getConversations();
                const existingIndex = conversations.findIndex(c => c.id === conversation.id);
                
                if (existingIndex !== -1) {
                    conversations[existingIndex] = conversation;
                } else {
                    conversations.push(conversation);
                }
                
                localStorage.setItem('atelie_conversations', JSON.stringify(conversations));
                renderizarConversasSalvas();
            },
            
            deleteConversation(id) {
                const conversations = this.getConversations();
                const filtered = conversations.filter(c => c.id !== id);
                localStorage.setItem('atelie_conversations', JSON.stringify(filtered));
                renderizarConversasSalvas();
            },
            
            getConversationById(id) {
                const conversations = this.getConversations();
                return conversations.find(c => c.id === id);
            }
        };

        // Gerar resumo autom√°tico da conversa
        function gerarResumo(messages) {
            if (messages.length === 0) return 'Conversa vazia';
            
            const firstUserMessage = messages.find(m => m.role === 'user');
            if (!firstUserMessage) return 'Nova conversa';
            
            const texto = firstUserMessage.content;
            return texto.length > 60 ? texto.substring(0, 60) + '...' : texto;
        }

        // Salvar conversa automaticamente
        function salvarConversaAutomaticamente() {
            if (conversationHistory.length === 0) return;
            
            const conversation = {
                id: conversationId || Date.now(),
                titulo: gerarResumo(conversationHistory),
                messages: conversationHistory,
                data: new Date().toISOString(),
                dataFormatada: new Date().toLocaleDateString('pt-BR', { 
                    day: '2-digit', 
                    month: '2-digit', 
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };
            
            if (!conversationId) {
                conversationId = conversation.id;
            }
            
            ConversationStorage.saveConversation(conversation);
        }

        // Renderizar cards de conversas salvas
        function renderizarConversasSalvas() {
            const conversations = ConversationStorage.getConversations();
            const container = document.getElementById('conversationsGrid');
            
            if (conversations.length === 0) {
                container.innerHTML = `
                    <div class="empty-conversations" style="grid-column: 1/-1;">
                        <div class="empty-conversations-icon">üí≠</div>
                        <p>Nenhuma conversa salva ainda. Inicie um brainstorming!</p>
                    </div>
                `;
                return;
            }
            
            // Ordenar por data mais recente
            conversations.sort((a, b) => new Date(b.data) - new Date(a.data));
            
            container.innerHTML = conversations.map(conv => {
                const preview = conv.messages[1]?.content || 'Sem resposta ainda';
                const messagesCount = conv.messages.length;
                
                return `
                    <div class="conversation-card" onclick="abrirDetalhesConversa('${conv.id}')">
                        <div class="conversation-header">
                            <span class="conversation-icon">üí°</span>
                            <span class="conversation-date">${conv.dataFormatada}</span>
                        </div>
                        <div class="conversation-summary">${conv.titulo}</div>
                        <div class="conversation-preview">${preview.substring(0, 80)}${preview.length > 80 ? '...' : ''}</div>
                        <div class="conversation-footer">
                            <span class="conversation-messages-count">${messagesCount} mensagens</span>
                            <div class="conversation-actions" onclick="event.stopPropagation()">
                                <button class="conversation-action-btn" onclick="continuarConversa('${conv.id}')" title="Continuar conversa">
                                    ‚ñ∂Ô∏è
                                </button>
                                <button class="conversation-action-btn" onclick="confirmarExclusaoConversa('${conv.id}')" title="Excluir">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Abrir modal com detalhes da conversa
        function abrirDetalhesConversa(id) {
            const conversation = ConversationStorage.getConversationById(parseInt(id));
            if (!conversation) return;
            
            document.getElementById('conversationModalTitle').textContent = conversation.titulo;
            document.getElementById('conversationModalMeta').textContent = 
                `${conversation.dataFormatada} ‚Ä¢ ${conversation.messages.length} mensagens`;
            
            const messagesContainer = document.getElementById('conversationModalMessages');
            messagesContainer.innerHTML = conversation.messages.map(msg => {
                const tipo = msg.role === 'user' ? 'user' : 'ai';
                const avatar = msg.role === 'user' ? 'üë§' : 'ü§ñ';
                
                return `
                    <div class="modal-message ${tipo}">
                        <div class="modal-message-avatar">${avatar}</div>
                        <div class="modal-message-content">${msg.content.replace(/\n/g, '<br>')}</div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('conversationModal').classList.add('active');
        }

        function fecharConversationModal() {
            document.getElementById('conversationModal').classList.remove('active');
        }

        // Continuar conversa existente
        function continuarConversa(id) {
            const conversation = ConversationStorage.getConversationById(parseInt(id));
            if (!conversation) return;
            
            conversationId = conversation.id;
            conversationHistory = [...conversation.messages];
            
            // Limpar √°rea de mensagens e recriar conversa
            const messagesArea = document.getElementById('messagesArea');
            messagesArea.innerHTML = '';
            
            conversation.messages.forEach(msg => {
                const tipo = msg.role === 'user' ? 'user' : 'ai';
                adicionarMensagem(msg.content, tipo);
            });
            
            document.getElementById('quickPrompts').style.display = 'none';
            messageInput.focus();
        }

        // Confirmar exclus√£o
        function confirmarExclusaoConversa(id) {
            if (confirm('Tem certeza que deseja excluir esta conversa?')) {
                ConversationStorage.deleteConversation(parseInt(id));
            }
        }

        const messageInput = document.getElementById('messageInput');
        messageInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        });

        messageInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                enviarMensagem();
            }
        });

        function usarPrompt(texto) {
            messageInput.value = texto;
            messageInput.focus();
        }

        function novaConversa() {
            if (conversationHistory.length > 0 && 
                !confirm('Deseja iniciar uma nova conversa? A conversa atual j√° foi salva.')) {
                return;
            }
            
            conversationHistory = [];
            conversationId = null;
            const messagesArea = document.getElementById('messagesArea');
            messagesArea.innerHTML = `
                <div class="empty-state">
                    <div class="empty-state-icon">‚ú®</div>
                    <h2 style="font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--rosa-destaque); margin-bottom: 1rem;">Vamos criar algo incr√≠vel?</h2>
                    <p style="color: var(--cinza-escuro); opacity: 0.7; font-size: 1.1rem; max-width: 500px; margin: 0 auto;">
                        Use este espa√ßo para desenvolver suas ideias, fazer anota√ß√µes e planejar seus produtos!
                    </p>
                </div>
            `;
            document.getElementById('quickPrompts').style.display = 'block';
        }

        function adicionarMensagem(texto, tipo) {
            const messagesArea = document.getElementById('messagesArea');
            
            const emptyState = messagesArea.querySelector('.empty-state');
            if (emptyState) {
                emptyState.remove();
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${tipo}`;
            
            const avatar = tipo === 'ai' ? 'ü§ñ' : 'üë§';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">${texto.replace(/\n/g, '<br>')}</div>
            `;
            
            messagesArea.appendChild(messageDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        function enviarMensagem() {
            const input = messageInput.value.trim();
            if (!input) return;
            
            document.getElementById('quickPrompts').style.display = 'none';
            
            adicionarMensagem(input, 'user');
            conversationHistory.push({ role: 'user', content: input });
            
            messageInput.value = '';
            messageInput.style.height = 'auto';
            
            const sendButton = document.getElementById('sendButton');
            sendButton.disabled = true;
            document.getElementById('typingIndicator').classList.add('active');
            
            // Simula√ß√£o de resposta (j√° que a integra√ß√£o com API requer configura√ß√£o)
            setTimeout(() => {
                const resposta = "√ìtima ideia! Para desenvolver isso melhor, sugiro que voc√™ anote suas ideias aqui e depois organize tudo na se√ß√£o 'Novo Produto' do sistema. üí°";
                conversationHistory.push({ role: 'assistant', content: resposta });
                adicionarMensagem(resposta, 'ai');
                
                // Salvar conversa automaticamente ap√≥s resposta
                salvarConversaAutomaticamente();
                
                sendButton.disabled = false;
                document.getElementById('typingIndicator').classList.remove('active');
                messageInput.focus();
            }, 1500);
        }

        // ==================== BIBLIOTECA ====================
        const guias = {
            'publico-alvo': {
                titulo: 'Como Definir seu P√∫blico-Alvo',
                conteudo: `
                    <h3>Por que √© importante?</h3>
                    <p>Conhecer profundamente seu p√∫blico-alvo √© a base para criar um produto que realmente vende.</p>

                    <h3>Passo 1: Demografia B√°sica</h3>
                    <ul>
                        <li>Idade, g√™nero, localiza√ß√£o</li>
                        <li>Profiss√£o e n√≠vel de renda</li>
                        <li>Estado civil e composi√ß√£o familiar</li>
                    </ul>

                    <h3>Passo 2: Psicografia</h3>
                    <ul>
                        <li>Valores e cren√ßas</li>
                        <li>Interesses e hobbies</li>
                        <li>Estilo de vida e aspira√ß√µes</li>
                        <li>Medos e frustra√ß√µes</li>
                    </ul>

                    <h3>Passo 3: Comportamento de Compra</h3>
                    <ul>
                        <li>Onde consomem conte√∫do?</li>
                        <li>Como tomam decis√µes de compra?</li>
                        <li>Qual sua faixa de investimento?</li>
                    </ul>
                `
            },
            'precificacao': {
                titulo: 'Precifica√ß√£o Estrat√©gica',
                conteudo: `
                    <h3>M√©todos de Precifica√ß√£o</h3>
                    
                    <h3>1. Baseada em Custos</h3>
                    <p>Some todos os custos e adicione a margem de lucro desejada (m√≠nimo 40%).</p>

                    <h3>2. Baseada em Valor</h3>
                    <p>Quanto vale a transforma√ß√£o que voc√™ proporciona?</p>

                    <h3>3. Baseada em Mercado</h3>
                    <p>Pesquise produtos similares e posicione-se estrategicamente.</p>

                    <h3>Estrat√©gias Avan√ßadas</h3>
                    <ul>
                        <li>Pre√ßo Psicol√≥gico: R$97 performa melhor que R$100</li>
                        <li>Pacotes: Ofere√ßa 3 op√ß√µes</li>
                        <li>Desconto de Lan√ßamento: Crie urg√™ncia</li>
                    </ul>
                `
            },
            'estrutura': {
                titulo: 'Estruturando seu Conte√∫do',
                conteudo: `
                    <h3>Estrutura Ideal de M√≥dulos</h3>
                    
                    <p><strong>M√≥dulo 1: Funda√ß√£o</strong></p>
                    <ul>
                        <li>Boas-vindas e expectativas</li>
                        <li>Por que este conte√∫do importa</li>
                        <li>Como aproveitar ao m√°ximo</li>
                    </ul>

                    <p><strong>M√≥dulos Intermedi√°rios</strong></p>
                    <ul>
                        <li>Um conceito principal por m√≥dulo</li>
                        <li>Teoria + Exemplos + Exerc√≠cios</li>
                        <li>Cada m√≥dulo constr√≥i sobre o anterior</li>
                    </ul>

                    <p><strong>M√≥dulo Final</strong></p>
                    <ul>
                        <li>Plano de a√ß√£o</li>
                        <li>Pr√≥ximos passos</li>
                        <li>Recursos adicionais</li>
                    </ul>
                `
            },
            'lancamento': {
                titulo: 'Estrat√©gias de Lan√ßamento',
                conteudo: `
                    <h3>Timeline de Lan√ßamento</h3>
                    
                    <h3>30 Dias Antes: Pr√©-Aquecimento</h3>
                    <ul>
                        <li>Crie antecipa√ß√£o nas redes sociais</li>
                        <li>Compartilhe bastidores</li>
                        <li>Colete e-mails de interessados</li>
                    </ul>

                    <h3>7 Dias Antes: Intensifica√ß√£o</h3>
                    <ul>
                        <li>Anuncie data oficial</li>
                        <li>Fa√ßa live explicando o produto</li>
                        <li>Ofere√ßa b√¥nus exclusivos</li>
                    </ul>

                    <h3>Dia do Lan√ßamento</h3>
                    <ul>
                        <li>E-mail para toda lista √†s 8h</li>
                        <li>Posts frequentes nas redes</li>
                        <li>Lives e sess√µes de perguntas</li>
                    </ul>

                    <h3>Estrat√©gias que Funcionam</h3>
                    <ul>
                        <li>Escassez Real: N√∫mero limitado ou prazo definido</li>
                        <li>B√¥nus Tempor√°rios</li>
                        <li>Garantia Forte: 7-30 dias</li>
                    </ul>
                `
            }
        };

        function abrirGuia(guiaId) {
            const guia = guias[guiaId];
            if (!guia) return;
            
            document.getElementById('guideModalTitle').textContent = guia.titulo;
            document.getElementById('guideModalBody').innerHTML = guia.conteudo;
            document.getElementById('guideModal').classList.add('active');
        }

        function fecharGuiaModal() {
            document.getElementById('guideModal').classList.remove('active');
        }

        // Fechar modal ao clicar fora
        document.getElementById('productModal').addEventListener('click', function(e) {
            if (e.target === this) fecharModal();
        });

        document.getElementById('guideModal').addEventListener('click', function(e) {
            if (e.target === this) fecharGuiaModal();
        });

        document.getElementById('conversationModal').addEventListener('click', function(e) {
            if (e.target === this) fecharConversationModal();
        });

        // Fechar com ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                fecharModal();
                fecharGuiaModal();
                fecharConversationModal();
            }
        });

        // ==================== INICIALIZA√á√ÉO ====================
        document.addEventListener('DOMContentLoaded', function() {
            atualizarDashboard();
            renderizarConversasSalvas();
        });

        // ==================== SISTEMA DE BACKUP COMPLETO ====================
        // Integra√ß√£o com Quartel General para gest√£o centralizada de backups
        
        // Escutar mensagens do parent (Quartel General)
        window.addEventListener('message', function(event) {
            const message = event.data;
            
            switch(message.type) {
                case 'CREATE_GLOBAL_BACKUP':
                    criarBackupGlobal();
                    break;
                    
                case 'RESTORE_BACKUP':
                    restaurarBackup(message.data);
                    break;
                    
                case 'RESET_SYSTEM':
                    resetarSistemaCompleto();
                    break;
                    
                case 'OPEN_INDIVIDUAL_BACKUP':
                    alert('Por favor, abra um produto e clique em "Exportar JSON" para fazer backup individual.');
                    break;
            }
        });

        // Criar Backup Global
        function criarBackupGlobal() {
            try {
                const produtos = StorageManager.getProdutos();
                
                if (produtos.length === 0) {
                    alert('‚ö†Ô∏è Nenhum produto para fazer backup!');
                    return;
                }
                
                const backup = {
                    version: "MAPA-V1",
                    exportDate: new Date().toISOString(),
                    userAgent: navigator.userAgent,
                    totalProdutos: produtos.length,
                    dataSize: 0,
                    data: {
                        produtos: produtos,
                        thumbnails: thumbnailsData || {},
                        files: filesData || {},
                        galeria: galeriaData || {},
                        links: linksData || {}
                    }
                };
                
                const json = JSON.stringify(backup, null, 2);
                backup.dataSize = json.length;
                
                const sizeKB = (json.length / 1024).toFixed(2);
                const sizeMB = (json.length / 1024 / 1024).toFixed(2);
                const sizeFormatted = json.length > 1024 * 1024 ? `${sizeMB} MB` : `${sizeKB} KB`;
                
                // Notificar parent (Quartel General)
                window.parent.postMessage({
                    type: 'BACKUP_CREATED',
                    backupType: 'global',
                    size: sizeFormatted,
                    products: produtos.length,
                    data: backup
                }, '*');
                
                // Download autom√°tico
                const blob = new Blob([json], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `backup-global-${new Date().toISOString().split('T')[0]}.json`;
                a.click();
                URL.revokeObjectURL(url);
                
                alert(`‚úÖ Backup Global criado com sucesso!\n\nüìä ${produtos.length} produto(s)\nüíæ ${sizeFormatted}\nüì• Arquivo baixado automaticamente`);
                
            } catch (error) {
                console.error('Erro ao criar backup global:', error);
                alert('‚ùå Erro ao criar backup. Verifique o console.');
            }
        }

        // Restaurar Backup
        function restaurarBackup(backupData) {
            try {
                if (!backupData || !backupData.data) {
                    throw new Error('Backup inv√°lido: estrutura incorreta');
                }
                
                if (backupData.data.produtos) {
                    restaurarBackupGlobal(backupData);
                } else if (backupData.id && backupData.tipo) {
                    restaurarBackupIndividual(backupData);
                } else {
                    throw new Error('Tipo de backup n√£o reconhecido');
                }
                
            } catch (error) {
                console.error('Erro ao restaurar backup:', error);
                alert(`‚ùå Erro ao restaurar backup:\n\n${error.message}`);
            }
        }

        // Restaurar Backup Global
        function restaurarBackupGlobal(backup) {
            try {
                const data = backup.data;
                
                // Limpar dados atuais
                localStorage.removeItem('produtos');
                
                // Restaurar produtos
                if (data.produtos && data.produtos.length > 0) {
                    data.produtos.forEach(produto => {
                        StorageManager.addProduto(produto);
                    });
                }
                
                // Restaurar dados globais
                if (data.thumbnails) {
                    thumbnailsData = data.thumbnails;
                    localStorage.setItem('thumbnailsData', JSON.stringify(thumbnailsData));
                }
                if (data.files) {
                    filesData = data.files;
                    localStorage.setItem('filesData', JSON.stringify(filesData));
                }
                if (data.galeria) {
                    galeriaData = data.galeria;
                    localStorage.setItem('galeriaData', JSON.stringify(galeriaData));
                }
                if (data.links) {
                    linksData = data.links;
                    localStorage.setItem('linksData', JSON.stringify(linksData));
                }
                
                // Recarregar interface
                carregarProdutos();
                if (typeof atualizarDashboard === 'function') atualizarDashboard();
                
                alert(`‚úÖ Backup Global restaurado com sucesso!\n\nüìä ${data.produtos.length} produto(s) restaurado(s)`);
                
            } catch (error) {
                console.error('Erro ao restaurar backup global:', error);
                alert(`‚ùå Erro ao restaurar:\n\n${error.message}`);
            }
        }

        // Restaurar Backup Individual
        function restaurarBackupIndividual(produto) {
            try {
                const produtos = StorageManager.getProdutos();
                const existe = produtos.find(p => p.id === produto.id);
                
                if (existe) {
                    if (!confirm(`‚ö†Ô∏è J√° existe um produto com este ID.\n\nDeseja sobrescrever?`)) {
                        return;
                    }
                    StorageManager.deleteProduto(produto.id);
                }
                
                StorageManager.addProduto(produto);
                
                // Recarregar interface
                carregarProdutos();
                if (typeof atualizarDashboard === 'function') atualizarDashboard();
                
                alert(`‚úÖ Produto restaurado com sucesso!\n\nüì¶ ${produto.nome}`);
                
            } catch (error) {
                console.error('Erro ao restaurar backup individual:', error);
                alert(`‚ùå Erro ao restaurar:\n\n${error.message}`);
            }
        }

        // Resetar Sistema Completo
        function resetarSistemaCompleto() {
            try {
                // Limpar TUDO do localStorage
                localStorage.clear();
                
                // Limpar vari√°veis globais
                thumbnailsData = {};
                filesData = {};
                galeriaData = {};
                linksData = {};
                
                // Recarregar p√°gina
                location.reload();
                
            } catch (error) {
                console.error('Erro ao resetar sistema:', error);
                alert('‚ùå Erro ao resetar sistema. Tente novamente.');
            }
        }

        // Modificar exportarJSON existente para notificar parent
        // Guardar fun√ß√£o original
        if (typeof exportarJSON !== 'undefined') {
            const exportarJSONOriginal = exportarJSON;
            
            // Sobrescrever com nova vers√£o
            exportarJSON = function() {
                if (!produtoAtual) return;
                
                // Executar fun√ß√£o original
                exportarJSONOriginal();
                
                // Notificar parent sobre backup individual
                const json = JSON.stringify(produtoAtual, null, 2);
                const sizeKB = (json.length / 1024).toFixed(2);
                
                window.parent.postMessage({
                    type: 'BACKUP_CREATED',
                    backupType: 'individual',
                    size: `${sizeKB} KB`,
                    products: 1,
                    productName: produtoAtual.nome,
                    data: produtoAtual
                }, '*');
            };
        }

        // Log para confirmar carregamento
        console.log('‚úÖ Sistema de Backup Completo carregado!');
        console.log('üì¶ Fun√ß√µes dispon√≠veis:');
        console.log('  - criarBackupGlobal()');
        console.log('  - restaurarBackup(data)');
        console.log('  - resetarSistemaCompleto()');
        console.log('üîó Integrado com Quartel General via PostMessage');

        // ==================== SINCRONIZA√á√ÉO COM SUPABASE (NUVEM) ====================
        
        // Configura√ß√£o do Supabase
        const SUPABASE_CONFIG = {
            url: null,
            key: null,
            initialized: false
        };

        let supabaseClient = null;
        let currentUserId = null;
        let syncInProgress = false;

        // Carregar biblioteca Supabase
        (function() {
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2';
            script.onload = () => console.log('‚úÖ Biblioteca Supabase carregada');
            script.onerror = () => console.warn('‚ö†Ô∏è Erro ao carregar Supabase - funcionando offline');
            document.head.appendChild(script);
        })();

        // Inicializar Supabase
        function initSupabase(url, key, userId) {
            try {
                if (!url || !key) {
                    console.warn('‚ö†Ô∏è Supabase n√£o configurado - funcionando offline');
                    return false;
                }
                
                SUPABASE_CONFIG.url = url;
                SUPABASE_CONFIG.key = key;
                SUPABASE_CONFIG.initialized = true;
                currentUserId = userId;
                
                if (!window.supabase) {
                    console.warn('‚ö†Ô∏è Biblioteca Supabase n√£o carregada ainda - aguardando...');
                    setTimeout(() => initSupabase(url, key, userId), 1000);
                    return false;
                }
                
                supabaseClient = window.supabase.createClient(url, key);
                
                console.log('‚úÖ Supabase inicializado! Sincroniza√ß√£o autom√°tica ativa.');
                
                // Sincronizar dados existentes ap√≥s 2 segundos
                setTimeout(() => syncAllData(), 2000);
                
                // Sincroniza√ß√£o peri√≥dica (a cada 5 minutos)
                setInterval(() => syncAllData(), 5 * 60 * 1000);
                
                return true;
                
            } catch (error) {
                console.error('‚ùå Erro ao inicializar Supabase:', error);
                return false;
            }
        }

        // Sincronizar todos os dados
        async function syncAllData() {
            if (!SUPABASE_CONFIG.initialized || syncInProgress || !navigator.onLine) return;
            
            syncInProgress = true;
            console.log('üîÑ Sincronizando com nuvem...');
            
            try {
                await pullFromCloud();
                await pushToCloud();
                
                console.log('‚úÖ Sincroniza√ß√£o completa!');
                
                window.parent.postMessage({
                    type: 'SYNC_COMPLETED',
                    timestamp: new Date().toISOString()
                }, '*');
                
            } catch (error) {
                console.error('‚ùå Erro na sincroniza√ß√£o:', error);
                
                window.parent.postMessage({
                    type: 'SYNC_ERROR',
                    error: error.message
                }, '*');
                
            } finally {
                syncInProgress = false;
            }
        }

        // Puxar dados da nuvem
        async function pullFromCloud() {
            if (!supabaseClient || !currentUserId) return;
            
            try {
                const { data: produtos, error } = await supabaseClient
                    .from('infoprodutos')
                    .select(`
                        *,
                        infoproduto_links (*),
                        infoproduto_arquivos (*),
                        infoproduto_galeria (*)
                    `)
                    .eq('user_id', currentUserId)
                    .order('updated_at', { ascending: false });
                
                if (error) throw error;
                
                if (!produtos || produtos.length === 0) {
                    console.log('‚ÑπÔ∏è Nenhum produto na nuvem');
                    return;
                }
                
                console.log(`üì• ${produtos.length} produto(s) da nuvem`);
                
                produtos.forEach(produto => {
                    const produtoLocal = {
                        id: produto.local_id || produto.id,
                        tipo: produto.tipo,
                        nome: produto.nome,
                        status: produto.status,
                        
                        problemaResolver: produto.problema_resolver,
                        habilidades: produto.habilidades,
                        ikigai: produto.ikigai,
                        cronograma: produto.cronograma,
                        
                        descricao: produto.descricao,
                        publicoAlvo: produto.publico_alvo,
                        preco: produto.preco,
                        plataforma: produto.plataforma,
                        observacoes: produto.observacoes,
                        
                        thumbnail: produto.thumbnail,
                        progresso: produto.progresso,
                        links: produto.infoproduto_links?.map(l => ({
                            categoria: l.categoria,
                            titulo: l.titulo,
                            url: l.url
                        })) || [],
                        
                        arquivos: produto.infoproduto_arquivos?.map(a => ({
                            name: a.name,
                            size: a.size,
                            type: a.type,
                            data: a.data,
                            icon: a.icon
                        })) || [],
                        checklistState: produto.checklist_state || [],
                        
                        galeria: produto.infoproduto_galeria?.map(g => ({
                            data: g.data,
                            name: g.name
                        })) || [],
                        
                        dataCriacao: produto.data_criacao,
                        textoLongoFase1: produto.texto_longo_fase1,
                        textoLongoFase2: produto.texto_longo_fase2,
                        textoLongoFase3: produto.texto_longo_fase3,
                        textoLongoFase4: produto.texto_longo_fase4,
                        
                        _cloudId: produto.id,
                        _lastSynced: produto.last_synced_at
                    };
                    
                    const localProduto = StorageManager.getProdutoById(produtoLocal.id);
                    
                    if (!localProduto) {
                        StorageManager.addProduto(produtoLocal);
                        console.log(`‚úÖ "${produtoLocal.nome}" adicionado`);
                    } else {
                        const cloudDate = new Date(produto.updated_at);
                        const localDate = new Date(localProduto.updated_at || localProduto.dataCriacao);
                        
                        if (cloudDate > localDate) {
                            StorageManager.updateProduto(produtoLocal.id, produtoLocal);
                            console.log(`üîÑ "${produtoLocal.nome}" atualizado`);
                        }
                    }
                });
                
                carregarProdutos();
                if (typeof atualizarDashboard === 'function') atualizarDashboard();
                
            } catch (error) {
                console.error('‚ùå Erro ao puxar da nuvem:', error);
                throw error;
            }
        }

        // Empurrar dados locais para nuvem
        async function pushToCloud() {
            if (!supabaseClient || !currentUserId) return;
            
            try {
                const produtos = StorageManager.getProdutos();
                
                if (produtos.length === 0) {
                    console.log('‚ÑπÔ∏è Nenhum produto local para sincronizar');
                    return;
                }
                
                console.log(`üì§ Sincronizando ${produtos.length} produto(s)...`);
                
                for (const produto of produtos) {
                    await pushProdutoToCloud(produto);
                }
                
            } catch (error) {
                console.error('‚ùå Erro ao empurrar para nuvem:', error);
                throw error;
            }
        }

        // Empurrar produto espec√≠fico
        async function pushProdutoToCloud(produto) {
            if (!supabaseClient || !currentUserId) return;
            
            try {
                const { data: existing } = await supabaseClient
                    .from('infoprodutos')
                    .select('id, updated_at')
                    .eq('user_id', currentUserId)
                    .eq('local_id', produto.id)
                    .maybeSingle();
                
                const produtoData = {
                    user_id: currentUserId,
                    local_id: produto.id,
                    tipo: produto.tipo,
                    nome: produto.nome,
                    status: produto.status,
                    problema_resolver: produto.problemaResolver,
                    habilidades: produto.habilidades,
                    ikigai: produto.ikigai,
                    cronograma: produto.cronograma,
                    descricao: produto.descricao,
                    publico_alvo: produto.publicoAlvo,
                    preco: produto.preco,
                    plataforma: produto.plataforma,
                    observacoes: produto.observacoes,
                    thumbnail: produto.thumbnail,
                    progresso: produto.progresso,
                    checklist_state: produto.checklistState || [],
                    data_criacao: produto.dataCriacao,
                    texto_longo_fase1: produto.textoLongoFase1,
                    texto_longo_fase2: produto.textoLongoFase2,
                    texto_longo_fase3: produto.textoLongoFase3,
                    texto_longo_fase4: produto.textoLongoFase4,
                    last_synced_at: new Date().toISOString()
                };
                
                let cloudId;
                
                if (existing) {
                    const { data, error } = await supabaseClient
                        .from('infoprodutos')
                        .update(produtoData)
                        .eq('id', existing.id)
                        .select()
                        .single();
                    
                    if (error) throw error;
                    cloudId = data.id;
                } else {
                    const { data, error } = await supabaseClient
                        .from('infoprodutos')
                        .insert(produtoData)
                        .select()
                        .single();
                    
                    if (error) throw error;
                    cloudId = data.id;
                }
                
                if (produto.links && produto.links.length > 0) {
                    await syncLinks(cloudId, produto.links);
                }
                
                if (produto.arquivos && produto.arquivos.length > 0) {
                    await syncArquivos(cloudId, produto.arquivos);
                }
                
                if (produto.galeria && produto.galeria.length > 0) {
                    await syncGaleria(cloudId, produto.galeria);
                }
                
            } catch (error) {
                console.error(`‚ùå Erro ao sincronizar "${produto.nome}":`, error);
            }
        }

        // Sincronizar links
        async function syncLinks(infoprodutoId, links) {
            if (!supabaseClient || !currentUserId) return;
            
            try {
                await supabaseClient
                    .from('infoproduto_links')
                    .delete()
                    .eq('infoproduto_id', infoprodutoId);
                
                if (links.length > 0) {
                    const linksData = links.map((link, index) => ({
                        infoproduto_id: infoprodutoId,
                        user_id: currentUserId,
                        categoria: link.categoria,
                        titulo: link.titulo,
                        url: link.url,
                        ordem: index
                    }));
                    
                    await supabaseClient
                        .from('infoproduto_links')
                        .insert(linksData);
                }
            } catch (error) {
                console.error('‚ùå Erro ao sincronizar links:', error);
            }
        }

        // Sincronizar arquivos
        async function syncArquivos(infoprodutoId, arquivos) {
            if (!supabaseClient || !currentUserId) return;
            
            try {
                await supabaseClient
                    .from('infoproduto_arquivos')
                    .delete()
                    .eq('infoproduto_id', infoprodutoId);
                
                if (arquivos.length > 0) {
                    const arquivosData = arquivos.map((arquivo, index) => ({
                        infoproduto_id: infoprodutoId,
                        user_id: currentUserId,
                        name: arquivo.name,
                        size: arquivo.size,
                        type: arquivo.type,
                        data: arquivo.data,
                        icon: arquivo.icon,
                        ordem: index
                    }));
                    
                    await supabaseClient
                        .from('infoproduto_arquivos')
                        .insert(arquivosData);
                }
            } catch (error) {
                console.error('‚ùå Erro ao sincronizar arquivos:', error);
            }
        }

        // Sincronizar galeria
        async function syncGaleria(infoprodutoId, galeria) {
            if (!supabaseClient || !currentUserId) return;
            
            try {
                await supabaseClient
                    .from('infoproduto_galeria')
                    .delete()
                    .eq('infoproduto_id', infoprodutoId);
                
                if (galeria.length > 0) {
                    const galeriaData = galeria.map((imagem, index) => ({
                        infoproduto_id: infoprodutoId,
                        user_id: currentUserId,
                        data: imagem.data,
                        name: imagem.name,
                        ordem: index
                    }));
                    
                    await supabaseClient
                        .from('infoproduto_galeria')
                        .insert(galeriaData);
                }
            } catch (error) {
                console.error('‚ùå Erro ao sincronizar galeria:', error);
            }
        }

        // Adicionar listener para comandos de sincroniza√ß√£o
        window.addEventListener('message', function(event) {
            const message = event.data;
            
            switch(message.type) {
                case 'INIT_SUPABASE':
                    initSupabase(message.url, message.key, message.userId);
                    break;
                    
                case 'SYNC_NOW':
                    syncAllData();
                    break;
                    
                case 'PUSH_PRODUTO':
                    if (message.produto) {
                        pushProdutoToCloud(message.produto);
                    }
                    break;
            }
        });

        // Hook StorageManager para sincronizar automaticamente
        const _originalAddProduto = StorageManager.addProduto;
        StorageManager.addProduto = function(produto) {
            const result = _originalAddProduto.call(this, produto);
            
            if (SUPABASE_CONFIG.initialized && navigator.onLine) {
                setTimeout(() => pushProdutoToCloud(produto), 1000);
            }
            
            return result;
        };

        const _originalUpdateProduto = StorageManager.updateProduto;
        StorageManager.updateProduto = function(id, updates) {
            const result = _originalUpdateProduto.call(this, id, updates);
            
            if (SUPABASE_CONFIG.initialized && navigator.onLine) {
                const produto = StorageManager.getProdutoById(id);
                if (produto) {
                    setTimeout(() => pushProdutoToCloud(produto), 1000);
                }
            }
            
            return result;
        };

        console.log('‚úÖ Sistema de Sincroniza√ß√£o Supabase carregado!');
        console.log('‚òÅÔ∏è Aguardando inicializa√ß√£o do Quartel General...');
    </script>
</body>
</html>
